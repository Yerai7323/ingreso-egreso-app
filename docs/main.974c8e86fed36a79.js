var C6=Object.defineProperty,I6=Object.defineProperties,D6=Object.getOwnPropertyDescriptors,HN=Object.getOwnPropertySymbols,T6=Object.prototype.hasOwnProperty,x6=Object.prototype.propertyIsEnumerable,$N=(ce,G,O)=>G in ce?C6(ce,G,{enumerable:!0,configurable:!0,writable:!0,value:O}):ce[G]=O,nO=(ce,G)=>{for(var O in G||(G={}))T6.call(G,O)&&$N(ce,O,G[O]);if(HN)for(var O of HN(G))x6.call(G,O)&&$N(ce,O,G[O]);return ce},rO=(ce,G)=>I6(ce,D6(G));(self.webpackChunkingresoEgresoApp=self.webpackChunkingresoEgresoApp||[]).push([[179],{2011:(ce,G,O)=>{"use strict";O.d(G,{hO:()=>Oe,xv:()=>Y,Dh:()=>ne,GT:()=>ue,cc:()=>Ae,on:()=>$,pX:()=>W});var p=O(5e3),q=O(127),F=O(6351);ce=O.hmd(ce);const oe=["ngOnDestroy"],W=(me,Pe,je,ve={})=>new Proxy(me,{get:(Ie,ke)=>je.runOutsideAngular(()=>{var ot;if(me[ke])return(null===(ot=null==ve?void 0:ve.spy)||void 0===ot?void 0:ot.get)&&ve.spy.get(ke,me[ke]),me[ke];if(oe.indexOf(ke)>-1)return()=>{};const ie=Pe.toPromise().then(we=>{const de=we&&we[ke];return"function"==typeof de?de.bind(we):de&&de.then?de.then(De=>je.run(()=>De)):je.run(()=>de)});return new Proxy(()=>{},{get:(we,de)=>ie[de],apply:(we,de,De)=>ie.then(Se=>{var _e;const Qe=Se&&Se(...De);return(null===(_e=null==ve?void 0:ve.spy)||void 0===_e?void 0:_e.apply)&&ve.spy.apply(ke,De,Qe),Qe})})})}),ue=(me,Pe)=>{Pe.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(ve=>{Object.defineProperty(me.prototype,ve,Object.getOwnPropertyDescriptor(je.prototype||je,ve))})})};class re{constructor(Pe){return Pe}}const ne=new p.OlP("angularfire2.app.options"),Y=new p.OlP("angularfire2.app.name");function $(me,Pe,je){const Ie="object"==typeof je&&je||{};Ie.name=Ie.name||"string"==typeof je&&je||"[DEFAULT]";const ot=q.Z.apps.filter(ie=>ie&&ie.name===Ie.name)[0]||Pe.runOutsideAngular(()=>q.Z.initializeApp(me,Ie));try{JSON.stringify(me)!==JSON.stringify(ot.options)&&z("error",`${ot.name} Firebase App already initialized with different options${ce.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new re(ot)}const z=(me,...Pe)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[me](...Pe)},J={provide:re,useFactory:$,deps:[ne,p.R0b,[new p.FiY,Y]]};let Oe=(()=>{class me{constructor(je){q.Z.registerVersion("angularfire",F.q4.full,"core"),q.Z.registerVersion("angularfire",F.q4.full,"app-compat"),q.Z.registerVersion("angular",p.q4F.full,je.toString())}static initializeApp(je,ve){return{ngModule:me,providers:[{provide:ne,useValue:je},{provide:Y,useValue:ve}]}}}return me.\u0275fac=function(je){return new(je||me)(p.LFG(p.Lbi))},me.\u0275mod=p.oAB({type:me}),me.\u0275inj=p.cJS({providers:[J]}),me})();function Ae(me,Pe,je,ve,Ie){const[,ke,ot]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===me)||[];if(ke)return function Ue(me,Pe){try{return me.toString()===Pe.toString()}catch(je){return me===Pe}}(Ie,ot)||(ae("error",`${Pe} was already initialized on the ${je} Firebase App with different settings.${Ke?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:Ie,was:ot})),ke;{const ie=ve();return globalThis.\u0275AngularfireInstanceCache.push([me,ie,Ie]),ie}}const Ke=!!ce.hot,ae=(me,...Pe)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[me](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ce,G,O)=>{"use strict";O.d(G,{q4:()=>Dg,iC:()=>Su,HU:()=>Fd,vb:()=>Nc,JM:()=>sn});var p=O(5e3),q=O(5867),F=O(5861),oe=O(9681),W=O(2090),ue=O(4859),re=O(1877),ne=O(2940);const Y="@firebase/installations",$="0.5.5",J=`w:${$}`,Oe="FIS_v2",Pe=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(A){return A instanceof W.ZR&&A.code.includes("request-failed")}function ve({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ie(A){return{token:A.token,requestStatus:2,expiresIn:Se(A.expiresIn),creationTime:Date.now()}}function ke(A,M){return ot.apply(this,arguments)}function ot(){return(ot=(0,F.Z)(function*(A,M){const K=(yield M.json()).error;return Pe.create("request-failed",{requestName:A,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function ie({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function we(A,{refreshToken:M}){const V=ie(A);return V.append("Authorization",function _e(A){return`${Oe} ${A}`}(M)),V}function de(A){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(A){const M=yield A();return M.status>=500&&M.status<600?A():M})).apply(this,arguments)}function Se(A){return Number(A.replace("s","000"))}function Qe(A,M){return Me.apply(this,arguments)}function Me(){return(Me=(0,F.Z)(function*(A,{fid:M}){const V=ve(A),xe={method:"POST",headers:ie(A),body:JSON.stringify({fid:M,authVersion:Oe,appId:A.appId,sdkVersion:J})},tt=yield de(()=>fetch(V,xe));if(tt.ok){const ft=yield tt.json();return{fid:ft.fid||M,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ie(ft.authToken)}}throw yield ke("Create Installation",tt)})).apply(this,arguments)}function kt(A){return new Promise(M=>{setTimeout(M,A)})}const er=/^[cdef][\w-]{21}$/;function Dt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const V=function pn(A){return function an(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return er.test(V)?V:""}catch(A){return""}}function ln(A){return`${A.appName}!${A.appId}`}const Tn=new Map;function tn(A,M){const V=ln(A);Wt(V,M),function Jr(A,M){const V=function jn(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=A=>{Wt(A.data.key,A.data.fid)}),ei}();V&&V.postMessage({key:A,fid:M}),function nr(){0===Tn.size&&ei&&(ei.close(),ei=null)}()}(V,M)}function Wt(A,M){const V=Tn.get(A);if(V)for(const K of V)K(M)}let ei=null;const cr="firebase-installations-store";let vn=null;function Et(){return vn||(vn=(0,ne.openDb)("firebase-installations-database",1,A=>{0===A.oldVersion&&A.createObjectStore(cr)})),vn}function Fr(A,M){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(A,M){const V=ln(A),ye=(yield Et()).transaction(cr,"readwrite"),xe=ye.objectStore(cr),tt=yield xe.get(V);return yield xe.put(M,V),yield ye.complete,(!tt||tt.fid!==M.fid)&&tn(A,M.fid),M})).apply(this,arguments)}function Fn(A){return is.apply(this,arguments)}function is(){return(is=(0,F.Z)(function*(A){const M=ln(A),K=(yield Et()).transaction(cr,"readwrite");yield K.objectStore(cr).delete(M),yield K.complete})).apply(this,arguments)}function mr(A,M){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,F.Z)(function*(A,M){const V=ln(A),ye=(yield Et()).transaction(cr,"readwrite"),xe=ye.objectStore(cr),tt=yield xe.get(V),ft=M(tt);return void 0===ft?yield xe.delete(V):yield xe.put(ft,V),yield ye.complete,ft&&(!tt||tt.fid!==ft.fid)&&tn(A,ft.fid),ft})).apply(this,arguments)}function dn(A){return qn.apply(this,arguments)}function qn(){return(qn=(0,F.Z)(function*(A){let M;const V=yield mr(A,K=>{const ye=Wr(K),xe=Nt(A,ye);return M=xe.registrationPromise,xe.installationEntry});return""===V.fid?{installationEntry:yield M}:{installationEntry:V,registrationPromise:M}})).apply(this,arguments)}function Wr(A){return fi(A||{fid:Dt(),registrationStatus:0})}function Nt(A,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Pe.create("app-offline"))};const V={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},K=function ct(A,M){return Mt.apply(this,arguments)}(A,V);return{installationEntry:V,registrationPromise:K}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:rr(A)}:{installationEntry:M}}function Mt(){return(Mt=(0,F.Z)(function*(A,M){try{return Fr(A,yield Qe(A,M))}catch(V){throw je(V)&&409===V.customData.serverCode?yield Fn(A):yield Fr(A,{fid:M.fid,registrationStatus:0}),V}})).apply(this,arguments)}function rr(A){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,F.Z)(function*(A){let M=yield Yt(A);for(;1===M.registrationStatus;)yield kt(100),M=yield Yt(A);if(0===M.registrationStatus){const{installationEntry:V,registrationPromise:K}=yield dn(A);return K||V}return M})).apply(this,arguments)}function Yt(A){return mr(A,M=>{if(!M)throw Pe.create("installation-not-found");return fi(M)})}function fi(A){return function yr(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function ur(A,M){return Q.apply(this,arguments)}function Q(){return(Q=(0,F.Z)(function*({appConfig:A,platformLoggerProvider:M},V){const K=se(A,V),ye=we(A,V),xe=M.getImmediate({optional:!0});xe&&ye.append("x-firebase-client",xe.getPlatformInfoString());const ft={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:J}})},mt=yield de(()=>fetch(K,ft));if(mt.ok)return Ie(yield mt.json());throw yield ke("Generate Auth Token",mt)})).apply(this,arguments)}function se(A,{fid:M}){return`${ve(A)}/${M}/authTokens:generate`}function le(A){return be.apply(this,arguments)}function be(){return(be=(0,F.Z)(function*(A,M=!1){let V;const K=yield mr(A.appConfig,xe=>{if(!gt(xe))throw Pe.create("not-registered");const tt=xe.authToken;if(!M&&zt(tt))return xe;if(1===tt.requestStatus)return V=Ee(A,M),xe;{if(!navigator.onLine)throw Pe.create("app-offline");const ft=gn(xe);return V=He(A,ft),ft}});return V?yield V:K.authToken})).apply(this,arguments)}function Ee(A,M){return dt.apply(this,arguments)}function dt(){return(dt=(0,F.Z)(function*(A,M){let V=yield ze(A.appConfig);for(;1===V.authToken.requestStatus;)yield kt(100),V=yield ze(A.appConfig);const K=V.authToken;return 0===K.requestStatus?le(A,M):K})).apply(this,arguments)}function ze(A){return mr(A,M=>{if(!gt(M))throw Pe.create("not-registered");return function Ln(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function He(A,M){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(A,M){try{const V=yield ur(A,M),K=Object.assign(Object.assign({},M),{authToken:V});return yield Fr(A.appConfig,K),V}catch(V){if(!je(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const K=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Fr(A.appConfig,K)}else yield Fn(A.appConfig);throw V}})).apply(this,arguments)}function gt(A){return void 0!==A&&2===A.registrationStatus}function zt(A){return 2===A.requestStatus&&!function Tt(A){const M=Date.now();return M<A.creationTime||A.creationTime+A.expiresIn<M+36e5}(A)}function gn(A){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:M})}function ao(){return(ao=(0,F.Z)(function*(A){const M=A,{installationEntry:V,registrationPromise:K}=yield dn(M.appConfig);return K?K.catch(console.error):le(M).catch(console.error),V.fid})).apply(this,arguments)}function Wi(){return(Wi=(0,F.Z)(function*(A,M=!1){const V=A;return yield zn(V.appConfig),(yield le(V,M)).token})).apply(this,arguments)}function zn(A){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,F.Z)(function*(A){const{registrationPromise:M}=yield dn(A);M&&(yield M)})).apply(this,arguments)}function Gs(A){return Pe.create("missing-app-config-values",{valueName:A})}const Br="installations",qt=A=>{const M=A.getProvider("app").getImmediate(),V=function xt(A){if(!A||!A.options)throw Gs("App Configuration");if(!A.name)throw Gs("App Name");const M=["projectId","apiKey","appId"];for(const V of M)if(!A.options[V])throw Gs(V);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(M);return{app:M,appConfig:V,platformLoggerProvider:(0,oe._getProvider)(M,"platform-logger"),_delete:()=>Promise.resolve()}},wn=A=>{const M=A.getProvider("app").getImmediate(),V=(0,oe._getProvider)(M,Br).getImmediate();return{getId:()=>function oo(A){return ao.apply(this,arguments)}(V),getToken:ye=>function Lo(A){return Wi.apply(this,arguments)}(V,ye)}};(function Ur(){(0,oe._registerComponent)(new ue.wA(Br,qt,"PUBLIC")),(0,oe._registerComponent)(new ue.wA("installations-internal",wn,"PRIVATE"))})(),(0,oe.registerVersion)(Y,$),(0,oe.registerVersion)(Y,$,"esm2017");const gi="@firebase/remote-config",Hn=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _l{constructor(M,V,K,ye){this.client=M,this.storage=V,this.storageCache=K,this.logger=ye}isCachedDataFresh(M,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-V,ye=K<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${ye}.`),ye}fetch(M){var V=this;return(0,F.Z)(function*(){const[K,ye]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(ye&&V.isCachedDataFresh(M.cacheMaxAgeMillis,K))return ye;M.eTag=ye&&ye.eTag;const xe=yield V.client.fetch(M),tt=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&tt.push(V.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(tt),xe})()}}function la(A=navigator){return A.languages&&A.languages[0]||A.language}class dr{constructor(M,V,K,ye,xe,tt){this.firebaseInstallations=M,this.sdkVersion=V,this.namespace=K,this.projectId=ye,this.apiKey=xe,this.appId=tt}fetch(M){var V=this;return(0,F.Z)(function*(){const[K,ye]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},mt={sdk_version:V.sdkVersion,app_instance_id:K,app_instance_id_token:ye,app_id:V.appId,language_code:la()},en={method:"POST",headers:ft,body:JSON.stringify(mt)},mn=fetch(tt,en),Vt=new Promise((Bs,Jo)=>{M.signal.addEventListener(()=>{const Ya=new Error("The operation was aborted.");Ya.name="AbortError",Jo(Ya)})});let yn;try{yield Promise.race([mn,Vt]),yn=yield mn}catch(Bs){let Jo="fetch-client-network";throw"AbortError"===Bs.name&&(Jo="fetch-timeout"),Hn.create(Jo,{originalErrorMessage:Bs.message})}let jr=yn.status;const fs=yn.headers.get("ETag")||void 0;let Bl,ps;if(200===yn.status){let Bs;try{Bs=yield yn.json()}catch(Jo){throw Hn.create("fetch-client-parse",{originalErrorMessage:Jo.message})}Bl=Bs.entries,ps=Bs.state}if("INSTANCE_STATE_UNSPECIFIED"===ps?jr=500:"NO_CHANGE"===ps?jr=304:("NO_TEMPLATE"===ps||"EMPTY_CONFIG"===ps)&&(Bl={}),304!==jr&&200!==jr)throw Hn.create("fetch-status",{httpStatus:jr});return{status:jr,eTag:fs,config:Bl}})()}}class As{constructor(M,V){this.client=M,this.storage=V}fetch(M){var V=this;return(0,F.Z)(function*(){const K=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(M,K)})()}attemptFetch(M,{throttleEndTimeMillis:V,backoffCount:K}){var ye=this;return(0,F.Z)(function*(){yield function dc(A,M){return new Promise((V,K)=>{const ye=Math.max(M-Date.now(),0),xe=setTimeout(V,ye);A.addEventListener(()=>{clearTimeout(xe),K(Hn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,V);try{const xe=yield ye.client.fetch(M);return yield ye.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Td(A){if(!(A instanceof W.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}(xe))throw xe;const tt={throttleEndTimeMillis:Date.now()+(0,W.$s)(K),backoffCount:K+1};return yield ye.storage.setThrottleMetadata(tt),ye.attemptFetch(M,tt)}})()}}class Ad{constructor(M,V,K,ye,xe){this.app=M,this._client=V,this._storageCache=K,this._storage=ye,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ca(A,M){const V=A.target.error||void 0;return Hn.create(M,{originalErrorMessage:V&&V.message})}const Pi="app_namespace_store";class fc{constructor(M,V,K,ye=function Md(){return new Promise((A,M)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=K=>{M(ca(K,"storage-open"))},V.onsuccess=K=>{A(K.target.result)},V.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(Pi,{keyPath:"compositeKey"})}}catch(V){M(Hn.create("storage-open",{originalErrorMessage:V}))}})}()){this.appId=M,this.appName=V,this.namespace=K,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var V=this;return(0,F.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ye,xe)=>{const ft=K.transaction([Pi],"readonly").objectStore(Pi),mt=V.createCompositeKey(M);try{const en=ft.get(mt);en.onerror=mn=>{xe(ca(mn,"storage-get"))},en.onsuccess=mn=>{const Vt=mn.target.result;ye(Vt?Vt.value:void 0)}}catch(en){xe(Hn.create("storage-get",{originalErrorMessage:en&&en.message}))}})})()}set(M,V){var K=this;return(0,F.Z)(function*(){const ye=yield K.openDbPromise;return new Promise((xe,tt)=>{const mt=ye.transaction([Pi],"readwrite").objectStore(Pi),en=K.createCompositeKey(M);try{const mn=mt.put({compositeKey:en,value:V});mn.onerror=Vt=>{tt(ca(Vt,"storage-set"))},mn.onsuccess=()=>{xe()}}catch(mn){tt(Hn.create("storage-set",{originalErrorMessage:mn&&mn.message}))}})})()}delete(M){var V=this;return(0,F.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ye,xe)=>{const ft=K.transaction([Pi],"readwrite").objectStore(Pi),mt=V.createCompositeKey(M);try{const en=ft.delete(mt);en.onerror=mn=>{xe(ca(mn,"storage-delete"))},en.onsuccess=()=>{ye()}}catch(en){xe(Hn.create("storage-delete",{originalErrorMessage:en&&en.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Vo{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,F.Z)(function*(){const V=M.storage.getLastFetchStatus(),K=M.storage.getLastSuccessfulFetchTimestampMillis(),ye=M.storage.getActiveConfig(),xe=yield V;xe&&(M.lastFetchStatus=xe);const tt=yield K;tt&&(M.lastSuccessfulFetchTimestampMillis=tt);const ft=yield ye;ft&&(M.activeConfig=ft)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function nf(){return ua.apply(this,arguments)}function ua(){return(ua=(0,F.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Od(){(0,oe._registerComponent)(new ue.wA("remote-config",function A(M,{instanceIdentifier:V}){const K=M.getProvider("app").getImmediate(),ye=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Hn.create("registration-window");if(!(0,W.hl)())throw Hn.create("indexed-db-unavailable");const{projectId:xe,apiKey:tt,appId:ft}=K.options;if(!xe)throw Hn.create("registration-project-id");if(!tt)throw Hn.create("registration-api-key");if(!ft)throw Hn.create("registration-app-id");const mt=new fc(ft,K.name,V=V||"firebase"),en=new Vo(mt),mn=new re.Yd(gi);mn.logLevel=re.in.ERROR;const Vt=new dr(ye,oe.SDK_VERSION,V,xe,tt,ft),yn=new As(Vt,mt),jr=new _l(yn,mt,en,mn),fs=new Ad(K,jr,en,mt,mn);return function bt(A){const M=(0,W.m9)(A);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(gi,"0.3.4"),(0,oe.registerVersion)(gi,"0.3.4","esm2017")}();const qs="/firebase-messaging-sw.js",Ri="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",co="google.c.a.c_id",pc="google.c.a.c_l",vu="google.c.a.ts",uo="google.c.a.e";var Os=(()=>{return(A=Os||(Os={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Os;var A})();function xr(A){const M=new Uint8Array(A);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mc(A){const V=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(V),ye=new Uint8Array(K.length);for(let xe=0;xe<K.length;++xe)ye[xe]=K.charCodeAt(xe);return ye}const qr="fcm_token_details_db",yc="fcm_token_object_Store";function _c(A){return Va.apply(this,arguments)}function Va(){return Va=(0,F.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(qr))return null;let M=null;return(yield(0,ne.openDb)(qr,5,function(){var K=(0,F.Z)(function*(ye){var xe;if(ye.oldVersion<2||!ye.objectStoreNames.contains(yc))return;const tt=ye.transaction.objectStore(yc),ft=yield tt.index("fcmSenderId").get(A);if(yield tt.clear(),ft)if(2===ye.oldVersion){const mt=ft;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;M={token:mt.fcmToken,createTime:null!==(xe=mt.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:xr(mt.vapidKey)}}}else if(3===ye.oldVersion){const mt=ft;M={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:xr(mt.auth),p256dh:xr(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:xr(mt.vapidKey)}}}else if(4===ye.oldVersion){const mt=ft;M={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:xr(mt.auth),p256dh:xr(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:xr(mt.vapidKey)}}}});return function(ye){return K.apply(this,arguments)}}())).close(),yield(0,ne.deleteDb)(qr),yield(0,ne.deleteDb)("fcm_vapid_details_db"),yield(0,ne.deleteDb)("undefined"),Ba(M)?M:null}),Va.apply(this,arguments)}function Ba(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:M}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const qi="firebase-messaging-store";let ja=null;function xn(){return ja||(ja=(0,ne.openDb)("firebase-messaging-database",1,A=>{0===A.oldVersion&&A.createObjectStore(qi)})),ja}function da(A){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,F.Z)(function*(A){const M=Ar(A),K=yield(yield xn()).transaction(qi).objectStore(qi).get(M);if(K)return K;{const ye=yield _c(A.appConfig.senderId);if(ye)return yield hn(A,ye),ye}})).apply(this,arguments)}function hn(A,M){return ha.apply(this,arguments)}function ha(){return(ha=(0,F.Z)(function*(A,M){const V=Ar(A),ye=(yield xn()).transaction(qi,"readwrite");return yield ye.objectStore(qi).put(M,V),yield ye.complete,M})).apply(this,arguments)}function fa(A){return os.apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(A){const M=Ar(A),K=(yield xn()).transaction(qi,"readwrite");yield K.objectStore(qi).delete(M),yield K.complete})).apply(this,arguments)}function Ar({appConfig:A}){return A.appId}const Zn=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(A,M){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,F.Z)(function*(A,M){const V=yield Zs(A),K=pa(M),ye={method:"POST",headers:V,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(Ps(A.appConfig),ye)).json()}catch(tt){throw Zn.create("token-subscribe-failed",{errorInfo:tt})}if(xe.error)throw Zn.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw Zn.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Uo(A,M){return as.apply(this,arguments)}function as(){return(as=(0,F.Z)(function*(A,M){const V=yield Zs(A),K=pa(M.subscriptionOptions),ye={method:"PATCH",headers:V,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(`${Ps(A.appConfig)}/${M.token}`,ye)).json()}catch(tt){throw Zn.create("token-update-failed",{errorInfo:tt})}if(xe.error)throw Zn.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw Zn.create("token-update-no-token");return xe.token})).apply(this,arguments)}function $a(A,M){return ni.apply(this,arguments)}function ni(){return(ni=(0,F.Z)(function*(A,M){const K={method:"DELETE",headers:yield Zs(A)};try{const xe=yield(yield fetch(`${Ps(A.appConfig)}/${M}`,K)).json();if(xe.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ye){throw Zn.create("token-unsubscribe-failed",{errorInfo:ye})}})).apply(this,arguments)}function Ps({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Zs(A){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,F.Z)(function*({appConfig:A,installations:M}){const V=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function pa({p256dh:A,auth:M,endpoint:V,vapidKey:K}){const ye={web:{endpoint:V,auth:M,p256dh:A}};return K!==Ms&&(ye.web.applicationPubKey=K),ye}const ga=6048e5;function vc(A){return ma.apply(this,arguments)}function ma(){return(ma=(0,F.Z)(function*(A){const M=yield $n(A.swRegistration,A.vapidKey),V={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:M.endpoint,auth:xr(M.getKey("auth")),p256dh:xr(M.getKey("p256dh"))},K=yield da(A.firebaseDependencies);if(K){if(_a(K.subscriptionOptions,V))return Date.now()>=K.createTime+ga?bu(A,{token:K.token,createTime:Date.now(),subscriptionOptions:V}):K.token;try{yield $a(A.firebaseDependencies,K.token)}catch(ye){console.warn(ye)}return Jt(A.firebaseDependencies,V)}return Jt(A.firebaseDependencies,V)})).apply(this,arguments)}function wl(A){return ya.apply(this,arguments)}function ya(){return(ya=(0,F.Z)(function*(A){const M=yield da(A.firebaseDependencies);M&&(yield $a(A.firebaseDependencies,M.token),yield fa(A.firebaseDependencies));const V=yield A.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function bu(A,M){return We.apply(this,arguments)}function We(){return(We=(0,F.Z)(function*(A,M){try{const V=yield Uo(A.firebaseDependencies,M),K=Object.assign(Object.assign({},M),{token:V,createTime:Date.now()});return yield hn(A.firebaseDependencies,K),V}catch(V){throw yield wl(A),V}})).apply(this,arguments)}function Jt(A,M){return jo.apply(this,arguments)}function jo(){return(jo=(0,F.Z)(function*(A,M){const K={token:yield mi(A,M),createTime:Date.now(),subscriptionOptions:M};return yield hn(A,K),K.token})).apply(this,arguments)}function $n(A,M){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,F.Z)(function*(A,M){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mc(M)})})).apply(this,arguments)}function _a(A,M){return M.vapidKey===A.vapidKey&&M.endpoint===A.endpoint&&M.auth===A.auth&&M.p256dh===A.p256dh}function ri(A){const M={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function El(A,M){if(!M.notification)return;A.notification={};const V=M.notification.title;V&&(A.notification.title=V);const K=M.notification.body;K&&(A.notification.body=K);const ye=M.notification.image;ye&&(A.notification.image=ye)}(M,A),function za(A,M){!M.data||(A.data=M.data)}(M,A),function bc(A,M){if(!M.fcmOptions)return;A.fcmOptions={};const V=M.fcmOptions.link;V&&(A.fcmOptions.link=V);const K=M.fcmOptions.analytics_label;K&&(A.fcmOptions.analyticsLabel=K)}(M,A),M}function Ga(A){return"object"==typeof A&&!!A&&co in A}function Ho(A,M){const V=[];for(let K=0;K<A.length;K++)V.push(A.charAt(K)),K<M.length&&V.push(M.charAt(K));return V.join("")}function or(A){return Zn.create("missing-app-config-values",{valueName:A})}Ho("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ho("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ki{constructor(M,V,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function ho(A){if(!A||!A.options)throw or("App Configuration Object");if(!A.name)throw or("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:V}=A;for(const K of M)if(!V[K])throw or(K);return{appName:A.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:ye,installations:V,analyticsProvider:K}}_delete(){return Promise.resolve()}}function Cl(A){return ls.apply(this,arguments)}function ls(){return(ls=(0,F.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(qs,{scope:Ri}),A.swRegistration.update().catch(()=>{})}catch(M){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function ki(A,M){return va.apply(this,arguments)}function va(){return(va=(0,F.Z)(function*(A,M){if(!M&&!A.swRegistration&&(yield Cl(A)),M||!A.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");A.swRegistration=M}})).apply(this,arguments)}function wc(A,M){return ba.apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(A,M){M?A.vapidKey=M:A.vapidKey||(A.vapidKey=Ms)})).apply(this,arguments)}function Ys(){return(Ys=(0,F.Z)(function*(A,M){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield wc(A,null==M?void 0:M.vapidKey),yield ki(A,null==M?void 0:M.serviceWorkerRegistration),vc(A)})).apply(this,arguments)}function Il(A,M,V){return wa.apply(this,arguments)}function wa(){return(wa=(0,F.Z)(function*(A,M,V){const K=Dl(M);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:V[co],message_name:V[pc],message_time:V[vu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dl(A){switch(A){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ea(){return(Ea=(0,F.Z)(function*(A,M){const V=M.data;if(!V.isFirebaseMessaging)return;A.onMessageHandler&&V.messageType===Os.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(ri(V)):A.onMessageHandler.next(ri(V)));const K=V.data;Ga(K)&&"1"===K[uo]&&(yield Il(A,V.messageType,K))})).apply(this,arguments)}const fo="@firebase/messaging",po=A=>{const M=new Ki(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Cc(A,M){return Ea.apply(this,arguments)}(M,V)),M},Ic=A=>{const M=A.getProvider("messaging").getImmediate();return{getToken:K=>function Ec(A,M){return Ys.apply(this,arguments)}(M,K)}};function $o(){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(){try{yield(0,W.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wu(){(0,oe._registerComponent)(new ue.wA("messaging",po,"PUBLIC")),(0,oe._registerComponent)(new ue.wA("messaging-internal",Ic,"PRIVATE")),(0,oe.registerVersion)(fo,"0.9.9"),(0,oe.registerVersion)(fo,"0.9.9","esm2017")}();const xc="analytics",xl="firebase_id",Al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wa="https://www.googletagmanager.com/gtag/js",Or=new re.Yd("@firebase/analytics");function Sl(A){return Promise.all(A.map(M=>M.catch(V=>V)))}function ii(A,M){const V=document.createElement("script");V.src=`${Wa}?l=${A}&id=${M}`,V.async=!0,document.head.appendChild(V)}function Pd(A,M,V,K,ye,xe){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,F.Z)(function*(A,M,V,K,ye,xe){const tt=K[ye];try{if(tt)yield M[tt];else{const mt=(yield Sl(V)).find(en=>en.measurementId===ye);mt&&(yield M[mt.appId])}}catch(ft){Or.error(ft)}A("config",ye,xe)})).apply(this,arguments)}function Ia(A,M,V,K,ye){return qa.apply(this,arguments)}function qa(){return(qa=(0,F.Z)(function*(A,M,V,K,ye){try{let xe=[];if(ye&&ye.send_to){let tt=ye.send_to;Array.isArray(tt)||(tt=[tt]);const ft=yield Sl(V);for(const mt of tt){const en=ft.find(Vt=>Vt.measurementId===mt),mn=en&&M[en.appId];if(!mn){xe=[];break}xe.push(mn)}}0===xe.length&&(xe=Object.values(M)),yield Promise.all(xe),A("event",K,ye||{})}catch(xe){Or.error(xe)}})).apply(this,arguments)}function Ka(){const A=window.document.getElementsByTagName("script");for(const M of Object.values(A))if(M.src&&M.src.includes(Wa))return M;return null}const D=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_t=new class qe{constructor(M={},V=1e3){this.throttleMetadata=M,this.intervalMillis=V}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,V){this.throttleMetadata[M]=V}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Gn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function nn(A){return _r.apply(this,arguments)}function _r(){return(_r=(0,F.Z)(function*(A){var M;const{appId:V,apiKey:K}=A,ye={method:"GET",headers:Gn(K)},xe=Al.replace("{app-id}",V),tt=yield fetch(xe,ye);if(200!==tt.status&&304!==tt.status){let ft="";try{const mt=yield tt.json();(null===(M=mt.error)||void 0===M?void 0:M.message)&&(ft=mt.error.message)}catch(mt){}throw D.create("config-fetch-failed",{httpStatus:tt.status,responseMessage:ft})}return tt.json()})).apply(this,arguments)}function yi(A){return ds.apply(this,arguments)}function ds(){return(ds=(0,F.Z)(function*(A,M=_t,V){const{appId:K,apiKey:ye,measurementId:xe}=A.options;if(!K)throw D.create("no-app-id");if(!ye){if(xe)return{measurementId:xe,appId:K};throw D.create("no-api-key")}const tt=M.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new Ml;return setTimeout((0,F.Z)(function*(){ft.abort()}),void 0!==V?V:6e4),Ht({appId:K,apiKey:ye,measurementId:xe},tt,ft,M)})).apply(this,arguments)}function Ht(A,M,V){return kd.apply(this,arguments)}function kd(){return(kd=(0,F.Z)(function*(A,{throttleEndTimeMillis:M,backoffCount:V},K,ye=_t){const{appId:xe,measurementId:tt}=A;try{yield Nd(K,M)}catch(ft){if(tt)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${ft.message}]`),{appId:xe,measurementId:tt};throw ft}try{const ft=yield nn(A);return ye.deleteThrottleMetadata(xe),ft}catch(ft){if(!Ac(ft)){if(ye.deleteThrottleMetadata(xe),tt)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${ft.message}]`),{appId:xe,measurementId:tt};throw ft}const mt=503===Number(ft.customData.httpStatus)?(0,W.$s)(V,ye.intervalMillis,30):(0,W.$s)(V,ye.intervalMillis),en={throttleEndTimeMillis:Date.now()+mt,backoffCount:V+1};return ye.setThrottleMetadata(xe,en),Or.debug(`Calling attemptFetch again in ${mt} millis`),Ht(A,en,K,ye)}})).apply(this,arguments)}function Nd(A,M){return new Promise((V,K)=>{const ye=Math.max(M-Date.now(),0),xe=setTimeout(V,ye);A.addEventListener(()=>{clearTimeout(xe),K(D.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function Ac(A){if(!(A instanceof W.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Ml{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function Ol(){return _i.apply(this,arguments)}function _i(){return(_i=(0,F.Z)(function*(){if(!(0,W.hl)())return Or.warn(D.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(A){return Or.warn(D.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function Go(){return(Go=(0,F.Z)(function*(A,M,V,K,ye,xe,tt){var ft;const mt=yi(A);mt.then(jr=>{V[jr.measurementId]=jr.appId,A.options.measurementId&&jr.measurementId!==A.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${jr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jr=>Or.error(jr)),M.push(mt);const en=Ol().then(jr=>{if(jr)return K.getId()}),[mn,Vt]=yield Promise.all([mt,en]);Ka()||ii(xe,mn.measurementId),ye("js",new Date);const yn=null!==(ft=null==tt?void 0:tt.config)&&void 0!==ft?ft:{};return yn.origin="firebase",yn.update=!0,null!=Vt&&(yn[xl]=Vt),ye("config",mn.measurementId,yn),mn.measurementId})).apply(this,arguments)}class Sc{constructor(M){this.app=M}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},Mc=[];const Wo={};let Ta,Rl,Pl="dataLayer",kl=!1;function Za(A,M,V){!function Ns(){const A=[];if((0,W.ru)()&&A.push("This is a browser extension environment."),(0,W.zI)()||A.push("Cookies are not available."),A.length>0){const M=A.map((K,ye)=>`(${ye+1}) ${K}`).join(" "),V=D.create("invalid-analytics-context",{errorInfo:M});Or.warn(V.message)}}();const K=A.options.appId;if(!K)throw D.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw D.create("no-api-key");Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[K])throw D.create("already-exists",{id:K});if(!kl){!function zo(A){let M=[];Array.isArray(window[A])?M=window[A]:window[A]=M}(Pl);const{wrappedGtag:xe,gtagCore:tt}=function Rd(A,M,V,K,ye){let xe=function(...tt){window[K].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(xe=window[ye]),window[ye]=function Eu(A,M,V,K){function xe(){return(xe=(0,F.Z)(function*(tt,ft,mt){try{"event"===tt?yield Ia(A,M,V,ft,mt):"config"===tt?yield Pd(A,M,V,K,ft,mt):A("set",ft)}catch(en){Or.error(en)}})).apply(this,arguments)}return function ye(tt,ft,mt){return xe.apply(this,arguments)}}(xe,A,M,V),{gtagCore:xe,wrappedGtag:window[ye]}}(vi,Mc,Wo,Pl,"gtag");Rl=xe,Ta=tt,kl=!0}return vi[K]=function Da(A,M,V,K,ye,xe,tt){return Go.apply(this,arguments)}(A,Mc,Wo,M,Ta,Pl,V),new Sc(A)}function Ls(){return(Ls=(0,F.Z)(function*(A,M,V,K,ye){if(ye&&ye.global)A("event",V,K);else{const xe=yield M;A("event",V,Object.assign(Object.assign({},K),{send_to:xe}))}})).apply(this,arguments)}function Pc(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,F.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch(A){return!1}})).apply(this,arguments)}const Li="@firebase/analytics";!function Yo(){(0,oe._registerComponent)(new ue.wA(xc,(M,{options:V})=>Za(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,oe._registerComponent)(new ue.wA("analytics-internal",function A(M){try{const V=M.getProvider(xc).getImmediate();return{logEvent:(K,ye,xe)=>function Ni(A,M,V,K){A=(0,W.m9)(A),function Iu(A,M,V,K,ye){return Ls.apply(this,arguments)}(Rl,vi[A.app.options.appId],M,V,K).catch(ye=>Or.error(ye))}(V,K,ye,xe)}}catch(V){throw D.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,oe.registerVersion)(Li,"0.7.5"),(0,oe.registerVersion)(Li,"0.7.5","esm2017")}();var _o=O(233),kc=O(4986),ar=O(8505),Du=O(9468),xa=O(5363);const Dg=new p.GfV("7.2.1"),Ll="__angularfire_symbol__analyticsIsSupportedValue",Zr="__angularfire_symbol__analyticsIsSupported",Fi="__angularfire_symbol__remoteConfigIsSupportedValue",Fl="__angularfire_symbol__remoteConfigIsSupported",vo="__angularfire_symbol__messagingIsSupportedValue",Vs="__angularfire_symbol__messagingIsSupported";function sn(A,M,V){if(M){if(1===M.length)return M[0];const xe=M.filter(tt=>tt.app===V);if(1===xe.length)return xe[0]}return V.container.getProvider(A).getImmediate({optional:!0})}globalThis[Zr]||(globalThis[Zr]=Pc().then(A=>globalThis[Ll]=A).catch(()=>globalThis[Ll]=!1)),globalThis[Vs]||(globalThis[Vs]=$o().then(A=>globalThis[vo]=A).catch(()=>globalThis[vo]=!1)),globalThis[Fl]||(globalThis[Fl]=nf().then(A=>globalThis[Fi]=A).catch(()=>globalThis[Fi]=!1));const Nc=(A,M)=>{const V=M?[M]:(0,q.C6)(),K=[];return V.forEach(ye=>{ye.container.getProvider(A).instances.forEach(tt=>{K.includes(tt)||K.push(tt)})}),K};function Wn(){}class Vl{constructor(M,V=_o.N){this.zone=M,this.delegate=V}now(){return this.delegate.now()}schedule(M,V,K){const ye=this.zone;return this.delegate.schedule(function(tt){ye.runGuarded(()=>{M.apply(this,[tt])})},V,K)}}class Qo{constructor(M){this.zone=M,this.task=null}call(M,V){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wn,{},Wn,Wn)),V.pipe((0,ar.b)({next:K,complete:K,error:K})).subscribe(M).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fd=(()=>{class A{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=V.run(()=>new Vl(Zone.current,kc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(V){return new(V||A)(p.LFG(p.R0b))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Xo(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Su(A){return Xo(),function Lc(A){return function(V){return(V=V.lift(new Qo(A.ngZone))).pipe((0,Du.R)(A.outsideAngular),(0,xa.Q)(A.insideAngular))}}(Xo())(A)}},2090:(ce,G,O)=>{"use strict";O.d(G,{BH:()=>Oe,LL:()=>Me,ZR:()=>Qe,zI:()=>De,US:()=>ue,tV:()=>Y,h$:()=>re,$s:()=>Yt,r3:()=>tr,Sg:()=>Ae,ne:()=>vn,vZ:()=>ei,ZB:()=>z,pd:()=>hi,m9:()=>ur,z$:()=>Ue,jU:()=>me,ru:()=>Pe,d:()=>ve,xb:()=>Wt,w1:()=>Ie,hl:()=>we,uI:()=>Ke,UG:()=>ae,b$:()=>je,G6:()=>ie,Mn:()=>ke,xO:()=>nr,zd:()=>Lr,eu:()=>de});const oe=function(Q){const se=[];let le=0;for(let be=0;be<Q.length;be++){let Ee=Q.charCodeAt(be);Ee<128?se[le++]=Ee:Ee<2048?(se[le++]=Ee>>6|192,se[le++]=63&Ee|128):55296==(64512&Ee)&&be+1<Q.length&&56320==(64512&Q.charCodeAt(be+1))?(Ee=65536+((1023&Ee)<<10)+(1023&Q.charCodeAt(++be)),se[le++]=Ee>>18|240,se[le++]=Ee>>12&63|128,se[le++]=Ee>>6&63|128,se[le++]=63&Ee|128):(se[le++]=Ee>>12|224,se[le++]=Ee>>6&63|128,se[le++]=63&Ee|128)}return se},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,se){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let Ee=0;Ee<Q.length;Ee+=3){const dt=Q[Ee],ze=Ee+1<Q.length,He=ze?Q[Ee+1]:0,rt=Ee+2<Q.length,gt=rt?Q[Ee+2]:0;let gn=(15&He)<<2|gt>>6,Ln=63&gt;rt||(Ln=64,ze||(gn=64)),be.push(le[dt>>2],le[(3&dt)<<4|He>>4],le[gn],le[Ln])}return be.join("")},encodeString(Q,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(Q):this.encodeByteArray(oe(Q),se)},decodeString(Q,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(Q):function(Q){const se=[];let le=0,be=0;for(;le<Q.length;){const Ee=Q[le++];if(Ee<128)se[be++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const dt=Q[le++];se[be++]=String.fromCharCode((31&Ee)<<6|63&dt)}else if(Ee>239&&Ee<365){const rt=((7&Ee)<<18|(63&Q[le++])<<12|(63&Q[le++])<<6|63&Q[le++])-65536;se[be++]=String.fromCharCode(55296+(rt>>10)),se[be++]=String.fromCharCode(56320+(1023&rt))}else{const dt=Q[le++],ze=Q[le++];se[be++]=String.fromCharCode((15&Ee)<<12|(63&dt)<<6|63&ze)}}return se.join("")}(this.decodeStringToByteArray(Q,se))},decodeStringToByteArray(Q,se){this.init_();const le=se?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let Ee=0;Ee<Q.length;){const dt=le[Q.charAt(Ee++)],He=Ee<Q.length?le[Q.charAt(Ee)]:0;++Ee;const gt=Ee<Q.length?le[Q.charAt(Ee)]:64;++Ee;const Tt=Ee<Q.length?le[Q.charAt(Ee)]:64;if(++Ee,null==dt||null==He||null==gt||null==Tt)throw Error();be.push(dt<<2|He>>4),64!==gt&&(be.push(He<<4&240|gt>>2),64!==Tt&&be.push(gt<<6&192|Tt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},re=function(Q){const se=oe(Q);return ue.encodeByteArray(se,!0)},ne=function(Q){return re(Q).replace(/\./g,"")},Y=function(Q){try{return ue.decodeString(Q,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function z(Q,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return se}for(const le in se)!se.hasOwnProperty(le)||!J(le)||(Q[le]=z(Q[le],se[le]));return Q}function J(Q){return"__proto__"!==Q}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,le)=>{this.resolve=se,this.reject=le})}wrapCallback(se){return(le,be)=>{le?this.reject(le):this.resolve(be),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(le):se(le,be))}}}function Ae(Q,se){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=se||"demo-project",Ee=Q.iat||0,dt=Q.sub||Q.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(ze)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function me(){return"object"==typeof self&&self.self===self}function Pe(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ue().indexOf("Electron/")>=0}function Ie(){const Q=Ue();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function ke(){return Ue().indexOf("MSAppHost/")>=0}function ie(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function de(){return new Promise((Q,se)=>{try{let le=!0;const be="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(be);Ee.onsuccess=()=>{Ee.result.close(),le||self.indexedDB.deleteDatabase(be),Q(!0)},Ee.onupgradeneeded=()=>{le=!1},Ee.onerror=()=>{var dt;se((null===(dt=Ee.error)||void 0===dt?void 0:dt.message)||"")}}catch(le){se(le)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qe extends Error{constructor(se,le,be){super(le),this.code=se,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(se,le,be){this.service=se,this.serviceName=le,this.errors=be}create(se,...le){const be=le[0]||{},Ee=`${this.service}/${se}`,dt=this.errors[se],ze=dt?function kt(Q,se){return Q.replace(an,(le,be)=>{const Ee=se[be];return null!=Ee?String(Ee):`<${be}?>`})}(dt,be):"Error";return new Qe(Ee,`${this.serviceName}: ${ze} (${Ee}).`,be)}}const an=/\{\$([^}]+)}/g;function tr(Q,se){return Object.prototype.hasOwnProperty.call(Q,se)}function Wt(Q){for(const se in Q)if(Object.prototype.hasOwnProperty.call(Q,se))return!1;return!0}function ei(Q,se){if(Q===se)return!0;const le=Object.keys(Q),be=Object.keys(se);for(const Ee of le){if(!be.includes(Ee))return!1;const dt=Q[Ee],ze=se[Ee];if(jn(dt)&&jn(ze)){if(!ei(dt,ze))return!1}else if(dt!==ze)return!1}for(const Ee of be)if(!le.includes(Ee))return!1;return!0}function jn(Q){return null!==Q&&"object"==typeof Q}function nr(Q){const se=[];for(const[le,be]of Object.entries(Q))Array.isArray(be)?be.forEach(Ee=>{se.push(encodeURIComponent(le)+"="+encodeURIComponent(Ee))}):se.push(encodeURIComponent(le)+"="+encodeURIComponent(be));return se.length?"&"+se.join("&"):""}function Lr(Q){const se={};return Q.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[Ee,dt]=be.split("=");se[decodeURIComponent(Ee)]=decodeURIComponent(dt)}}),se}function hi(Q){const se=Q.indexOf("?");if(!se)return"";const le=Q.indexOf("#",se);return Q.substring(se,le>0?le:void 0)}function vn(Q,se){const le=new Et(Q,se);return le.subscribe.bind(le)}class Et{constructor(se,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{se(this)}).catch(be=>{this.error(be)})}next(se){this.forEachObserver(le=>{le.next(se)})}error(se){this.forEachObserver(le=>{le.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,le,be){let Ee;if(void 0===se&&void 0===le&&void 0===be)throw new Error("Missing Observer.");Ee=function rn(Q,se){if("object"!=typeof Q||null===Q)return!1;for(const le of se)if(le in Q&&"function"==typeof Q[le])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:le,complete:be},void 0===Ee.next&&(Ee.next=Fn),void 0===Ee.error&&(Ee.error=Fn),void 0===Ee.complete&&(Ee.complete=Fn);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch(ze){}}),this.observers.push(Ee),dt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,se)}sendOne(se,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{le(this.observers[se])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function Yt(Q,se=1e3,le=2){const be=se*Math.pow(le,Q),Ee=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+Ee)}function ur(Q){return Q&&Q._delegate?Q._delegate:Q}},6918:(ce,G,O)=>{"use strict";var p=O(5e3);let q=null;function F(){return q}const re=new p.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Y(){return(0,p.LFG)(z)}()},providedIn:"platform"}),n})();const $=new p.OlP("Location Initialized");let z=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Oe(){return new z((0,p.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function me(n){const e=(0,p.LFG)(re).location;return new je((0,p.LFG)(ne),e&&e.origin||"")}()},providedIn:"root"}),n})();const Pe=new p.OlP("appBaseHref");let je=(()=>{class n extends ae{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+Ke(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+Ke(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ne),p.LFG(Pe,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+Ke(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+Ke(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ne),p.LFG(Pe,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(ie(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ke(r))}normalize(t){return n.stripTrailingSlash(function ot(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=Ae,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(p.LFG(ae),p.LFG(ne))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function ke(){return new Ie((0,p.LFG)(ae),(0,p.LFG)(ne))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}const we={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",de))(),Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Group=1]="Group",Me[Me.List=2]="List",Me[Me.PercentSign=3]="PercentSign",Me[Me.PlusSign=4]="PlusSign",Me[Me.MinusSign=5]="MinusSign",Me[Me.Exponential=6]="Exponential",Me[Me.SuperscriptingExponent=7]="SuperscriptingExponent",Me[Me.PerMille=8]="PerMille",Me[Me.Infinity=9]="Infinity",Me[Me.NaN=10]="NaN",Me[Me.TimeSeparator=11]="TimeSeparator",Me[Me.CurrencyDecimal=12]="CurrencyDecimal",Me[Me.CurrencyGroup=13]="CurrencyGroup",Me))();function Wt(n,e){const t=(0,p.cg1)(n),r=t[p.wAp.NumberSymbols][e];if(void 0===r){if(e===Me.CurrencyDecimal)return t[p.wAp.NumberSymbols][Me.Decimal];if(e===Me.CurrencyGroup)return t[p.wAp.NumberSymbols][Me.Group]}return r}const Vr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Br(n,e,t,r,i){const c=function wn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],u=c[0],f=c[1]||"";t.posPre=u.substr(0,u.indexOf("#"));for(let w=0;w<f.length;w++){const I=f.charAt(w);"0"===I?t.minFrac=t.maxFrac=w+1:"#"===I?t.maxFrac=w+1:t.posSuf+=I}const _=u.split(",");if(t.gSize=_[1]?_[1].length:0,t.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,o){const w=i.length-t.posPre.length-t.posSuf.length,I=o.indexOf("#");t.negPre=o.substr(0,I).replace(/'/g,""),t.negSuf=o.substr(I+w).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Jr(n,e){return(0,p.cg1)(n)[p.wAp.NumberFormats][e]}(e,de.Currency),Wt(e,Me.MinusSign));return c.minFrac=function Pt(n){let e;const t=we[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function Gs(n,e,t,r,i,o,c=!1){let u="",f=!1;if(isFinite(n)){let _=function gi(n){let r,i,o,c,u,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(u=e.length))r=[0],i=1;else{for(u--;"0"===e.charAt(u);)u--;for(i-=o,r=[],c=0;o<=u;o++,c++)r[c]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(_=function Ur(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(_));let w=e.minInt,I=e.minFrac,S=e.maxFrac;if(o){const Re=o.match(Vr);if(null===Re)throw new Error(`${o} is not a valid digit info`);const Je=Re[1],Ve=Re[3],Be=Re[5];null!=Je&&(w=Mi(Je)),null!=Ve&&(I=Mi(Ve)),null!=Be?S=Mi(Be):null!=Ve&&I>S&&(S=I)}!function On(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let c=o+n.integerLen,u=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let I=c;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=o+1),r[0]=0;for(let I=1;I<c;I++)r[I]=0}if(u>=5)if(c-1<0){for(let I=0;I>c;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,o);i++)r.push(0);let f=0!==o;const _=e+n.integerLen,w=r.reduceRight(function(I,S,N,B){return B[N]=(S+=I)<10?S:S-10,f&&(0===B[N]&&N>=_?B.pop():f=!1),S>=10?1:0},0);w&&(r.unshift(w),n.integerLen++)}(_,I,S);let N=_.digits,B=_.integerLen;const j=_.exponent;let ee=[];for(f=N.every(Re=>!Re);B<w;B++)N.unshift(0);for(;B<0;B++)N.unshift(0);B>0?ee=N.splice(B,N.length):(ee=N,N=[0]);const fe=[];for(N.length>=e.lgSize&&fe.unshift(N.splice(-e.lgSize,N.length).join(""));N.length>e.gSize;)fe.unshift(N.splice(-e.gSize,N.length).join(""));N.length&&fe.unshift(N.join("")),u=fe.join(Wt(t,r)),ee.length&&(u+=Wt(t,i)+ee.join("")),j&&(u+=Wt(t,Me.Exponential)+"+"+j)}else u=Wt(t,Me.Infinity);return u=n<0&&!f?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf,u}(n,c,e,Me.CurrencyGroup,Me.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Mi(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class $e{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ge=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $e(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const u=r.get(o);r.move(u,c),Te(u,i)}});for(let i=0,o=r.length;i<o;i++){const u=r.get(i).context;u.index=i,u.count=o,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Te(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Te(n,e){n.context.$implicit=e.item}let et=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ir("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ir("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function ir(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let Ms=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,c){if(!function Bo(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let u=r||this._defaultCurrencyCode;"code"!==i&&(u="symbol"===i||"symbol-narrow"===i?function is(n,e,t="en"){const r=function Lr(n){return(0,p.cg1)(n)[p.wAp.Currencies]}(t)[n]||we[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(u,"symbol"===i?"wide":"narrow",c):i);try{return Br(function co(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,u,r,o)}catch(f){throw function dr(n,e){return new p.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},n.\u0275pipe=p.Yjl({name:"currency",type:n,pure:!0}),n})();let uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function Kr(n){return"server"===n}let Ba=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new Ua((0,p.LFG)(re),window)}),n})();class Ua{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bl(this.window.history)||bl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function bl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ks extends class da extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function W(n){q||(q=n)}(new Ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ha(){return hn=hn||document.querySelector("base"),hn?hn.getAttribute("href"):null}();return null==t?null:function os(n){fa=fa||document.createElement("a"),fa.setAttribute("href",n);const e=fa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ws(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let fa,hn=null;const Ar=new p.OlP("TRANSITION_ID"),Zn=[{provide:p.ip1,useFactory:function Ha(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Ar,re,p.zs3],multi:!0}];class mi{static init(){(0,p.VLi)(new mi)}addToWindow(e){p.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const i=p.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const u=function(f){c=c||f,o--,0==o&&r(c)};i.forEach(function(f){f.whenStable(u)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Sr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Uo=new p.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Uo),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class $a{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ni=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n extends ni{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zs))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Zs(n){F().remove(n)}const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pa=/%COMP%/g;function We(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?We(n,i,t):(i=i.replace(pa,n),t.push(i))}return t}function Jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $n=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Rs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new El(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case p.ifc.ShadowDom:return new za(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=We(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(as),p.LFG(Ps),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Rs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ot[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Ot[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ot[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,i&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Jt(r)):this.eventManager.addEventListener(e,t,Jt(r))}}class El extends Rs{constructor(e,t,r,i){super(e),this.component=r;const o=We(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function ya(n){return"_ngcontent-%COMP%".replace(pa,n)}(i+"-"+r.id),this.hostAttr=function bu(n){return"_nghost-%COMP%".replace(pa,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class za extends Rs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=We(i.id,i.styles,[]);for(let c=0;c<o.length;c++){const u=document.createElement("style");u.textContent=o[c],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bc=(()=>{class n extends $a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=["alt","control","meta","shift"],ho={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},or={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ki={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cl=(()=>{class n extends $a{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="";if(Ga.forEach(f=>{const _=r.indexOf(f);_>-1&&(r.splice(_,1),c+=f+".")}),c+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=c,u}static getEventFullKey(t){let r="",i=function ls(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&or.hasOwnProperty(e)&&(e=or[e]))}return ho[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ga.forEach(o=>{o!=i&&Ki[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Ec=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function ki(){Ks.makeCurrent(),mi.init()},multi:!0},{provide:re,useFactory:function wc(){return(0,p.RDi)(document),document},deps:[]}]),Ys=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function va(){return new p.qLn},deps:[]},{provide:Uo,useClass:bc,multi:!0,deps:[re,p.R0b,p.Lbi]},{provide:Uo,useClass:Cl,multi:!0,deps:[re]},{provide:$n,useClass:$n,deps:[as,Ps,p.AFp]},{provide:p.FYo,useExisting:$n},{provide:ni,useExisting:Ps},{provide:Ps,useClass:Ps,deps:[re]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:as,useClass:as,deps:[Uo,p.R0b]},{provide:class xn{},useClass:Sr,deps:[]}];let Il=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:Ar,useExisting:p.AFp},Zn]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Ys,imports:[uo,p.hGG]}),n})();"undefined"!=typeof window&&window;const Ka_firebase={projectId:"ingreso-egreso-app-a4ca3",appId:"1:955076012598:web:d6b76fe3462d4d26ecc697",storageBucket:"ingreso-egreso-app-a4ca3.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCrglv2veZTyj3HO1EbELY-hk7VjyFXxIo",authDomain:"ingreso-egreso-app-a4ca3.firebaseapp.com",messagingSenderId:"955076012598",measurementId:"G-NJNLFV0T3W"};var T=O(8996),D=O(9646),k=O(1135),Z=O(8306);const{isArray:qe}=Array,{getPrototypeOf:_t,prototype:Gn,keys:nn}=Object;function _r(n){if(1===n.length){const e=n[0];if(qe(e))return{args:e,keys:null};if(function yi(n){return n&&"object"==typeof n&&_t(n)===Gn}(e)){const t=nn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ds=O(4671),Ht=O(4004);const{isArray:kd}=Array;function Ac(n){return(0,Ht.U)(e=>function Nd(n,e){return kd(e)?n(...e):n(e)}(n,e))}var Ml=O(7669);function Ol(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var _i=O(5403),Da=O(9672);function vi(n,e,t){n?(0,Da.f)(t,n,e):e()}var Mc=O(576);function Wo(n,e){const t=(0,Mc.m)(n)?n:()=>n,r=i=>i.error(t());return new Z.y(e?i=>e.schedule(r,0,i):r)}const qo=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ta=O(8189);function kl(...n){return function Rl(){return(0,Ta.J)(1)}()((0,T.D)(n,(0,Ml.yG)(n)))}var Cu=O(8421);function Ns(n){return new Z.y(e=>{(0,Cu.Xf)(n()).subscribe(e)})}var Za=O(515),Iu=O(727),Ls=O(4482);function mo(){return(0,Ls.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_i.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Oc extends Z.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ls.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Iu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_i.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Iu.w0.EMPTY)}return e}refCount(){return mo()(this)}}var yo=O(7579),vr=O(3900),Ko=O(5698);function Fs(...n){const e=(0,Ml.yG)(n);return(0,Ls.e)((t,r)=>{(e?kl(n,t,e):kl(n,t)).subscribe(r)})}var Zi=O(5026),bi=O(9300),Zo=O(262),Qs=O(4351);function Pc(n){return n<=0?()=>Za.E:(0,Ls.e)((e,t)=>{let r=[];e.subscribe((0,_i.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rc(n=br){return(0,Ls.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function br(){return new qo}function of(n){return(0,Ls.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Nl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,bi.h)((i,o)=>n(i,o,r)):ds.y,(0,Ko.q)(1),t?of(e):Rc(()=>new qo))}var Ni=O(5577),Li=O(8505);class Yo{constructor(e,t){this.id=e,this.url=t}}class _o extends Yo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends Yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ar extends Yo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Du extends Yo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xa extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ll extends Yo{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zr extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends Yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vs{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ld{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class Nc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wn(n){return new Nc(n)}const Vl="ngNavigationCancelingError";function Qo(n){const e=Error("NavigationCancelingError: "+n);return e[Vl]=!0,e}function Xo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],u=n[o];if(c.startsWith(":"))i[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function si(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xu(n[i],e[i]))return!1;return!0}function xu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Au(n){return Array.prototype.concat.apply([],n)}function Su(n){return n.length>0?n[n.length-1]:null}function Pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hs(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,T.D)(Promise.resolve(n)):(0,D.of)(n)}const M={exact:function xe(n,e,t){if(!fs(n.segments,e.segments)||!en(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xe(n.children[r],e.children[r],t))return!1;return!0},subset:ft},V={exact:function ye(n,e){return si(n,e)},subset:function tt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xu(n[t],e[t]))},ignored:()=>!0};function K(n,e,t){return M[t.paths](n.root,e.root,t.matrixParams)&&V[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ft(n,e,t){return mt(n,e,e.segments,t)}function mt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!fs(i,t)||e.hasChildren()||!en(i,t,r))}if(n.segments.length===t.length){if(!fs(n.segments,t)||!en(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ft(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(fs(n.segments,i)&&en(n.segments,i,r)&&n.children[sn])&&mt(n.children[sn],e,o,r)}}function en(n,e,t){return e.every((r,i)=>V[t](n[i].parameters,r.parameters))}class mn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return Jo.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ya(this)}}class yn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wn(this.parameters)),this._parameterMap}toString(){return Ul(this)}}function fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ps{}class Bs{parse(e){const t=new Bd(e);return new mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ea(e.root,!0)}`,r=function s_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Vc(t)}=${Vc(i)}`).join("&"):`${Vc(t)}=${Vc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Bc(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jo=new Bs;function Ya(n){return n.segments.map(e=>Ul(e)).join("/")}function ea(n,e){if(!n.hasChildren())return Ya(n);if(e){const t=n.children[sn]?ea(n.children[sn],!1):"",r=[];return Pr(n.children,(i,o)=>{o!==sn&&r.push(`${o}:${ea(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Bl(n,e){let t=[];return Pr(n.children,(r,i)=>{i===sn&&(t=t.concat(e(r,i)))}),Pr(n.children,(r,i)=>{i!==sn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===sn?[ea(n.children[sn],!1)]:[`${i}:${ea(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${Ya(n)}/${t[0]}`:`${Ya(n)}/(${t.join("//")})`}}function Fc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(n){return Fc(n).replace(/%3B/gi,";")}function Vd(n){return Fc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mu(n){return decodeURIComponent(n)}function Ou(n){return Mu(n.replace(/\+/g,"%20"))}function Ul(n){return`${Vd(n.path)}${function Ag(n){return Object.keys(n).map(e=>`;${Vd(e)}=${Vd(n[e])}`).join("")}(n.parameters)}`}const o_=/^[^\/()?;=#]+/;function bo(n){const e=n.match(o_);return e?e[0]:""}const Pu=/^[^=?&#]+/,l_=/^[^&#]+/;class Bd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new Vt(e,t)),r}parseSegment(){const e=bo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new yn(Mu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bo(this.remaining);i&&(r=i,this.capture(r))}e[Mu(t)]=Mu(r)}parseQueryParam(e){const t=function a_(n){const e=n.match(Pu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Sg(n){const e=n.match(l_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Ou(t),o=Ou(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[sn]:new Vt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class c_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cf(e,this._root).map(t=>t.value)}}function lf(n,e){if(n===e.value)return e;for(const t of e.children){const r=lf(n,t);if(r)return r}return null}function cf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cf(n,t);if(r.length)return r.unshift(e),r}return[]}class Aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ud extends c_{constructor(e,t){super(e),this.snapshot=t,Hd(this,e)}toString(){return this.snapshot.toString()}}function jl(n,e){const t=function u_(n,e){const c=new Uc([],{},{},"",{},sn,e,null,n.root,-1,{});return new uf("",new Aa(c,[]))}(n,e),r=new k.X([new yn("",{})]),i=new k.X({}),o=new k.X({}),c=new k.X({}),u=new k.X(""),f=new Qa(r,i,c,u,o,sn,e,t.root);return f.snapshot=t.root,new Ud(new Aa(f,[]),t)}class Qa{constructor(e,t,r,i,o,c,u,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=u,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(e=>Wn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(e=>Wn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function jd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Uc{constructor(e,t,r,i,o,c,u,f,_,w,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=u,this.routeConfig=f,this._urlSegment=_,this._lastPathIndex=w,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uf extends c_{constructor(e,t){super(t),this.url=e,Hd(this,t)}toString(){return $d(this._root)}}function Hd(n,e){e.value._routerState=n,e.children.forEach(t=>Hd(n,t))}function $d(n){const e=n.children.length>0?` { ${n.children.map($d).join(", ")} } `:"";return`${n.value}${e}`}function zd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),si(e.params,t.params)||n.params.next(t.params),function Tu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),si(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function df(n,e){const t=si(n.params,e.params)&&function jr(n,e){return fs(n,e)&&n.every((t,r)=>si(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||df(n.parent,e.parent))}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function hf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ru(n,r,i);return Ru(n,r)})}(n,e,t);return new Aa(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(u=>Ru(n,u)),c}}const r=function f_(n){return new Qa(new k.X(n.url),new k.X(n.params),new k.X(n.queryParams),new k.X(n.fragment),new k.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ru(n,o));return new Aa(r,i)}}function Xa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jc(n){return"object"==typeof n&&null!=n&&n.outlets}function Mg(n,e,t,r,i){let o={};return r&&Pr(r,(c,u)=>{o[u]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),new mn(t.root===n?e:ff(t.root,n,e),o,i)}function ff(n,e,t){const r={};return Pr(n.children,(i,o)=>{r[o]=i===e?t:ff(i,e,t)}),new Vt(n.segments,r)}class p_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(jc);if(i&&i!==Su(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function __(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return na(n,e,t);const r=function iw(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],u=t[r];if(jc(u))break;const f=`${u}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===f)break;if(f&&_&&"object"==typeof _&&void 0===_.outlets){if(!Us(f,_,c))return o;r+=2}else{if(!Us(f,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Vt(n.segments.slice(0,r.pathIndex),{});return o.children[sn]=new Vt(n.segments.slice(r.pathIndex),n.children),na(o,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?gf(n,e,t):r.match?na(n,0,i):gf(n,e,t)}function na(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function y_(n){return jc(n[0])?n[0].outlets:{[sn]:n}}(t),i={};return Pr(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=__(n.children[c],e,o))}),Pr(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new Vt(n.segments,i)}}function gf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jc(o)){const f=Hc(o.outlets);return new Vt(r,f)}if(0===i&&Xa(t[0])){r.push(new yn(n.segments[e].path,mf(t[0]))),i++;continue}const c=jc(o)?o.outlets[sn]:`${o}`,u=i<t.length-1?t[i+1]:null;c&&u&&Xa(u)?(r.push(new yn(c,mf(u))),i+=2):(r.push(new yn(c,{})),i++)}return new Vt(r,{})}function Hc(n){const e={};return Pr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=gf(new Vt([],{}),0,t))}),e}function mf(n){const e={};return Pr(n,(t,r)=>e[r]=`${t}`),e}function Us(n,e,t){return n==t.path&&si(e,t.parameters)}class Pg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Pr(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sa(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xs(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(zd(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),zd(u.route.value),this.activateChildRoutes(e,null,c.children)}else{const u=function Gd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),f=u?u.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=f,c.outlet&&c.outlet.activateWith(i,f),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Wd{constructor(e,t){this.routes=e,this.module=t}}function Hl(n){return"function"==typeof n}function $c(n){return n instanceof mn}const Nu=Symbol("INITIAL_VALUE");function Ja(){return(0,vr.w)(n=>function Go(...n){const e=(0,Ml.yG)(n),t=(0,Ml.jO)(n),{args:r,keys:i}=_r(n);if(0===r.length)return(0,T.D)([],e);const o=new Z.y(function Sc(n,e,t=ds.y){return r=>{vi(e,()=>{const{length:i}=n,o=new Array(i);let c=i,u=i;for(let f=0;f<i;f++)vi(e,()=>{const _=(0,T.D)(n[f],e);let w=!1;_.subscribe((0,_i.x)(r,I=>{o[f]=I,w||(w=!0,u--),u||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ol(i,c):ds.y));return t?o.pipe(Ac(t)):o}(n.map(e=>e.pipe((0,Ko.q)(1),Fs(Nu)))).pipe((0,Zi.R)((e,t)=>{let r=!1;return t.reduce((i,o,c)=>i!==Nu?i:(o===Nu&&(r=!0),r||!1!==o&&c!==t.length-1&&!$c(o)?i:o),e)},Nu),(0,bi.h)(e=>e!==Nu),(0,Ht.U)(e=>$c(e)?e:!0===e),(0,Ko.q)(1)))}class v_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lu,this.attachRef=null}}class Lu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new v_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zc=(()=>{class n{constructor(t,r,i,o,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=o||sn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,f=new bf(t,u,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Lu),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class bf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qa?this.route:e===Lu?this.childContexts:this.parent.get(e,t)}}let wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:[zc],encapsulation:2}),n})();function Fu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];qd(r,Ef(e,r))}}function qd(n,e){n.children&&Fu(n.children,e)}function Ef(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Cf(n){const e=n.children&&n.children.map(Cf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=wf),t}function An(n){return n.outlet||sn}function If(n,e){const t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}const kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},kg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Xo)(t,n,e);if(!o)return Object.assign({},kg);const c={};Pr(o.posParams,(f,_)=>{c[_]=f.path});const u=o.consumed.length>0?Object.assign(Object.assign({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:u,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Vu(n,e,t,r,i="corrected"){if(t.length>0&&function w_(n,e,t){return t.some(r=>Zd(n,e,r)&&An(r)!==sn)}(n,t,r)){const c=new Vt(e,function Kd(n,e,t,r){const i={};i[sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&An(o)!==sn){const c=new Vt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[An(o)]=c}return i}(n,e,r,new Vt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Ng(n,e,t){return t.some(r=>Zd(n,e,r))}(n,t,r)){const c=new Vt(n.segments,function b_(n,e,t,r,i,o){const c={};for(const u of r)if(Zd(n,t,u)&&!i[An(u)]){const f=new Vt([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[An(u)]=f}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new Vt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Zd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function E_(n,e,t,r){return!!(An(n)===r||r!==sn&&Zd(e,t,n))&&("**"===n.path||Gc(e,n,t).matched)}function C_(n,e,t){return 0===e.length&&!n.children[t]}class Ma{constructor(e){this.segmentGroup=e||null}}class wi{constructor(e){this.urlTree=e}}function el(n){return Wo(new Ma(n))}function Bu(n){return Wo(new wi(n))}class Tf{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=Vu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,sn).pipe((0,Ht.U)(o=>this.createUrlTree(zl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Zo.K)(o=>{if(o instanceof wi)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ma?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,sn).pipe((0,Ht.U)(i=>this.createUrlTree(zl(i),e.queryParams,e.fragment))).pipe((0,Zo.K)(i=>{throw i instanceof Ma?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Vt([],{[sn]:e}):e;return new mn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ht.U)(o=>new Vt([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,T.D)(i).pipe((0,Qs.b)(o=>{const c=r.children[o],u=If(t,o);return this.expandSegmentGroup(e,u,c,o).pipe((0,Ht.U)(f=>({segment:f,outlet:o})))}),(0,Zi.R)((o,c)=>(o[c.outlet]=c.segment,o),{}),function i_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,bi.h)((i,o)=>n(i,o,r)):ds.y,Pc(1),t?of(e):Rc(()=>new qo))}())}expandSegment(e,t,r,i,o,c){return(0,T.D)(r).pipe((0,Qs.b)(u=>this.expandSegmentAgainstRoute(e,t,r,u,i,o,c).pipe((0,Zo.K)(_=>{if(_ instanceof Ma)return(0,D.of)(null);throw _}))),Nl(u=>!!u),(0,Zo.K)((u,f)=>{if(u instanceof qo||"EmptyError"===u.name){if(C_(t,i,o))return(0,D.of)(new Vt([],{}));throw new Ma(t)}throw u}))}expandSegmentAgainstRoute(e,t,r,i,o,c,u){return E_(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):el(t):el(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bu(o):this.lineralizeSegments(r,o).pipe((0,Ni.z)(c=>{const u=new Vt(c,{});return this.expandSegment(e,u,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:u,consumedSegments:f,remainingSegments:_,positionalParamSegments:w}=Gc(t,i,o);if(!u)return el(t);const I=this.applyRedirectCommands(f,i.redirectTo,w);return i.redirectTo.startsWith("/")?Bu(I):this.lineralizeSegments(i,I).pipe((0,Ni.z)(S=>this.expandSegment(e,t,r,S.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,D.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ht.U)(I=>(r._loadedConfig=I,new Vt(i,{})))):(0,D.of)(new Vt(i,{}));const{matched:c,consumedSegments:u,remainingSegments:f}=Gc(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Ni.z)(w=>{const I=w.module,S=w.routes,{segmentGroup:N,slicedSegments:B}=Vu(t,u,f,S),j=new Vt(N.segments,N.children);if(0===B.length&&j.hasChildren())return this.expandChildren(I,S,j).pipe((0,Ht.U)(Je=>new Vt(u,Je)));if(0===S.length&&0===B.length)return(0,D.of)(new Vt(u,{}));const ee=An(r)===o;return this.expandSegment(I,j,S,B,ee?sn:o,!0).pipe((0,Ht.U)(Re=>new Vt(u.concat(Re.segments),Re.children)))})):el(t)}getChildConfig(e,t,r){return t.children?(0,D.of)(new Wd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,D.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ni.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ht.U)(o=>(t._loadedConfig=o,o))):function Vi(n){return Wo(Qo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,D.of)(new Wd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,D.of)(!0);const o=i.map(c=>{const u=e.get(c);let f;if(function yf(n){return n&&Hl(n.canLoad)}(u))f=u.canLoad(t,r);else{if(!Hl(u))throw new Error("Invalid CanLoad guard");f=u(t,r)}return hs(f)});return(0,D.of)(o).pipe(Ja(),(0,Li.b)(c=>{if(!$c(c))return;const u=Qo(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw u.url=c,u}),(0,Ht.U)(c=>!0===c))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,D.of)(r);if(i.numberOfChildren>1||!i.children[sn])return Wo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new mn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pr(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[o]=t[u]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return Pr(t.children,(u,f)=>{c[f]=this.createSegmentGroup(e,u,r,i)}),new Vt(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function zl(n){const e={};for(const r of Object.keys(n.children)){const o=zl(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function js(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}class Lg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gl{constructor(e,t){this.component=e,this.route=t}}function Af(n,e,t){const r=n._root;return gs(r,e?e._root:null,t,[r.value])}function Uu(n,e,t){const r=function I_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sa(e);return n.children.forEach(c=>{(function Vg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function D_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!df(n,e)||!si(n.queryParams,e.queryParams);default:return!df(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new Lg(r)):(o.data=c.data,o._resolvedData=c._resolvedData),gs(n,e,o.component?u?u.children:null:t,r,i),f&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Gl(u.outlet.component,c))}else c&&Wl(e,u,i),i.canActivateChecks.push(new Lg(r)),gs(n,null,o.component?u?u.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),Pr(o,(c,u)=>Wl(c,t.getContext(u),i)),i}function Wl(n,e,t){const r=Sa(n),i=n.value;Pr(r,(o,c)=>{Wl(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Gl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Of{}function Pf(n){return new Z.y(e=>e.error(n))}class Rf{constructor(e,t,r,i,o,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const e=Vu(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,sn);if(null===t)return null;const r=new Uc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Aa(r,t),o=new uf(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=d_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const c=t.children[o],u=If(e,o),f=this.processSegmentGroup(u,c,o);if(null===f)return null;r.push(...f)}const i=Ug(r);return function S_(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const c=this.processSegmentAgainstRoute(o,t,r,i);if(null!==c)return c}return C_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!E_(e,t,r,i))return null;let o,c=[],u=[];if("**"===e.path){const N=r.length>0?Su(r).parameters:{};o=new Uc(r,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),An(e),e.component,e,g(t),y(t)+r.length,R(e))}else{const N=Gc(t,e,r);if(!N.matched)return null;c=N.consumedSegments,u=N.remainingSegments,o=new Uc(c,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),An(e),e.component,e,g(t),y(t)+c.length,R(e))}const f=function M_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:w}=Vu(t,c,u,f.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===w.length&&_.hasChildren()){const N=this.processChildren(f,_);return null===N?null:[new Aa(o,N)]}if(0===f.length&&0===w.length)return[new Aa(o,[])];const I=An(e)===i,S=this.processSegment(f,_,w,I?sn:i);return null===S?null:[new Aa(o,S)]}}function O_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ug(n){const e=[],t=new Set;for(const r of n){if(!O_(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ug(r.children);e.push(new Aa(r.value,i))}return e.filter(r=>!t.has(r))}function g(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function y(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function E(n){return n.data||{}}function R(n){return n.resolve||{}}function Ct(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function At(n){return(0,vr.w)(e=>{const t=n(e);return t?(0,T.D)(t).pipe((0,Ht.U)(()=>e)):(0,D.of)(e)})}class Hu extends class Js{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wc=new p.OlP("ROUTES");class qc{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ht.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=o.create(e);return new Wd(Au(c.injector.get(Wc,void 0,p.XFs.Self|p.XFs.Optional)).map(Cf),c)}),(0,Zo.K)(o=>{throw t._loader$=void 0,o}));return t._loader$=new Oc(i,()=>new yo.x).pipe(mo()),t._loader$}loadModuleFactory(e){return hs(e()).pipe((0,Ni.z)(t=>t instanceof p.YKP?(0,D.of)(t):(0,T.D)(this.compiler.compileModuleAsync(t))))}}class P_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tl(n){throw n}function Yd(n,e,t){return e.parse("/")}function Qd(n,e){return(0,D.of)(null)}const Nf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class n{constructor(t,r,i,o,c,u,f){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yo.x,this.errorHandler=tl,this.malformedUriErrorHandler=Yd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qd,afterPreactivation:Qd},this.urlHandlingStrategy=new P_,this.routeReuseStrategy=new Hu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(p.h0i),this.console=c.get(p.c2e);const I=c.get(p.R0b);this.isNgZoneEnabled=I instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function A(){return new mn(new Vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qc(c,u,S=>this.triggerEvent(new Fl(S)),S=>this.triggerEvent(new vo(S))),this.routerState=jl(this.currentUrlTree,this.rootComponentType),this.transitions=new k.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,bi.h)(i=>0!==i.id),(0,Ht.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,vr.w)(i=>{let o=!1,c=!1;return(0,D.of)(i).pipe((0,Li.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.currentRawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,vr.w)(u=>{const f=this.browserUrlTree.toString(),_=!this.navigated||u.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Jd(u.source)&&(this.browserUrlTree=u.extractedUrl),(0,D.of)(u).pipe((0,vr.w)(I=>{const S=this.transitions.getValue();return r.next(new _o(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),S!==this.transitions.getValue()?Za.E:Promise.resolve(I)}),function xf(n,e,t,r){return(0,vr.w)(i=>function $l(n,e,t,r,i){return new Tf(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ht.U)(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Li.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function U(n,e,t,r,i){return(0,Ni.z)(o=>function A_(n,e,t,r,i="emptyOnly",o="legacy"){try{const c=new Rf(n,e,t,r,i,o).recognize();return null===c?Pf(new Of):(0,D.of)(c)}catch(c){return Pf(c)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe((0,Ht.U)(c=>Object.assign(Object.assign({},o),{targetSnapshot:c}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Li.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(N,I)}this.browserUrlTree=I.urlAfterRedirects}const S=new xa(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(S)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:N,source:B,restoredState:j,extras:ee}=u,fe=new _o(S,this.serializeUrl(N),B,j);r.next(fe);const Re=jl(N,this.rootComponentType).snapshot;return(0,D.of)(Object.assign(Object.assign({},u),{targetSnapshot:Re,urlAfterRedirects:N,extras:Object.assign(Object.assign({},ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=u.rawUrl,u.resolve(null),Za.E}),At(u=>{const{targetSnapshot:f,id:_,extractedUrl:w,rawUrl:I,extras:{skipLocationChange:S,replaceUrl:N}}=u;return this.hooks.beforePreactivation(f,{navigationId:_,appliedUrlTree:w,rawUrlTree:I,skipLocationChange:!!S,replaceUrl:!!N})}),(0,Li.b)(u=>{const f=new Dg(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),(0,Ht.U)(u=>Object.assign(Object.assign({},u),{guards:Af(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function T_(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?(0,D.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function Bg(n,e,t,r){return(0,T.D)(n).pipe((0,Ni.z)(i=>function ju(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,D.of)(!0);const c=o.map(u=>{const f=Uu(u,e,i);let _;if(function sw(n){return n&&Hl(n.canDeactivate)}(f))_=hs(f.canDeactivate(n,e,t,r));else{if(!Hl(f))throw new Error("Invalid CanDeactivate guard");_=hs(f(n,e,t,r))}return _.pipe(Nl())});return(0,D.of)(c).pipe(Ja())}(i.component,i.route,t,e,r)),Nl(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ni.z)(u=>u&&function Rg(n){return"boolean"==typeof n}(u)?function Ei(n,e,t,r){return(0,T.D)(e).pipe((0,Qs.b)(i=>kl(function Mf(n,e){return null!==n&&e&&e(new Vs(n)),(0,D.of)(!0)}(i.route.parent,r),function Sf(n,e){return null!==n&&e&&e(new Ld(n)),(0,D.of)(!0)}(i.route,r),function Oa(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function Fg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ns(()=>{const u=c.guards.map(f=>{const _=Uu(f,c.node,t);let w;if(function vf(n){return n&&Hl(n.canActivateChild)}(_))w=hs(_.canActivateChild(r,n));else{if(!Hl(_))throw new Error("Invalid CanActivateChild guard");w=hs(_(r,n))}return w.pipe(Nl())});return(0,D.of)(u).pipe(Ja())}));return(0,D.of)(o).pipe(Ja())}(n,i.path,t),function x_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,D.of)(!0);const i=r.map(o=>Ns(()=>{const c=Uu(o,e,t);let u;if(function _f(n){return n&&Hl(n.canActivate)}(c))u=hs(c.canActivate(e,n));else{if(!Hl(c))throw new Error("Invalid CanActivate guard");u=hs(c(e,n))}return u.pipe(Nl())}));return(0,D.of)(i).pipe(Ja())}(n,i.route,t))),Nl(i=>!0!==i,!0))}(r,o,n,e):(0,D.of)(u)),(0,Ht.U)(u=>Object.assign(Object.assign({},t),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Li.b)(u=>{if($c(u.guardsResult)){const _=Qo(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw _.url=u.guardsResult,_}const f=new Ll(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(f)}),(0,bi.h)(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),At(u=>{if(u.guards.canActivateChecks.length)return(0,D.of)(u).pipe((0,Li.b)(f=>{const _=new Zr(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,vr.w)(f=>{let _=!1;return(0,D.of)(f).pipe(function he(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,D.of)(t);let o=0;return(0,T.D)(i).pipe((0,Qs.b)(c=>function Ne(n,e,t,r){return function at(n,e,t,r){const i=Ct(n);if(0===i.length)return(0,D.of)({});const o={};return(0,T.D)(i).pipe((0,Ni.z)(c=>function $t(n,e,t,r){const i=Uu(n,e,r);return hs(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Li.b)(u=>{o[c]=u}))),Pc(1),(0,Ni.z)(()=>Ct(o).length===i.length?(0,D.of)(o):Za.E))}(n._resolve,n,e,r).pipe((0,Ht.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),d_(n,t).resolve),null)))}(c.route,r,n,e)),(0,Li.b)(()=>o++),Pc(1),(0,Ni.z)(c=>o===i.length?(0,D.of)(t):Za.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Li.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,Li.b)(f=>{const _=new Fi(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}))}),At(u=>{const{targetSnapshot:f,id:_,extractedUrl:w,rawUrl:I,extras:{skipLocationChange:S,replaceUrl:N}}=u;return this.hooks.afterPreactivation(f,{navigationId:_,appliedUrlTree:w,rawUrlTree:I,skipLocationChange:!!S,replaceUrl:!!N})}),(0,Ht.U)(u=>{const f=function h_(n,e,t){const r=Ru(n,e._root,t?t._root:void 0);return new Ud(r,e)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return Object.assign(Object.assign({},u),{targetRouterState:f})}),(0,Li.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Ht.U)(r=>(new Pg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Li.b)({next(){o=!0},complete(){o=!0}}),function af(n){return(0,Ls.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var u;o||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===i.id&&(this.currentNavigation=null)}),(0,Zo.K)(u=>{if(c=!0,function Fd(n){return n&&n[Vl]}(u)){const f=$c(u.url);f||(this.navigated=!0,this.restoreHistory(i,!0));const _=new ar(i.id,this.serializeUrl(i.extractedUrl),u.message);r.next(_),f?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),I={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jd(i.source)};this.scheduleNavigation(w,"imperative",null,I,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const f=new Du(i.id,this.serializeUrl(i.extractedUrl),u);r.next(f);try{i.resolve(this.errorHandler(u))}catch(_){i.reject(_)}}return Za.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Fu(t),this.config=t.map(Cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:f}=r,_=i||this.routerState.root,w=f?this.currentUrlTree.fragment:c;let I=null;switch(u){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function ta(n,e,t,r,i){if(0===t.length)return Mg(e.root,e.root,e,r,i);const o=function g_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Pr(o.outlets,(f,_)=>{u[_]="string"==typeof f?f.split("/"):f}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?t=!0:".."===u?e++:""!=u&&i.push(u))}),i):[...i,o]},[]);return new p_(t,e,r)}(t);if(o.toRoot())return Mg(e.root,new Vt([],{}),e,r,i);const c=function Og(n,e,t){if(n.isAbsolute)return new pf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new pf(o,o===e.root,0)}const r=Xa(n.commands[0])?0:1;return function m_(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pf(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),u=c.processChildren?na(c.segmentGroup,c.index,o.commands):__(c.segmentGroup,c.index,o.commands);return Mg(c.segmentGroup,u,e,r,i)}(_,this.currentUrlTree,t,I,null!=w?w:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$c(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Lf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Nf):!1===r?Object.assign({},Xd):r,$c(t))return K(this.currentUrlTree,t,i);const o=this.parseUrl(t);return K(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new kc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,c){var u,f,_;if(this.disposed)return Promise.resolve(!1);const w=this.transitions.value,I=Jd(r)&&w&&!Jd(w.source),S=w.rawUrl.toString()===t.toString(),N=w.id===(null===(u=this.currentNavigation)||void 0===u?void 0:u.id);if(I&&S&&N)return Promise.resolve(!0);let j,ee,fe;c?(j=c.resolve,ee=c.reject,fe=c.promise):fe=new Promise((Ve,Be)=>{j=Ve,ee=Be});const Re=++this.navigationId;let Je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Je=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Je=0,this.setTransition({id:Re,targetPageId:Je,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:j,reject:ee,promise:fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fe.catch(Ve=>Promise.reject(Ve))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new ar(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Jd(n){return"imperative"!==n}let jg=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new yo.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:eh(this.skipLocationChange),replaceUrl:eh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ci),p.Y36(Qa),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})(),Ff=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new yo.x,this.subscription=t.events.subscribe(o=>{o instanceof kc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,c){if(0!==t||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:eh(this.skipLocationChange),replaceUrl:eh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ci),p.Y36(Qa),p.Y36(ae))},n.\u0275dir=p.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&p.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&p.uIk("target",r.target)("href",r.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})();function eh(n){return""===n||!!n}class k_{}class aw{preload(e,t){return(0,D.of)(null)}}let lw=(()=>{class n{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new qc(i,r,f=>t.triggerEvent(new Fl(f)),f=>t.triggerEvent(new vo(f)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,bi.h)(t=>t instanceof kc),(0,Qs.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const c=o._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return(0,T.D)(i).pipe((0,Ta.J)(),(0,Ht.U)(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,D.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ni.z)(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ci),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(k_))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Hg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new xg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=new p.OlP("ROUTER_CONFIGURATION"),L_=new p.OlP("ROUTER_FORROOT_GUARD"),cw=[Ie,{provide:ps,useClass:Bs},{provide:Ci,useFactory:function V_(n,e,t,r,i,o,c={},u,f){const _=new Ci(null,n,e,t,r,i,Au(o));return u&&(_.urlHandlingStrategy=u),f&&(_.routeReuseStrategy=f),function hw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(w=>{var I,S;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(S=console.groupEnd)||void 0===S||S.call(console)}),_},deps:[ps,Lu,Ie,p.zs3,p.Sil,Wc,wo,[class kf{},new p.FiY],[class hr{},new p.FiY]]},Lu,{provide:Qa,useFactory:function $g(n){return n.routerState.root},deps:[Ci]},lw,aw,class N_{preload(e,t){return t().pipe((0,Zo.K)(()=>(0,D.of)(null)))}},{provide:wo,useValue:{enableTracing:!1}}];function $D(){return new p.PXZ("Router",Ci)}let Vf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[cw,F_(t),{provide:L_,useFactory:dw,deps:[[Ci,new p.FiY,new p.tp0]]},{provide:wo,useValue:r||{}},{provide:ae,useFactory:uw,deps:[ne,[new p.tBr(Pe),new p.FiY],wo]},{provide:Hg,useFactory:zD,deps:[Ci,Ba,wo]},{provide:k_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:aw},{provide:p.PXZ,multi:!0,useFactory:$D},[th,{provide:p.ip1,multi:!0,useFactory:fw,deps:[th]},{provide:U_,useFactory:B_,deps:[th]},{provide:p.tb,multi:!0,useExisting:U_}]]}}static forChild(t){return{ngModule:n,providers:[F_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(L_,8),p.LFG(Ci,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function zD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hg(n,e,t)}function uw(n,e,t={}){return t.useHash?new ve(n,e):new je(n,e)}function dw(n){return"guarded"}function F_(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:Wc,multi:!0,useValue:n}]}let th=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yo.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(u=>r=u),o=this.injector.get(Ci),c=this.injector.get(wo);return"disabled"===c.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?(0,D.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(wo),i=this.injector.get(lw),o=this.injector.get(Hg),c=this.injector.get(Ci),u=this.injector.get(p.z2F);t===u.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),o.init(),c.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function fw(n){return n.appInitializer.bind(n)}function B_(n){return n.bootstrapListener.bind(n)}const U_=new p.OlP("Router Initializer");let H_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),$u=(()=>{class n extends H_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const nl=new p.OlP("NgValueAccessor"),gw={provide:nl,useExisting:(0,p.Gpc)(()=>nh),multi:!0},mw=new p.OlP("CompositionEventMode");let nh=(()=>{class n extends H_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iO(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(mw,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[p._Bn([gw]),p.qOj]}),n})();function ql(n){return null==n||0===n.length}function yw(n){return null!=n&&"number"==typeof n.length}const ms=new p.OlP("NgValidators"),Bi=new p.OlP("NgAsyncValidators"),WD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Eo{static min(e){return function _w(n){return e=>{if(ql(e.value)||ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function vw(n){return e=>{if(ql(e.value)||ql(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bw(n){return ql(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function ww(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function $_(n){return ql(n.value)||WD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ew(n){return e=>ql(e.value)||!yw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Cw(n){return e=>yw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Iw(n){if(!n)return Kt;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ql(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Dw(e)}static composeAsync(e){return rl(e)}}function Kt(n){return null}function z_(n){return null!=n}function G_(n){const e=(0,p.QGY)(n)?(0,T.D)(n):n;return(0,p.CqO)(e),e}function W_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bf(n,e){return e.map(t=>t(n))}function q_(n){return n.map(e=>function Pa(n){return!n.validate}(e)?e:t=>e.validate(t))}function Dw(n){if(!n)return null;const e=n.filter(z_);return 0==e.length?null:function(t){return W_(Bf(t,e))}}function Uf(n){return null!=n?Dw(q_(n)):null}function rl(n){if(!n)return null;const e=n.filter(z_);return 0==e.length?null:function(t){return function GD(...n){const e=(0,Ml.jO)(n),{args:t,keys:r}=_r(n),i=new Z.y(o=>{const{length:c}=t;if(!c)return void o.complete();const u=new Array(c);let f=c,_=c;for(let w=0;w<c;w++){let I=!1;(0,Cu.Xf)(t[w]).subscribe((0,_i.x)(o,S=>{I||(I=!0,_--),u[w]=S},()=>f--,void 0,()=>{(!f||!I)&&(_||o.next(r?Ol(r,u):u),o.complete())}))}});return e?i.pipe(Ac(e)):i}(Bf(t,e).map(G_)).pipe((0,Ht.U)(W_))}}function jf(n){return null!=n?rl(q_(n)):null}function K_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wg(n){return n._rawValidators}function qD(n){return n._rawAsyncValidators}function qg(n){return n?Array.isArray(n)?n:[n]:[]}function Z_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hf(n,e){const t=qg(e);return qg(n).forEach(i=>{Z_(t,i)||t.push(i)}),t}function $f(n,e){return qg(e).filter(t=>!Z_(n,t))}class Kg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class il extends Kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yi extends Kg{get formDirective(){return null}get path(){return null}}class KD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Zg=(()=>{class n extends KD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(il,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),Yg=(()=>{class n extends KD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Yi,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function Xg(n,e){Jg(n,e),e.valueAccessor.writeValue(n.value),function Sw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mw(n,e)})}(n,e),function Kc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function X_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function XD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ra(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ih(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Jg(n,e){const t=Wg(n);null!==e.validator?n.setValidators(K_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=qD(n);null!==e.asyncValidator?n.setAsyncValidators(K_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rh(e._rawValidators,i),rh(e._rawAsyncValidators,i)}function ih(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Wg(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=qD(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return rh(e._rawValidators,r),rh(e._rawAsyncValidators,r),t}function Mw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Kl="VALID",Zl="INVALID",sh="PENDING",oh="DISABLED";function zf(n){return(rm(n)?n.validators:n)||null}function tm(n){return Array.isArray(n)?Uf(n):n||null}function nm(n,e){return(rm(e)?e.asyncValidators:n)||null}function Gf(n){return Array.isArray(n)?jf(n):n||null}function rm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const im=n=>n instanceof sv,ev=n=>n instanceof ys,tv=n=>n instanceof Lw;function nv(n){return im(n)?n.value:n.getRawValue()}function Nw(n,e){const t=ev(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[e])throw new p.vHH(1001,"")}function rv(n,e){ev(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new p.vHH(1002,"")})}class iv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=tm(this._rawValidators),this._composedAsyncValidatorFn=Gf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kl}get invalid(){return this.status===Zl}get pending(){return this.status==sh}get disabled(){return this.status===oh}get enabled(){return this.status!==oh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gf(e)}addValidators(e){this.setValidators(Hf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($f(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($f(e,this._rawAsyncValidators))}hasValidator(e){return Z_(this._rawValidators,e)}hasAsyncValidator(e){return Z_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oh,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kl||this.status===sh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oh:Kl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sh,this._hasOwnPendingAsyncValidator=!0;const t=G_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function kw(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=ev(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:tv(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?oh:this.errors?Zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sh)?sh:this._anyControlsHaveStatus(Zl)?Zl:Kl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sv extends iv{constructor(e=null,t,r){super(zf(t),nm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rm(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ys extends iv{constructor(e,t,r){super(zf(t),nm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rv(this,e),Object.keys(e).forEach(r=>{Nw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=nv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Lw extends iv{constructor(e,t,r){super(zf(t),nm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rv(this,e),e.forEach((r,i)=>{Nw(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>nv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const oT={provide:nl,useExisting:(0,p.Gpc)(()=>lv),multi:!0};let lv=(()=>{class n extends $u{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[p._Bn([oT]),p.qOj]}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const zw=new p.OlP("NgModelWithFormControlWarning"),cT={provide:Yi,useExisting:(0,p.Gpc)(()=>ah)};let ah=(()=>{class n extends Yi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ih(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Xg(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ra(t.control||null,t,!1),Zc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Pw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ra(r||null,t),im(i)&&(Xg(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function J_(n,e){Jg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function JD(n,e){return ih(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jg(this.form,this),this._oldForm&&ih(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ms,10),p.Y36(Bi,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([cT]),p.qOj,p.TTD]}),n})();const dT={provide:il,useExisting:(0,p.Gpc)(()=>Gu)};let Gu=(()=>{class n extends il{constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===nh?t=o:function tT(n){return Object.getPrototypeOf(n.constructor)===$u}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function em(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Q_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(p.Y36(Yi,13),p.Y36(ms,10),p.Y36(Bi,10),p.Y36(nl,10),p.Y36(zw,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([dT]),p.qOj,p.TTD]}),n})(),_T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Hw]]}),n})(),eE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[_T]}),n})(),Cv=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let u,o=null,c=null;return null!=r&&(function vT(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(o=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,u=null!=r.updateOn?r.updateOn:void 0):(o=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new ys(i,{asyncValidators:c,updateOn:u,validators:o})}control(t,r,i){return new sv(t,r,i)}array(t,r,i){const o=t.map(c=>this._createControl(c));return new Lw(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return im(t)||ev(t)||tv(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:eE}),n})();var _n=O(5620);const ch=(0,_n.PH)("[UI Component] isLoading"),Qc=(0,_n.PH)("[UI Component] stopLoading");var tE=O(5226),qu=O.n(tE);const Iv=(0,_n.PH)("[Auth] setUser",(0,_n.Ky)()),nE=(0,_n.PH)("[Auth] unSetUser"),rE=(0,_n.PH)("[IngresoEgreso] setItems",(0,_n.Ky)()),iE=(0,_n.PH)("[IngresoEgreso] unSetItems");class um{constructor(e,t,r){this.uid=e,this.nombre=t,this.email=r}static fromFirebase(e){return new um(e.uid,e.nombre,e.email)}}var sE=O(6451),Dv=O(5363),oE=O(4707),bT=O(3099);function aE(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,bT.B)({connector:()=>new oE.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function wT(n,e){return(0,Mc.m)(e)?(0,vr.w)(()=>n,e):(0,vr.w)(()=>n)}var lE=O(9468),oi=O(6351),ka=O(2011);O(5867);var Ge=O(5861),Ku=O(9681),dm=O(4859),on=O(2090),Co=O(1877);const fE=new Map,Xf={activated:!1,tokenObservers:[]},TT={initialized:!1,enabled:!1};function Ui(n){return fE.get(n)||Xf}function Io(n,e){fE.set(n,e)}function Do(){return TT}class uh{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ge.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function dh(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ai=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qu(n){if(!Ui(n).activated)throw ai.create("use-before-activation",{appName:n.name})}function fm(n,e){return pm.apply(this,arguments)}function pm(){return(pm=(0,Ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const o={method:"POST",body:JSON.stringify(e),headers:r};let c,u;try{c=yield fetch(n,o)}catch(I){throw ai.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==c.status)throw ai.create("fetch-status-error",{httpStatus:c.status});try{u=yield c.json()}catch(I){throw ai.create("fetch-parse-error",{originalErrorMessage:I.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw ai.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(f[1]),w=Date.now();return{token:u.attestationToken,expireTimeMillis:w+_,issuedAtTimeMillis:w}})).apply(this,arguments)}function mE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ph="firebase-app-check-store";let gm=null;function Sv(){return gm||(gm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ai.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ph,{keyPath:"compositeKey"})}}catch(t){e(ai.create("storage-open",{originalErrorMessage:t.message}))}}),gm)}function mm(){return(mm=(0,Ge.Z)(function*(n,e){const r=(yield Sv()).transaction(ph,"readwrite"),o=r.objectStore(ph).put({compositeKey:n,value:e});return new Promise((c,u)=>{o.onsuccess=f=>{c()},r.onerror=f=>{var _;u(ai.create("storage-set",{originalErrorMessage:null===(_=f.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Jf=new Co.Yd("@firebase/app-check");function _m(n,e){return(0,on.hl)()?function AT(n,e){return function bE(n,e){return mm.apply(this,arguments)}(function EE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MT(){return Do().enabled}function OT(){return CE.apply(this,arguments)}function CE(){return(CE=(0,Ge.Z)(function*(){const n=Do();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const IE={error:"UNKNOWN_ERROR"};function CO(n){return on.US.encodeString(JSON.stringify(n),!1)}function vm(n){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,Ge.Z)(function*(n,e=!1){const t=n.app;Qu(t);const r=Ui(t);let o,i=r.token;if(!i){const f=yield r.cachedTokenPromise;f&&wm(f)&&(i=f)}if(!e&&i&&wm(i))return{token:i.token};let u,c=!1;if(MT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fm(mE(t,yield OT()),n.platformLoggerProvider).then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0);const f=yield r.exchangeTokenPromise;return yield _m(t,f),Io(t,Object.assign(Object.assign({},r),{token:f})),{token:f.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(f=>(r.exchangeTokenPromise=void 0,f)),c=!0),i=yield r.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Jf.warn(f.message):Jf.error(f),o=f}return i?(u={token:i.token},Io(t,Object.assign(Object.assign({},r),{token:i})),yield _m(t,i)):u=xE(o),c&&ep(t,u),u})).apply(this,arguments)}function bm(n,e){const t=Ui(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Io(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function DE(n){const{app:e}=n,t=Ui(e);let r=t.tokenRefresher;r||(r=function TE(n){const{app:e}=n;return new uh((0,Ge.Z)(function*(){let r;if(r=Ui(e).token?yield vm(n,!0):yield vm(n),r.error)throw r.error}),()=>!0,()=>{const t=Ui(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Io(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ep(n,e){const t=Ui(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function wm(n){return n.expireTimeMillis-Date.now()>0}function xE(n){return{token:CO(IE),error:n}}class RT{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ui(this.app);for(const t of e)bm(this.app,t.next);return Promise.resolve()}}const Dm="app-check-internal";!function LE(){(0,Ku._registerComponent)(new dm.wA("app-check",n=>function kT(n,e){return new RT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Dm).initialize()})),(0,Ku._registerComponent)(new dm.wA(Dm,n=>function NT(n){return{getToken:e=>vm(n,e),addTokenListener:e=>function Rv(n,e,t,r){const{app:i}=n,o=Ui(i),c={next:t,error:r,type:e};if(Io(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&wm(o.token)){const u=o.token;Promise.resolve().then(()=>{t({token:u.token}),DE(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>DE(n))}(n,"INTERNAL",e),removeTokenListener:e=>bm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ku.registerVersion)("@firebase/app-check","0.5.3")}();class Tm{constructor(){return(0,oi.vb)("app-check")}}"undefined"!=typeof window&&window;var Vv=O(127);const Bv=new p.OlP("angularfire2.auth.use-emulator"),QT=new p.OlP("angularfire2.auth.settings"),VE=new p.OlP("angularfire2.auth.tenant-id"),BE=new p.OlP("angularfire2.auth.langugage-code"),Uv=new p.OlP("angularfire2.auth.use-device-language"),UE=new p.OlP("angularfire.auth.persistence"),li=(n,e,t,r,i,o,c,u)=>(0,ka.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),r&&(f.tenantId=r),f.languageCode=i,o&&f.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))f.settings[_]=w;return u&&f.setPersistence(u),f},[t,r,i,o,c,u]);let op=(()=>{class n{constructor(t,r,i,o,c,u,f,_,w,I,S,N){const B=new yo.x,j=(0,D.of)(void 0).pipe((0,Dv.Q)(c.outsideAngular),(0,vr.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,3059)))),(0,Ht.U)(()=>(0,ka.on)(t,o,r)),(0,Ht.U)(ee=>li(ee,o,u,_,w,I,f,S)),aE({bufferSize:1,refCount:!1}));if(Kr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,D.of)(null);else{j.pipe(Nl()).subscribe();const fe=j.pipe((0,vr.w)(Ve=>Ve.getRedirectResult().then(Be=>Be,()=>null)),oi.iC,aE({bufferSize:1,refCount:!1})),Re=j.pipe((0,vr.w)(Ve=>new Z.y(Be=>({unsubscribe:o.runOutsideAngular(()=>Ve.onAuthStateChanged(lt=>Be.next(lt),lt=>Be.error(lt),()=>Be.complete()))})))),Je=j.pipe((0,vr.w)(Ve=>new Z.y(Be=>({unsubscribe:o.runOutsideAngular(()=>Ve.onIdTokenChanged(lt=>Be.next(lt),lt=>Be.error(lt),()=>Be.complete()))}))));this.authState=fe.pipe(wT(Re),(0,lE.R)(c.outsideAngular),(0,Dv.Q)(c.insideAngular)),this.user=fe.pipe(wT(Je),(0,lE.R)(c.outsideAngular),(0,Dv.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,vr.w)(Ve=>Ve?(0,T.D)(Ve.getIdToken()):(0,D.of)(null))),this.idTokenResult=this.user.pipe((0,vr.w)(Ve=>Ve?(0,T.D)(Ve.getIdTokenResult()):(0,D.of)(null))),this.credential=(0,sE.T)(fe,B,this.authState.pipe((0,bi.h)(Ve=>!Ve))).pipe((0,Ht.U)(Ve=>(null==Ve?void 0:Ve.user)?Ve:null),(0,lE.R)(c.outsideAngular),(0,Dv.Q)(c.insideAngular))}return(0,ka.pX)(this,j,o,{spy:{apply:(ee,fe,Re)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&Re.then(Je=>B.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ka.Dh),p.LFG(ka.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(oi.HU),p.LFG(Bv,8),p.LFG(QT,8),p.LFG(VE,8),p.LFG(BE,8),p.LFG(Uv,8),p.LFG(UE,8),p.LFG(Tm,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XT=(()=>{class n{constructor(){Vv.Z.registerVersion("angularfire",oi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[op]}),n})();var JT=O(4986);function Am(){return(0,Ls.e)((n,e)=>{let t,r=!1;n.subscribe((0,_i.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var It,jE=O(1884),HE=(O(3059),O(3942)),mh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jl={},Sm=Sm||{},Qt=mh||self;function ap(){}function $E(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ra="closure_uid_"+(1e9*Math.random()>>>0),tx=0;function nx(n,e,t){return n.call.apply(n.bind,arguments)}function al(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qn(n,e,t){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nx:al).apply(null,arguments)}function eo(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ji(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return e.prototype[i].apply(r,c)}}function ec(){this.s=this.s,this.o=this.o}var ix={};ec.prototype.s=!1,ec.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function jv(n){return Object.prototype.hasOwnProperty.call(n,ra)&&n[ra]||(n[ra]=++tx)}(this);delete ix[n]}},ec.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},GE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let o=0;o<r;o++)o in i&&e.call(t,i[o],o,n)};function _h(n){return Array.prototype.concat.apply([],arguments)}function $v(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lp(n){return/^[\s\xa0]*$/.test(n)}var Hi,WE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vs(n,e){return-1!=n.indexOf(e)}function Mm(n,e){return n<e?-1:n>e?1:0}e:{var qE=Qt.navigator;if(qE){var zv=qE.userAgent;if(zv){Hi=zv;break e}}Hi=""}function Om(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Pm(n){const e={};for(const t in n)e[t]=n[t];return e}var cp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<cp.length;o++)t=cp[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Rm(n){return Rm[" "](n),n}Rm[" "]=ap;var Nm,n,ZE=vs(Hi,"Opera"),Xu=vs(Hi,"Trident")||vs(Hi,"MSIE"),Wv=vs(Hi,"Edge"),km=Wv||Xu,qv=vs(Hi,"Gecko")&&!(vs(Hi.toLowerCase(),"webkit")&&!vs(Hi,"Edge"))&&!(vs(Hi,"Trident")||vs(Hi,"MSIE"))&&!vs(Hi,"Edge"),sx=vs(Hi.toLowerCase(),"webkit")&&!vs(Hi,"Edge");function YE(){var n=Qt.document;return n?n.documentMode:void 0}e:{var Kv="",Zv=(n=Hi,qv?/rv:([^\);]+)(\)|;)/.exec(n):Wv?/Edge\/([\d\.]+)/.exec(n):Xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sx?/WebKit\/(\S+)/.exec(n):ZE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zv&&(Kv=Zv?Zv[1]:""),Xu){var Yv=YE();if(null!=Yv&&Yv>parseFloat(Kv)){Nm=String(Yv);break e}}Nm=Kv}var ox={};var lx=Qt.document&&Xu&&(YE()||parseInt(Nm,10))||void 0,cx=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",ap,e),Qt.removeEventListener("test",ap,e)}catch(t){}return n}();function bs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function up(n,e){if(bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qv){e:{try{Rm(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ux[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&up.Z.h.call(this)}}bs.prototype.h=function(){this.defaultPrevented=!0},ji(up,bs);var ux={2:"touch",3:"pen",4:"mouse"};up.prototype.h=function(){up.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var dp="closure_listenable_"+(1e6*Math.random()|0),dx=0;function hx(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++dx,this.ca=this.fa=!1}function hp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function fp(n){this.src=n,this.g={},this.h=0}function Lm(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=zE(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(hp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fm(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==r)return i}return-1}fp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Fm(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new hx(e,this.src,o,!!r,i)).fa=t,n.push(e)),e};var Vm="closure_lm_"+(1e6*Math.random()|0),Bm={};function Xv(n,e,t,r,i){if(r&&r.once)return eb(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xv(n,e[o],t,r,i);return null}return t=pp(t),n&&n[dp]?n.N(e,t,yh(r)?!!r.capture:!!r,i):Jv(n,e,t,!1,r,i)}function Jv(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=yh(i)?!!i.capture:!!i,u=eu(n);if(u||(n[Vm]=u=new fp(n)),(t=u.add(e,t,r,c,o)).proxy)return t;if(r=function XE(){var e=fx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cx||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(JE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eb(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eb(n,e[o],t,r,i);return null}return t=pp(t),n&&n[dp]?n.O(e,t,yh(r)?!!r.capture:!!r,i):Jv(n,e,t,!0,r,i)}function tb(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tb(n,e[o],t,r,i);else r=yh(r)?!!r.capture:!!r,t=pp(t),n&&n[dp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fm(o=n.g[e],t,r,i))&&(hp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=eu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fm(e,t,r,i)),(t=-1<n?e[n]:null)&&tc(t))}function tc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[dp])Lm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(JE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=eu(e))?(Lm(t,n),0==t.h&&(t.src=null,e[Vm]=null)):hp(n)}}}function JE(n){return n in Bm?Bm[n]:Bm[n]="on"+n}function fx(n,e){if(n.ca)n=!0;else{e=new up(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&tc(n),n=t.call(r,e)}return n}function eu(n){return(n=n[Vm])instanceof fp?n:null}var eC="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(n){return"function"==typeof n?n:(n[eC]||(n[eC]=function(e){return n.handleEvent(e)}),n[eC])}function Qi(){ec.call(this),this.i=new fp(this),this.P=this,this.I=null}function $i(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new bs(e,n);else if(e instanceof bs)e.target=e.target||n;else{var i=e;Gv(e=new bs(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=gp(c,r,!0,e)&&i}if(i=gp(c=e.g=n,r,!0,e)&&i,i=gp(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=gp(c=e.g=t[o],r,!1,e)&&i}function gp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ca&&c.capture==t){var u=c.listener,f=c.ia||c.src;c.fa&&Lm(n.i,c),i=!1!==u.call(f,r)&&i}}return i&&!r.defaultPrevented}ji(Qi,ec),Qi.prototype[dp]=!0,Qi.prototype.removeEventListener=function(n,e,t,r){tb(this,n,e,t,r)},Qi.prototype.M=function(){if(Qi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hp(t[r]);delete n.g[e],n.h--}}this.I=null},Qi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tC=Qt.JSON.stringify;function Bt(){var n=mx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vh,nC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gx,n=>n.reset());class gx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Um(n){Qt.setTimeout(()=>{throw n},0)}function nb(n,e){vh||function jm(){var n=Qt.Promise.resolve(void 0);vh=function(){n.then(rC)}}(),wr||(vh(),wr=!0),mx.add(n,e)}var wr=!1,mx=new class px{constructor(){this.h=this.g=null}add(e,t){const r=nC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rC(){for(var n;n=Bt();){try{n.h.call(n.g)}catch(t){Um(t)}var e=nC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wr=!1}function Hm(n,e){Qi.call(this),this.h=n||1,this.g=e||Qt,this.j=Qn(this.kb,this),this.l=Date.now()}function rb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function $m(n,e,t){if("function"==typeof n)t&&(n=Qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function ib(n){n.g=$m(()=>{n.g=null,n.i&&(n.i=!1,ib(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ji(Hm,Qi),(It=Hm.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$i(this,"tick"),this.da&&(rb(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){Hm.Z.M.call(this),rb(this),delete this.g};class iC extends ec{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ib(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bh(n){ec.call(this),this.h=n,this.g={}}ji(bh,ec);var sC=[];function oC(n,e,t,r){Array.isArray(t)||(t&&(sC[0]=t.toString()),t=sC);for(var i=0;i<t.length;i++){var o=Xv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function aC(n){Om(n.g,function(e,t){this.g.hasOwnProperty(t)&&tc(e)},n),n.g={}}function tu(){this.g=!0}function wh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return tC(t)}catch(u){return e}}(n,t)+(r?" "+r:"")})}bh.prototype.M=function(){bh.Z.M.call(this),aC(this)},bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tu.prototype.Aa=function(){this.g=!1},tu.prototype.info=function(){};var nu={},sb=null;function Gm(){return sb=sb||new Qi}function Eh(n){bs.call(this,nu.Ma,n)}function nc(n){const e=Gm();$i(e,new Eh(e,n))}function cC(n,e){bs.call(this,nu.STAT_EVENT,n),this.stat=e}function Hs(n){const e=Gm();$i(e,new cC(e,n))}function uC(n,e){bs.call(this,nu.Na,n),this.size=e}function Ch(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}nu.Ma="serverreachability",ji(Eh,bs),nu.STAT_EVENT="statevent",ji(cC,bs),nu.Na="timingevent",ji(uC,bs);var mp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ob={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ab(){}function dC(){}ab.prototype.h=null;var pC,yp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hC(){bs.call(this,"d")}function fC(){bs.call(this,"c")}function cb(){}function Ih(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new bh(this),this.P=vx,this.W=new Hm(n=km?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}ji(hC,bs),ji(fC,bs),ji(cb,ab),cb.prototype.g=function(){return new XMLHttpRequest},cb.prototype.i=function(){return{}},pC=new cb;var vx=45e3,ub={},vp={};function Ju(n,e,t){n.K=1,n.v=Zm(ll(e)),n.s=t,n.U=!0,gC(n,null)}function gC(n,e){n.F=Date.now(),bp(n),n.A=ll(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),DC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new _p,n.g=$C(n.l,t?e:null,!n.s),0<n.O&&(n.L=new iC(Qn(n.Ia,n,n.g),n.O)),oC(n.V,n.g,"readystatechange",n.gb),e=n.H?Pm(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),nc(1),function yx(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",u=o.split("&"),f=0;f<u.length;f++){var _=u[f].split("=");if(1<_.length){var w=_[0];_=_[1];var I=w.split("_");c=2<=I.length&&"type"==I[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function mC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function yC(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=bx(n,t),i==vp){4==e&&(n.o=4,Hs(14),r=!1),wh(n.j,n.m,null,"[Incomplete Response]");break}if(i==ub){n.o=4,Hs(15),wh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wh(n.j,n.m,i,null),hb(n,i)}mC(n)&&i!=vp&&i!=ub&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),VC(e),e.L=!0,Hs(11))):(wh(n.j,n.m,t,"[Invalid Chunked Response]"),ia(n),wp(n))}function bx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vp:(t=Number(e.substring(t,r)),isNaN(t)?ub:(r+=1)+t>e.length?vp:(e=e.substr(r,t),n.C=r+t,e))}function bp(n){n.Y=Date.now()+n.P,db(n,n.P)}function db(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ch(Qn(n.eb,n),e)}function Wm(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function wp(n){0==n.l.G||n.I||BC(n.l,n)}function ia(n){Wm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rb(n.W),aC(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_b(t.i,n)))if(t.I=n.N,!n.J&&_b(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ch(Qn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sh(t),Jm(t)}ey(t),Hs(18)}if(1>=xC(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else sd(t,11)}else if((n.J||t.g==n)&&Sh(t),!lp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const w=_[3];null!=w&&(t.ma=w,t.h.info("VER="+t.ma));const I=_[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const S=_[5];null!=S&&"number"==typeof S&&0<S&&(t.K=r=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const B=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var o=r.i;!o.g&&(vs(B,"spdy")||vs(B,"quic")||vs(B,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Dp(o,o.h),o.h=null))}if(r.D){const j=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(r.sa=j,lr(r.F,r.D,j))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=HC(r,r.H?r.la:null,r.W),c.J){AC(r.i,c);var u=c,f=r.K;f&&u.setTimeout(f),u.B&&(Wm(u),bp(u)),r.g=c}else Rx(r);0<t.l.length&&Sp(t)}else"stop"!=_[0]&&"close"!=_[0]||sd(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?sd(t,7):NC(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}nc(4)}catch(_){}}function fb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($E(n)||"string"==typeof n)GE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if($E(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function _C(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if($E(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}}function ed(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ed)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function pb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ru(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ru(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ru(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(It=Ih.prototype).setTimeout=function(n){this.P=n},It.gb=function(n){n=n.target;const e=this.L;e&&3==cl(n)?e.l():this.Ia(n)},It.Ia=function(n){try{if(n==this.g)e:{const w=cl(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>w)&&(3!=w||km||this.g&&(this.h.h||this.g.ga()||Ib(this.g)))){this.I||4!=w||7==e||nc(8==e||0>=I?3:2),Wm(this);var t=this.g.ba();this.N=t;t:if(mC(this)){var r=Ib(this.g);n="";var i=r.length,o=4==cl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ia(this),wp(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function _x(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,t),this.i){if(this.$&&!this.J){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lp(u)){var _=u;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Hs(12),ia(this),wp(this);break e}wh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hb(this,t)}this.U?(yC(this,w,c),km&&this.i&&3==w&&(oC(this.V,this.W,"tick",this.fb),this.W.start())):(wh(this.j,this.m,c,null),hb(this,c)),4==w&&ia(this),this.i&&!this.I&&(4==w?BC(this.l,this):(this.i=!1,bp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Hs(12)):(this.o=0,Hs(13)),ia(this),wp(this)}}}catch(w){}},It.fb=function(){if(this.g){var n=cl(this.g),e=this.g.ga();this.C<e.length&&(Wm(this),yC(this,n,e),this.i&&4!=n&&bp(this))}},It.cancel=function(){this.I=!0,ia(this)},It.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function zm(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nc(3),Hs(17)),ia(this),this.o=2,wp(this)):db(this,this.Y-n)},(It=ed.prototype).R=function(){pb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},It.T=function(){return pb(this),this.g.concat()},It.get=function(n,e){return ru(this.h,n)?this.h[n]:e},It.set=function(n,e){ru(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},It.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],o=this.get(i);n.call(e,o,i,this)}};var vC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function td(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof td){this.g=void 0!==e?e:n.g,Ep(this,n.j),this.s=n.s,qm(this,n.i),Km(this,n.m),this.l=n.l,e=n.h;var t=new Dh;t.i=e.i,e.g&&(t.g=new ed(e.g),t.h=e.h),bC(this,t),this.o=n.o}else n&&(t=String(n).match(vC))?(this.g=!!e,Ep(this,t[1]||"",!0),this.s=Cp(t[2]||""),qm(this,t[3]||"",!0),Km(this,t[4]),this.l=Cp(t[5]||"",!0),bC(this,t[6]||"",!0),this.o=Cp(t[7]||"")):(this.g=!!e,this.h=new Dh(null,this.g))}function ll(n){return new td(n)}function Ep(n,e,t){n.j=t?Cp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qm(n,e,t){n.i=t?Cp(e,!0):e}function Km(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bC(n,e,t){e instanceof Dh?(n.h=e,function Tx(n,e){e&&!n.j&&(iu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(IC(this,r),DC(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ip(e,Dx)),n.h=new Dh(e,n.g))}function lr(n,e,t){n.h.set(e,t)}function Zm(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ex),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ex(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}td.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ip(e,EC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ip(e,EC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ip(t,"/"==t.charAt(0)?Ix:Cx,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ip(t,CC)),n.join("")};var EC=/[#\/\?@]/g,Cx=/[#\?:]/g,Ix=/[#\?]/g,Dx=/[#\?@]/g,CC=/#/g;function Dh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function iu(n){n.g||(n.g=new ed,n.h=0,n.i&&function gb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function IC(n,e){iu(n),e=Th(n,e),ru(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ru((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&pb(n)))}function mb(n,e){return iu(n),e=Th(n,e),ru(n.g.h,e)}function DC(n,e,t){IC(n,e),0<t.length&&(n.i=null,n.g.set(Th(n,e),$v(t)),n.h+=t.length)}function Th(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ym(n){this.l=n||TC,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ea&&Qt.g.Ea()&&Qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Dh.prototype).add=function(n,e){iu(this),this.i=null,n=Th(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){iu(this),this.g.forEach(function(t,r){GE(t,function(i){n.call(e,i,r,this)},this)},this)},It.T=function(){iu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],o=0;o<i.length;o++)t.push(e[r]);return t},It.R=function(n){iu(this);var e=[];if("string"==typeof n)mb(this,n)&&(e=_h(e,this.g.get(Th(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=_h(e,n[t])}return e},It.set=function(n,e){return iu(this),this.i=null,mb(this,n=Th(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var c=i;""!==r[o]&&(c+="="+encodeURIComponent(String(r[o]))),n.push(c)}}return this.i=n.join("&")};var TC=10;function Qm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xC(n){return n.h?1:n.g?n.g.size:0}function _b(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Dp(n,e){n.g?n.g.add(e):n.h=e}function AC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $v(n.i)}function bb(){}function SC(){this.g=new bb}function xx(n,e,t){const r=t||"";try{fb(n,function(i,o){let c=i;yh(i)&&(c=tC(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wb(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Tp(n){this.l=n.$b||null,this.j=n.ib||!1}function nd(n,e){Qi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Eb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ym.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},bb.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},bb.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},ji(Tp,ab),Tp.prototype.g=function(){return new nd(this.l,this.j)},Tp.prototype.i=function(n){return function(){return n}}({}),ji(nd,Qi);var Eb=0;function rd(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function rc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xp(n)}function xp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=nd.prototype).open=function(n,e){if(this.readyState!=Eb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,xp(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rc(this)),this.readyState=Eb},It.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xp(this)),this.g&&(this.readyState=3,xp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Qt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rd(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?rc(this):xp(this),3==this.readyState&&rd(this)}},It.Ua=function(n){this.g&&(this.response=this.responseText=n,rc(this))},It.Ta=function(n){this.g&&(this.response=n,rc(this))},It.ha=function(){this.g&&rc(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var SO=Qt.JSON.parse;function Yr(n){Qi.call(this),this.headers=new ed,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OC,this.K=this.L=!1}ji(Yr,Qi);var OC="",Ax=/^https?$/i,Sx=["POST","PUT"];function PC(n){return"content-type"==n.toLowerCase()}function Cb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xm(n),su(n)}function Xm(n){n.D||(n.D=!0,$i(n,"complete"),$i(n,"error"))}function Ap(n){if(n.h&&void 0!==Sm&&(!n.C[1]||4!=cl(n)||2!=n.ba()))if(n.v&&4==cl(n))$m(n.Fa,0,n);else if($i(n,"readystatechange"),4==cl(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.H).match(vC)[1]||null;if(!i&&Qt.self&&Qt.self.location){var o=Qt.self.location.protocol;i=o.substr(0,o.length-1)}r=!Ax.test(i?i.toLowerCase():"")}t=r}if(t)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var c=2<cl(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.ba()+"]",Xm(n)}}finally{su(n)}}}function su(n,e){if(n.g){RC(n);const t=n.g,r=n.C[0]?ap:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function RC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function cl(n){return n.g?n.g.readyState:0}function Ib(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Db(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Ox(n){let e="";return Om(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lr(n,e,t))}function id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kC(n){this.za=0,this.l=[],this.h=new tu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=id("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=id("baseRetryDelayMs",5e3,n),this.$a=id("retryDelaySeedMs",1e4,n),this.Ya=id("forwardChannelMaxRetries",2,n),this.ra=id("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ym(n&&n.concurrentRequestLimit),this.Ca=new SC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function NC(n){if(LC(n),3==n.G){var e=n.V++,t=ll(n.F);lr(t,"SID",n.J),lr(t,"RID",e),lr(t,"TYPE","terminate"),Ah(n,t),(e=new Ih(n,n.h,e,void 0)).K=2,e.v=Zm(ll(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(t=Qt.navigator.sendBeacon(e.v.toString(),"")),!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$C(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bp(e)}jC(n)}function Jm(n){n.g&&(VC(n),n.g.cancel(),n.g=null)}function LC(n){Jm(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),Sh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function ou(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Sp(n)}function Sp(n){Qm(n.i)||n.m||(n.m=!0,nb(n.Ha,n),n.C=0)}function Px(n,e){var t;t=e?e.m:n.V++;const r=ll(n.F);lr(r,"SID",n.J),lr(r,"RID",t),lr(r,"AID",n.U),Ah(n,r),n.o&&n.s&&Db(r,n.o,n.s),t=new Ih(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=FC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Dp(n.i,t),Ju(t,r,e)}function Ah(n,e){n.j&&fb({},function(t,r){lr(e,r,t)})}function FC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Qn(n.j.Oa,n.j,n):null;e:{var i=n.l;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let u=!0;for(let f=0;f<t;f++){let _=i[f].h;const w=i[f].g;if(_-=o,0>_)o=Math.max(0,i[f].h-100),u=!1;else try{xx(w,c,"req"+_+"_")}catch(I){r&&r(w)}}if(u){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Rx(n){n.g||n.u||(n.Y=1,nb(n.Ga,n),n.A=0)}function ey(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ch(Qn(n.Ga,n),UC(n,n.A)),n.A++,0))}function VC(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function Tb(n){n.g=new Ih(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ll(n.oa);lr(e,"RID","rpc"),lr(e,"SID",n.J),lr(e,"CI",n.N?"0":"1"),lr(e,"AID",n.U),Ah(n,e),lr(e,"TYPE","xmlhttp"),n.o&&n.s&&Db(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Zm(ll(e)),t.s=null,t.U=!0,gC(t,n)}function Sh(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function BC(n,e){var t=null;if(n.g==e){Sh(n),VC(n),n.g=null;var r=2}else{if(!_b(n.i,e))return;t=e.D,AC(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;$i(r=Gm(),new uC(r,t,e,i)),Sp(n)}else Rx(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function xh(n,e){return!(xC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ch(Qn(n.Ha,n,e),UC(n,n.C)),n.C++,0)))}(n,e)||2==r&&ey(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:sd(n,5);break;case 4:sd(n,10);break;case 3:sd(n,6);break;default:sd(n,2)}}function UC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function sd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Qn(n.jb,n);t||(t=new td("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||Ep(t,"https"),Zm(t)),function MC(n,e){const t=new tu;if(Qt.Image){const r=new Image;r.onload=eo(wb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=eo(wb,t,r,"TestLoadImage: error",!1,e),r.onabort=eo(wb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=eo(wb,t,r,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hs(2);n.G=0,n.j&&n.j.va(e),jC(n),LC(n)}function jC(n){n.G=0,n.I=-1,n.j&&((0!=vb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,$v(n.l),n.l.length=0),n.j.ua())}function HC(n,e,t){let r=function wC(n){return n instanceof td?ll(n):new td(n,void 0)}(t);if(""!=r.i)e&&qm(r,e+"."+r.i),Km(r,r.m);else{const i=Qt.location;r=function wx(n,e,t,r){var i=new td(null,void 0);return n&&Ep(i,n),e&&qm(i,e),t&&Km(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Om(n.aa,function(i,o){lr(r,o,i)}),t=n.sa,(e=n.D)&&t&&lr(r,e,t),lr(r,"VER",n.ma),Ah(n,r),r}function $C(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(t&&n.Ba&&!n.qa?new Tp({ib:!0}):n.qa)).L=n.H,e}function zC(){}function ty(){if(Xu&&!(10<=Number(lx)))throw Error("Environmental error: no available transport.")}function xo(n,e){Qi.call(this),this.g=new kC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!lp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new od(this)}function GC(n){hC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Mh(){fC.call(this),this.status=1}function od(n){this.g=n}(It=Yr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pC.g(),this.C=function lb(n){return n.h||(n.h=n.i())}(this.u?this.u:pC),this.g.onreadystatechange=Qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void Cb(this,o)}n=t||"";const i=new ed(this.headers);r&&fb(r,function(o,c){i.set(c,o)}),r=function Hv(n){e:{var e=PC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Qt.FormData&&n instanceof Qt.FormData,!(0<=zE(Sx,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RC(this),0<this.B&&((this.K=function Mx(n){return Xu&&function ax(){return function KE(n){var e=ox;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=WE(String(Nm)).split("."),t=WE("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",o=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Mm(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Mm(0==i[2].length,0==o[2].length)||Mm(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.pa,this)):this.A=$m(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Cb(this,o)}},It.pa=function(){void 0!==Sm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),su(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),su(this,!0)),Yr.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?Ap(this):this.cb())},It.cb=function(){Ap(this)},It.ba=function(){try{return 2<cl(this)?this.g.status:-1}catch(n){return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},It.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),SO(e)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=kC.prototype).ma=8,It.G=1,It.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},It.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ih(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=Pm(o),Gv(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FC(this,i,e),lr(t=ll(this.F),"RID",n),lr(t,"CVER",22),this.D&&lr(t,"X-HTTP-Session-Id",this.D),Ah(this,t),this.o&&o&&Db(t,this.o,o),Dp(this.i,i),this.Ra&&lr(t,"TYPE","init"),this.ja?(lr(t,"$req",e),lr(t,"SID","null"),i.$=!0,Ju(i,t,null)):Ju(i,t,e),this.G=2}}else 3==this.G&&(n?Px(this,n):0==this.l.length||Qm(this.i)||Px(this))},It.Ga=function(){if(this.u=null,Tb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ch(Qn(this.bb,this),n)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hs(10),Jm(this),Tb(this))},It.ab=function(){null!=this.v&&(this.v=null,Jm(this),ey(this),Hs(19))},It.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hs(2)):(this.h.info("Failed to ping google.com"),Hs(1))},(It=zC.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},ty.prototype.g=function(n,e){return new xo(n,e)},ji(xo,Qi),xo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),nb(Qn(n.hb,n,e))),Hs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=HC(n,null,n.W),Sp(n)},xo.prototype.close=function(){NC(this.g)},xo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ou(this.g,e)}else this.v?((e={}).__data__=tC(n),ou(this.g,e)):ou(this.g,n)},xo.prototype.M=function(){this.g.j=null,delete this.j,NC(this.g),delete this.g,xo.Z.M.call(this)},ji(GC,hC),ji(Mh,fC),ji(od,zC),od.prototype.xa=function(){$i(this.g,"a")},od.prototype.wa=function(n){$i(this.g,new GC(n))},od.prototype.va=function(n){$i(this.g,new Mh(n))},od.prototype.ua=function(){$i(this.g,"b")},ty.prototype.createWebChannel=ty.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,mp.NO_ERROR=0,mp.TIMEOUT=8,mp.HTTP_ERROR=6,ob.COMPLETE="complete",dC.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",Qi.prototype.listen=Qi.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var WC=Jl.createWebChannelTransport=function(){return new ty},qC=Jl.getStatEventTarget=function(){return Gm()},ny=Jl.ErrorCode=mp,KC=Jl.EventType=ob,ZC=Jl.Event=nu,YC=Jl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QC=Jl.FetchXmlHttpFactory=Tp,Mp=Jl.WebChannel=dC,kx=Jl.XhrIo=Yr;const xb="@firebase/firestore";class Xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let ul="9.6.7";const au=new Co.Yd("@firebase/firestore");function Op(){return au.logLevel}function st(n,...e){if(au.logLevel<=Co.in.DEBUG){const t=e.map(Ab);au.debug(`Firestore (${ul}): ${n}`,...t)}}function Hr(n,...e){if(au.logLevel<=Co.in.ERROR){const t=e.map(Ab);au.error(`Firestore (${ul}): ${n}`,...t)}}function ic(n,...e){if(au.logLevel<=Co.in.WARN){const t=e.map(Ab);au.warn(`Firestore (${ul}): ${n}`,...t)}}function Ab(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+n;throw Hr(e),new Error(e)}function Zt(n,e){n||St()}function ht(n,e){return n}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let c=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ii,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const _=c;e.enqueueRetryable((0,Ge.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},f=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>f(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?f(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ii)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt("string"==typeof r.accessToken),new Sb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new Xi(e)}}class Lx{constructor(e,t,r){this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class MO{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Lx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=o=>{null!=o.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,st("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?i(o):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt("string"==typeof t.token),this.p=t.token,new iy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class $s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Pb(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}$s.A=-1;class JC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pb(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function bn(n,e){return n<e?-1:n>e?1:0}function Oh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function eI(n){return n+"\0"}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Di(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Di(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ad(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ph{constructor(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ph.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ph?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pn extends Ph{construct(e,t,r){return new Pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Pn(t)}static emptyPath(){return new Pn([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends Ph{construct(e,t,r){return new Ti(e,t,r)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Xe(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if("\\"===u){if(i+1===e.length)throw new Xe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Xe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else"`"===u?(c=!c,i++):"."!==u||c?(r+=u,i++):(o(),i++)}if(o(),c)throw new Xe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}class Rh{constructor(e){this.fields=e,e.sort(Ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const zs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(n){if(Zt(!!n),"string"==typeof n){let e=0;const t=zs.exec(n);if(Zt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$r(n.seconds),nanos:$r(n.nanos)}}function $r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ld(n){return"string"==typeof n?xi.fromBase64String(n):xi.fromUint8Array(n)}function rI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kh(n){const e=n.mapValue.fields.__previous_value__;return rI(e)?kh(e):e}function Pp(n){const e=Ao(n.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class Nb{constructor(e,t,r,i,o,c,u,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.useFetchStreams=f}}class cd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}function lu(n){return null==n}function Rp(n){return 0===n&&1/n==-1/0}function iI(n){return"number"==typeof n&&Number.isInteger(n)&&!Rp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Pn.fromString(e))}static fromName(e){return new vt(Pn.fromString(e).popFirst(5))}static empty(){return new vt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Pn(e.slice()))}}const sI={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rI(n)?4:10:St()}function to(n,e){if(n===e)return!0;const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pp(n).isEqual(Pp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ao(r.timestampValue),c=Ao(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ld(n.bytesValue).isEqual(ld(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return $r(r.geoPointValue.latitude)===$r(i.geoPointValue.latitude)&&$r(r.geoPointValue.longitude)===$r(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $r(r.integerValue)===$r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=$r(r.doubleValue),c=$r(i.doubleValue);return o===c?Rp(o)===Rp(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Oh(n.arrayValue.values||[],e.arrayValue.values||[],to);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Rb(o)!==Rb(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!to(o[u],c[u])))return!1;return!0}(n,e);default:return St()}var i}function ud(n,e){return void 0!==(n.values||[]).find(t=>to(t,e))}function kp(n,e){if(n===e)return 0;const t=cu(n),r=cu(e);if(t!==r)return bn(t,r);switch(t){case 0:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=$r(i.integerValue||i.doubleValue),u=$r(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Lb(n.timestampValue,e.timestampValue);case 4:return Lb(Pp(n),Pp(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(i,o){const c=ld(i),u=ld(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const _=bn(c[f],u[f]);if(0!==_)return _}return bn(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=bn($r(i.latitude),$r(o.latitude));return 0!==c?c:bn($r(i.longitude),$r(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],u=o.values||[];for(let f=0;f<c.length&&f<u.length;++f){const _=kp(c[f],u[f]);if(_)return _}return bn(c.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){const c=i.fields||{},u=Object.keys(c),f=o.fields||{},_=Object.keys(f);u.sort(),_.sort();for(let w=0;w<u.length&&w<_.length;++w){const I=bn(u[w],_[w]);if(0!==I)return I;const S=kp(c[u[w]],f[_[w]]);if(0!==S)return S}return bn(u.length,_.length)}(n.mapValue,e.mapValue);default:throw St()}}function Lb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Ao(n),r=Ao(e),i=bn(t.seconds,r.seconds);return 0!==i?i:bn(t.nanos,r.nanos)}function Nh(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ao(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ld(n.bytesValue).toBase64():"referenceValue"in n?vt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=sy(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const u of i)c?c=!1:o+=",",o+=`${u}:${sy(r.fields[u])}`;return o+"}"}(n.mapValue):St();var e}function dd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oy(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function ly(n){return!!n&&"nullValue"in n}function cy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fb(n){return!!n&&"mapValue"in n}function Np(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ad(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Np(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Np(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ws{constructor(e){this.value=e}static empty(){return new ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Np(t)}setAll(e){let t=Ti.emptyPath(),r={},i=[];e.forEach((c,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}c?r[u.lastSegment()]=Np(c):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Fb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ad(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ws(Np(this.value))}}function Vb(n){const e=[];return ad(n.fields,(t,r)=>{const i=new Ti([t]);if(Fb(r)){const o=Vb(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Rh(e)}class Er{constructor(e,t,r,i,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Er(e,0,Ut.min(),Ut.min(),ws.empty(),0)}static newFoundDocument(e,t,r){return new Er(e,1,t,Ut.min(),r,0)}static newNoDocument(e,t){return new Er(e,2,t,Ut.min(),ws.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Ut.min(),ws.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Bb=(()=>{class n{constructor(t,r,i,o){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=o}}return n.UNKNOWN_ID=-1,n})();class Lp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lh(0,uy.min())}}class uy{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new uy(Ut.min(),vt.empty(),-1)}}class Vx{constructor(e,t=null,r=[],i=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=u,this.P=null}}function Ub(n,e=null,t=[],r=[],i=null,o=null,c=null){return new Vx(n,e,t,r,i,o,c)}function Fp(n){const e=ht(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Nh(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nh(r)).join(",")),e.P=t}return e.P}function Vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!LO(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!to(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hp(n.startAt,e.startAt)&&Hp(n.endAt,e.endAt)}function Bp(n){return vt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Es extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Bx(e,t,r):"array-contains"===t?new PO(e,r):"in"===t?new RO(e,r):"not-in"===t?new kO(e,r):"array-contains-any"===t?new NO(e,r):new Es(e,t,r)}static v(e,t,r){return"in"===t?new Ux(e,r):new OO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(kp(t,this.value)):null!==t&&cu(this.value)===cu(t)&&this.V(kp(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bx extends Es{constructor(e,t,r){super(e,t,r),this.key=vt.fromName(r.referenceValue)}matches(e){const t=vt.comparator(e.key,this.key);return this.V(t)}}class Ux extends Es{constructor(e,t){super(e,"in",t),this.keys=jb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OO extends Es{constructor(e,t){super(e,"not-in",t),this.keys=jb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>vt.fromName(r.referenceValue))}class PO extends Es{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&ud(t.arrayValue,this.value)}}class RO extends Es{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ud(this.value.arrayValue,t)}}class kO extends Es{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ud(this.value.arrayValue,t)}}class NO extends Es{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ud(this.value.arrayValue,r))}}class Up{constructor(e,t){this.position=e,this.inclusive=t}}class jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function LO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function jx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?vt.comparator(vt.fromName(c.referenceValue),t.key):kp(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Hp(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!to(n.position[t],e.position[t]))return!1;return!0}class uu{constructor(e,t=null,r=[],i=[],o=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.D=null,this.C=null}}function Hb(n,e,t,r,i,o,c,u){return new uu(n,e,t,r,i,o,c,u)}function du(n){return new uu(n)}function $p(n){return!lu(n.limit)&&"F"===n.limitType}function zp(n){return!lu(n.limit)&&"L"===n.limitType}function aI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gp(n){for(const e of n.filters)if(e.S())return e.field;return null}function dy(n){return null!==n.collectionGroup}function hd(n){const e=ht(n);if(null===e.D){e.D=[];const t=Gp(e),r=aI(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new jp(t)),e.D.push(new jp(Ti.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.D.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new jp(Ti.keyField(),o))}}}return e.D}function So(n){const e=ht(n);if(!e.C)if("F"===e.limitType)e.C=Ub(e.path,e.collectionGroup,hd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of hd(e))t.push(new jp(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Up(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Up(e.startAt.position,!e.startAt.inclusive):null;e.C=Ub(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Hx(n,e,t){return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return Vp(So(n),So(e))&&n.limitType===e.limitType}function lI(n){return`${Fp(So(n))}|lt:${n.limitType}`}function Wp(n){return`Query(target=${function oI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Nh(r.value)}`;var r}).join(", ")}]`),lu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nh(t)).join(",")),`Target(${e})`}(So(n))}; limitType=${n.limitType})`}function $b(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):vt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const u=jx(i,o,c);return i.inclusive?u<=0:u<0}(t.startAt,hd(t),r)||t.endAt&&!function(i,o,c){const u=jx(i,o,c);return i.inclusive?u>=0:u>0}(t.endAt,hd(t),r)));var t,r}function $x(n){return(e,t)=>{let r=!1;for(const i of hd(n)){const o=FO(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function FO(n,e,t){const r=n.field.isKeyField()?vt.comparator(e.key,t.key):function(i,o,c){const u=o.data.field(i),f=c.data.field(i);return null!==u&&null!==f?kp(u,f):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}function zx(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function cI(n){return{integerValue:""+n}}function uI(n,e){return iI(e)?cI(e):zx(n,e)}class hy{constructor(){this._=void 0}}function VO(n,e,t){return n instanceof Vh?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Ji?dI(n,e):n instanceof sc?hI(n,e):function(r,i){const o=fy(r,i),c=py(o)+py(r.k);return oy(o)&&oy(r.k)?cI(c):zx(r.O,c)}(n,e)}function Gx(n,e,t){return n instanceof Ji?dI(n,e):n instanceof sc?hI(n,e):t}function fy(n,e){return n instanceof Bh?oy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vh extends hy{}class Ji extends hy{constructor(e){super(),this.elements=e}}function dI(n,e){const t=zb(e);for(const r of n.elements)t.some(i=>to(i,r))||t.push(r);return{arrayValue:{values:t}}}class sc extends hy{constructor(e){super(),this.elements=e}}function hI(n,e){let t=zb(e);for(const r of n.elements)t=t.filter(i=>!to(i,r));return{arrayValue:{values:t}}}class Bh extends hy{constructor(e,t){super(),this.O=e,this.k=t}}function py(n){return $r(n.integerValue||n.doubleValue)}function zb(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Uh{constructor(e,t){this.field=e,this.transform=t}}class fI{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class my{}function Gb(n,e,t){n instanceof jh?function(r,i,o){const c=r.value.clone(),u=Wb(r.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fd?function(r,i,o){if(!gy(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Wb(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(gI(r)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mo(n,e,t){var i;n instanceof jh?function(r,i,o){if(!gy(r.precondition,i))return;const c=r.value.clone(),u=mI(r.fieldTransforms,o,i);c.setAll(u),i.convertToFoundDocument(pI(i),c).setHasLocalMutations()}(n,e,t):n instanceof fd?function(r,i,o){if(!gy(r.precondition,i))return;const c=mI(r.fieldTransforms,o,i),u=i.data;u.setAll(gI(r)),u.setAll(c),i.convertToFoundDocument(pI(i),u).setHasLocalMutations()}(n,e,t):gy(n.precondition,i=e)&&i.convertToNoDocument(Ut.min())}function qx(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=fy(r.transform,i||null);null!=o&&(null==t&&(t=ws.empty()),t.set(r.field,o))}return t||null}function Kx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Oh(t,r,(i,o)=>function Wx(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ji&&r instanceof Ji||t instanceof sc&&r instanceof sc?Oh(t.elements,r.elements,to):t instanceof Bh&&r instanceof Bh?to(t.k,r.k):t instanceof Vh&&r instanceof Vh);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function pI(n){return n.isFoundDocument()?n.version:Ut.min()}class jh extends my{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class fd extends my{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}}function gI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wb(n,e,t){const r=new Map;Zt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,u=e.data.field(o.field);r.set(o.field,Gx(c,u,t[i]))}return r}function mI(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,VO(o,c,e))}return r}class yy extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class _y extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class yI{constructor(e){this.count=e}}var ci,In;function qb(n){switch(n){default:return St();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function vy(n){if(void 0===n)return Hr("GRPC error has no .code"),Le.UNKNOWN;switch(n){case ci.OK:return Le.OK;case ci.CANCELLED:return Le.CANCELLED;case ci.UNKNOWN:return Le.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Le.INTERNAL;case ci.UNAVAILABLE:return Le.UNAVAILABLE;case ci.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case ci.NOT_FOUND:return Le.NOT_FOUND;case ci.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case ci.ABORTED:return Le.ABORTED;case ci.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case ci.DATA_LOSS:return Le.DATA_LOSS;default:return St()}}(In=ci||(ci={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";class Rr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=null!=r?r:es.RED,this.left=null!=i?i:es.EMPTY,this.right=null!=o?o:es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new es(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(n,e,t,r,i){return this}insert(n,e,t){return new es(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hh(n){return n.hasNext()?n.getNext():void 0}const Zx=new Rr(vt.comparator);function Na(){return Zx}const BO=new Rr(vt.comparator);function by(){return BO}const Yx=new Rr(vt.comparator),Qx=new fr(vt.comparator);function Bn(...n){let e=Qx;for(const t of n)e=e.add(t);return e}const UO=new fr(bn);function Zb(){return UO}class wy{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,t)),new wy(Ut.min(),r,Zb(),Na(),Bn())}}class Ey{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ey(xi.EMPTY_BYTE_STRING,t,Bn(),Bn(),Bn())}}class Yb{constructor(e,t,r,i){this.M=e,this.removedTargetIds=t,this.key=r,this.$=i}}class _I{constructor(e,t){this.targetId=e,this.F=t}}class Kp{constructor(e,t,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vI{constructor(){this.B=0,this.L=hu(),this.U=xi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Bn(),t=Bn(),r=Bn();return this.L.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:St()}}),new Ey(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=hu()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Xx{constructor(e){this.nt=e,this.st=new Map,this.it=Na(),this.rt=Qb(),this.ot=new fr(bn)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.F.count,i=this.wt(t);if(i){const o=i.target;if(Bp(o))if(0===r){const c=new vt(o.path);this.at(t,c,Er.newNoDocument(c,Ut.min()))}else Zt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((o,c)=>{const u=this.wt(c);if(u){if(o.current&&Bp(u.target)){const f=new vt(u.target.path);null!==this.it.get(f)||this.It(c,f)||this.at(c,f,Er.newNoDocument(f,e))}o.j&&(t.set(c,o.H()),o.J())}});let r=Bn();this.rt.forEach((o,c)=>{let u=!0;c.forEachWhile(f=>{const _=this.wt(f);return!_||2===_.purpose||(u=!1,!1)}),u&&(r=r.add(o))}),this.it.forEach((o,c)=>c.setReadTime(e));const i=new wy(e,t,this.ot,this.it,r);return this.it=Na(),this.rt=Qb(),this.ot=new fr(bn),i}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new vI,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new fr(bn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||st("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new vI),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Qb(){return new Rr(vt.comparator)}function hu(){return new Rr(vt.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jb{constructor(e,t){this.databaseId=e,this.N=t}}function Zp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cy(n,e){return n.N?e.toBase64():e.toUint8Array()}function e0(n,e){return Zp(n,e.toTimestamp())}function Xr(n){return Zt(!!n),Ut.fromTimestamp(function(e){const t=Ao(e);return new Di(t.seconds,t.nanos)}(n))}function wI(n,e){return(t=n,new Pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jx(n){const e=Pn.fromString(n);return Zt(iA(e)),e}function Iy(n,e){return wI(n.databaseId,e.path)}function oc(n,e){const t=Jx(e);if(t.get(1)!==n.databaseId.projectId)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new vt(CI(t))}function Dy(n,e){return wI(n.databaseId,e)}function EI(n){const e=Jx(n);return 4===e.length?Pn.emptyPath():CI(e)}function Yp(n){return new Pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CI(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function II(n,e,t){return{name:Iy(n,e),fields:t.value.mapValue.fields}}function t0(n,e,t){const r=oc(n,e.name),i=Xr(e.updateTime),o=new ws({mapValue:{fields:e.fields}}),c=Er.newFoundDocument(r,i,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Qp(n,e){let t;if(e instanceof jh)t={update:II(n,e.key,e.value)};else if(e instanceof yy)t={delete:Iy(n,e.key)};else if(e instanceof fd)t={update:II(n,e.key,e.data),updateMask:HO(e.fieldMask)};else{if(!(e instanceof _y))return St();t={verify:Iy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Vh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ji)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof sc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bh)return{fieldPath:o.field.canonicalString(),increment:c.k};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:e0(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:St()),t;var i}function n0(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Qr.updateTime(Xr(i.updateTime)):void 0!==i.exists?Qr.exists(i.exists):Qr.none():Qr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let u=null;"setToServerValue"in c?(Zt("REQUEST_TIME"===c.setToServerValue),u=new Vh):"appendMissingElements"in c?u=new Ji(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new sc(c.removeAllFromArray.values||[]):"increment"in c?u=new Bh(o,c.increment):St();const f=Ti.fromServerFormat(c.fieldPath);return new Uh(f,u)}(n,i)):[];var i;if(e.update){const i=oc(n,e.update.name),o=new ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Rh((e.updateMask.fieldPaths||[]).map(_=>Ti.fromServerFormat(_)));return new fd(i,o,c,t,r)}return new jh(i,o,t,r)}if(e.delete){const i=oc(n,e.delete);return new yy(i,t)}if(e.verify){const i=oc(n,e.verify);return new _y(i,t)}return St()}function Ty(n,e){return{documents:[Dy(n,e.path)]}}function eA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Dy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const _=f.map(w=>function(I){if("=="===I.op){if(cy(I.value))return{unaryFilter:{field:Xp(I.field),op:"IS_NAN"}};if(ly(I.value))return{unaryFilter:{field:Xp(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(cy(I.value))return{unaryFilter:{field:Xp(I.field),op:"IS_NOT_NAN"}};if(ly(I.value))return{unaryFilter:{field:Xp(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xp(I.field),op:jO(I.op),value:I.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);i&&(t.structuredQuery.where=i);const o=function(f){if(0!==f.length)return f.map(_=>{return{field:Xp((w=_).field),direction:tA(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=(_=e.limit,n.N||lu(_)?_:{value:_});var _,u,f;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function r0(n){let e=EI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Zt(1===r);const w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=AI(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new jp(Jp((I=w).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let u=null;t.limit&&(u=function(w){let I;return I="object"==typeof w?w.value:w,lu(I)?null:I}(t.limit));let f=null;var w;t.startAt&&(f=new Up((w=t.startAt).values||[],!!w.before));let _=null;return t.endAt&&(_=function(w){return new Up(w.values||[],!w.before)}(t.endAt)),Hb(e,i,c,o,u,"F",f,_)}function AI(n){return n?void 0!==n.unaryFilter?[rA(n)]:void 0!==n.fieldFilter?[nA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>AI(e)).reduce((e,t)=>e.concat(t)):St():[]}function tA(n){return bI[n]}function jO(n){return Xb[n]}function Xp(n){return{fieldPath:n.canonicalString()}}function Jp(n){return Ti.fromServerFormat(n.fieldPath)}function nA(n){return Es.create(Jp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}function rA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Jp(n.unaryFilter.field);return Es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Jp(n.unaryFilter.field);return Es.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jp(n.unaryFilter.field);return Es.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jp(n.unaryFilter.field);return Es.create(i,"!=",{nullValue:"NULL_VALUE"});default:return St()}}function HO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ts(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sA(e)),e=$O(n.get(t),e);return sA(e)}function $O(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function sA(n){return n+"\x01\x01"}function hl(n){const e=n.length;if(Zt(e>=2),2===e)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&St(),n.charAt(c+1)){case"\x01":const u=n.substring(o,c);let f;0===i.length?f=u:(i+=u,f=i,i=""),r.push(f);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:St()}o=c+2}return new Pn(r)}class zO{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class sa{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}sa.store="owner",sa.key="owner";class pd{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}pd.store="mutationQueues",pd.keyPath="userId";class Cr{constructor(e,t,r,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o}}Cr.store="mutations",Cr.keyPath="batchId",Cr.userMutationsIndex="userMutationsIndex",Cr.userMutationsKeyPath=["userId","batchId"];class s{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ts(t)]}static key(e,t,r){return[e,ts(t),r]}}s.store="documentMutations",s.PLACEHOLDER=new s;class a{constructor(e,t){this.path=e,this.readTime=t}}class l{constructor(e,t){this.path=e,this.version=t}}class d{constructor(e,t,r,i,o,c){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=c}}d.store="remoteDocuments",d.readTimeIndex="readTimeIndex",d.readTimeIndexPath="readTime",d.collectionReadTimeIndex="collectionReadTimeIndex",d.collectionReadTimeIndexPath=["parentPath","readTime"];class h{constructor(e){this.byteSize=e}}h.store="remoteDocumentGlobal",h.key="remoteDocumentGlobalKey";class m{constructor(e,t,r,i,o,c,u){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=c,this.query=u}}m.store="targets",m.keyPath="targetId",m.queryTargetsIndexName="queryTargetsIndex",m.queryTargetsKeyPath=["canonicalId","targetId"];class b{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}b.store="targetDocuments",b.keyPath=["targetId","path"],b.documentTargetsIndex="documentTargetsIndex",b.documentTargetsKeyPath=["path","targetId"];class C{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}C.key="targetGlobalKey",C.store="targetGlobal";class x{constructor(e,t){this.collectionId=e,this.parent=t}}x.store="collectionParents",x.keyPath=["collectionId","parent"];class P{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}P.store="clientMetadata",P.keyPath="clientId";class L{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}L.store="bundles",L.keyPath="bundleId";class H{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}H.store="namedQueries",H.keyPath="name";class te{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}te.store="indexConfiguration",te.keyPath="indexId",te.collectionGroupIndex="collectionGroupIndex",te.collectionGroupIndexPath="collectionGroup";class pe{constructor(e,t,r,i,o,c){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=i,this.documentKey=o,this.largestBatchId=c}}pe.store="indexState",pe.keyPath=["indexId","uid"],pe.sequenceNumberIndex="sequenceNumberIndex",pe.sequenceNumberIndexPath=["uid","sequenceNumber"];class Fe{constructor(e,t,r,i,o){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=i,this.documentKey=o}}Fe.store="indexEntries",Fe.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Fe.documentKeyIndex="documentKeyIndex",Fe.documentKeyIndexPath=["indexId","uid","documentKey"];class Ye{constructor(e,t,r,i,o,c){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=i,this.largestBatchId=o,this.overlayMutation=c}}Ye.store="documentOverlays",Ye.keyPath=["userId","collectionPath","documentId"],Ye.collectionPathOverlayIndex="collectionPathOverlayIndex",Ye.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Ye.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Ye.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const ut=[pd.store,Cr.store,s.store,d.store,m.store,sa.store,C.store,b.store,P.store,h.store,x.store,L.store,H.store],wt=[...ut,Ye.store],Ze=[...wt,te.store,pe.store,Fe.store],Lt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let i=0,o=0,c=!1;e.forEach(u=>{++i,u.next(()=>{++o,c&&o===i&&t()},f=>r(f))}),c=!0,o===i&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(i=>i?Ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}}class Cs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Ii,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new gd(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=eg(r.target.error);this.At.reject(new gd(e,i))}}static open(e,t,r,i){try{return new Cs(t,e.transaction(i,r))}catch(o){throw new gd(t,o)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(st("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new a0(t)}}class ns{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===ns.vt((0,on.z$)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return st("SimpleDb","Removing database:",e),lc(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,on.hl)())return!1;if(ns.St())return!0;const e=(0,on.z$)(),t=ns.vt(e),r=0<t&&t<10,i=ns.Dt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,Ge.Z)(function*(){return t.db||(st("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const u=c.target.error;i("VersionError"===u.name?new Xe(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Xe(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new gd(e,u))},o.onupgradeneeded=c=>{st("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{st("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,Ge.Z)(function*(){const c="readonly"===t;let u=0;for(;;){++u;try{o.db=yield o.xt(e);const f=Cs.open(o.db,e,c?"readonly":"readwrite",r),_=i(f).next(w=>(f.Pt(),w)).catch(w=>(f.abort(w),Ce.reject(w))).toPromise();return _.catch(()=>{}),yield f.Rt,_}catch(f){const _="FirebaseError"!==f.name&&u<3;if(st("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),o.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class o0{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return lc(this.$t.delete())}}class gd extends Xe{constructor(e,t){super(Le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ac(n){return"IndexedDbTransactionError"===n.name}class a0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(st("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(st("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lc(r)}add(e){return st("SimpleDb","ADD",this.store.name,e,e),lc(this.store.add(e))}get(e){return lc(this.store.get(e)).next(t=>(void 0===t&&(t=null),st("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return st("SimpleDb","DELETE",this.store.name,e),lc(this.store.delete(e))}count(){return st("SimpleDb","COUNT",this.store.name),lc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.Kt(i,(c,u)=>{o.push(u)}).next(()=>o)}{const i=this.store.getAll(r.range);return new Ce((o,c)=>{i.onerror=u=>{c(u.target.error)},i.onsuccess=u=>{o(u.target.result)}})}}Gt(e,t){st("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(o,c,u)=>u.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}Wt(e){const t=this.cursor({});return new Ce((r,i)=>{t.onerror=o=>{const c=eg(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(u=>{u?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new Ce((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const u=c.target.result;if(!u)return void i();const f=new o0(u),_=t(u.primaryKey,u.value,f);if(_ instanceof Ce){const w=_.catch(I=>(f.done(),Ce.reject(I)));r.push(w)}f.isDone?i():null===f.Lt?u.continue():u.continue(f.Lt)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lc(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=eg(r.target.error);t(i)}})}let xy=!1;function eg(n){const e=ns.vt((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xy||(xy=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ay extends fn{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function ui(n,e){const t=ht(n);return ns.Nt(t.zt,e)}class oA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Gb(o,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Mo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Mo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bn())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,r)=>Kx(t,r))&&Oh(this.baseMutations,e.baseMutations,(t,r)=>Kx(t,r))}}class aA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Zt(e.mutations.length===r.length);let i=Yx;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new aA(e,t,r,i)}}class lA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $h{constructor(e,t,r,i,o=Ut.min(),c=Ut.min(),u=xi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u}withSequenceNumber(e){return new $h(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GO{constructor(e){this.Ht=e}}function WO(n,e){let t;if(e.document)t=t0(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=vt.fromSegments(e.noDocument.path),i=ng(e.noDocument.readTime);t=Er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const r=vt.fromSegments(e.unknownDocument.path),i=ng(e.unknownDocument.version);t=Er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(uA(e.readTime)),t}function qO(n,e){const t=cA(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const i={name:Iy(c=n.Ht,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Zp(c,u.version.toTimestamp())};return new d(null,null,i,e.hasCommittedMutations,t,r)}var c,u;if(e.isNoDocument()){const i=e.key.path.toArray(),o=tg(e.version),c=e.hasCommittedMutations;return new d(null,new a(i,o),null,c,t,r)}if(e.isUnknownDocument()){const i=e.key.path.toArray(),o=tg(e.version);return new d(new l(i,o),null,null,!0,t,r)}return St()}function cA(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function uA(n){const e=new Di(n[0],n[1]);return Ut.fromTimestamp(e)}function tg(n){const e=n.toTimestamp();return new zO(e.seconds,e.nanoseconds)}function ng(n){const e=new Di(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function Sy(n,e){const t=(e.baseMutations||[]).map(o=>n0(n.Ht,o));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(c.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const r=e.mutations.map(o=>n0(n.Ht,o)),i=Di.fromMillis(e.localWriteTimeMs);return new oA(e.batchId,i,t,r)}function l0(n){const e=ng(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ng(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var i;return void 0!==n.query.documents?(Zt(1===(i=n.query).documents.length),r=So(du(EI(i.documents[0])))):r=So(r0(n.query)),new $h(r,n.targetId,0,n.lastListenSequenceNumber,e,t,xi.fromBase64String(n.resumeToken))}function KO(n,e){const t=tg(e.snapshotVersion),r=tg(e.lastLimboFreeSnapshotVersion);let i;i=Bp(e.target)?Ty(n.Ht,e.target):eA(n.Ht,e.target);const o=e.resumeToken.toBase64();return new m(e.targetId,Fp(e.target),t,o,e.sequenceNumber,r,i)}function dA(n){const e=r0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hx(e,e.limit,"L"):e}function hA(n,e){return new lA(e.largestBatchId,n0(n.Ht,e.overlayMutation))}function ZO(n,e){const t=e.path.lastSegment();return[n,ts(e.path.popLast()),t]}class ZN{getBundleMetadata(e,t){return YO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ng(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YO(e).put({bundleId:(r=t).id,createTime:tg(Xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:dA(i.bundledQuery),readTime:ng(i.readTime)};var i})}saveNamedQuery(e,t){return QO(e).put({name:(r=t).name,readTime:tg(Xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YO(n){return ui(n,L.store)}function QO(n){return ui(n,H.store)}class fA{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new fA(e,t.uid||"")}getOverlay(e,t){return c0(e).get(ZO(this.userId,t)).next(r=>r?hA(this.O,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach(o=>{const c=new lA(t,o);i.push(this.Yt(e,c))}),Ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ts(c.getCollectionPath())));const o=[];return i.forEach(c=>{const u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(c0(e).Gt(Ye.collectionPathOverlayIndex,u))}),Ce.waitFor(o)}getOverlaysForCollection(e,t,r){const i=new Map,o=ts(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return c0(e).qt(Ye.collectionPathOverlayIndex,c).next(u=>{for(const f of u){const _=hA(this.O,f);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=new Map;let c;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c0(e).Qt({index:Ye.collectionGroupOverlayIndex,range:u},(f,_,w)=>{const I=hA(this.O,_);o.size<i||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):w.done()}).next(()=>o)}Yt(e,t){return c0(e).put(function(r,i,o){const[c,u,f]=ZO(i,o.mutation.key);return new Ye(i,u,f,o.mutation.key.getCollectionGroup(),o.largestBatchId,Qp(r.Ht,o.mutation))}(this.O,this.userId,t))}}function c0(n){return ui(n,Ye.store)}class SI{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne($r(e.integerValue));else if("doubleValue"in e){const r=$r(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),Rp(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(ld(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?to(e,sI)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):St()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const i of Object.keys(r))this.ie(i,t),this.Zt(r[i],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const i of r)this.Zt(i,t)}ce(e,t){this.ee(t,37),vt.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function YN(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function XO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=YN(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}SI.le=new SI;class QN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const i=t.codePointAt(0);this.de(240|i>>>18),this.de(128|63&i>>>12),this.de(128|63&i>>>6),this.de(128|63&i)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const i=t.codePointAt(0);this.me(240|i>>>18),this.me(128|63&i>>>12),this.me(128|63&i>>>6),this.me(128|63&i)}}this.ge()}Ie(e){const t=this.Ee(e),r=XO(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ae(e){const t=this.Ee(e),r=XO(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class XN{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class JN{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class JO{constructor(){this.Se=new QN,this.De=new XN(this.Se),this.Ce=new JN(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class pA{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}}function gA(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vt.comparator(n.documentKey,e.documentKey),0!==t?t:(t=e1(n.arrayValue,e.arrayValue),0!==t?t:e1(n.directionalValue,e.directionalValue)))}function e1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class eL{constructor(){this.xe=new mA}addToCollectionParentIndex(e,t){return this.xe.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(Bn())}getFieldIndex(e,t){return Ce.resolve(null)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class mA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fr(Pn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fr(Pn.comparator)).toArray()}}class tL{constructor(e){this.user=e,this.ke=new mA,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const o={collectionId:r,parent:ts(i)};return t1(e).put(o)}return Ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[eI(t),""],!1,!0);return t1(e).qt(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(hl(c.parent))}return r})}addFieldIndex(e,t){const r=OI(e),i=new te((o=t).indexId,o.collectionGroup,o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind]));var o;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=OI(e),i=PI(e),o=MI(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return Ce.resolve(Bn())}getFieldIndex(e,t){return Ce.resolve(null)}Oe(e,t){const r=new JO;for(const i of e.fields.filter(c=>2!==c.kind)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.Ne(i.kind);SI.le.Xt(o,c)}return r.Ve()}Me(e){const t=new JO;return SI.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=OI(e),i=PI(e);return(t?r.qt(te.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(o=>{const c=[];return Ce.forEach(o,u=>i.get([u.indexId,this.uid]).next(f=>{c.push(function(_,w){const I=w?new Lh(w.sequenceNumber,new uy(ng(w.readTime),new vt(hl(w.documentKey)),w.largestBatchId)):Lh.empty(),S=_.fields.map(([N,B])=>new Lp(Ti.fromServerFormat(N),B));return new Bb(_.indexId,_.collectionGroup,S,I)}(u,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>r.indexState.sequenceNumber-i.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=OI(e),o=PI(e);return this.$e(e).next(c=>i.qt(te.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(u=>Ce.forEach(u,f=>{return o.put(new pe(f.indexId,this.user.uid||"",c,tg((S=r).readTime),ts(S.documentKey.path),S.largestBatchId));var S})))}updateIndexEntries(e,t){const r=new Map;return Ce.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),Ce.forEach(u,f=>this.Fe(e,i,f).next(_=>{const w=this.Be(o,f);return _.isEqual(w)?Ce.resolve():this.Le(e,o,_,w)}))))})}Ue(e,t,r){return MI(e).put(new Fe(r.indexId,this.uid,r.arrayValue,r.directionalValue,ts(t.key.path)))}qe(e,t,r){return MI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ts(t.key.path)])}Fe(e,t,r){const i=MI(e);let o=new fr(gA);return i.Qt({index:Fe.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,ts(t.path)])},(c,u)=>{o=o.add(new pA(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>o)}Be(e,t){let r=new fr(gA);const i=this.Oe(t,e);if(null==i)return r;const o=t.fields.find(u=>2===u.kind);if(null!=o){const c=e.data.field(o.fieldPath);if(ay(c))for(const u of c.arrayValue.values||[])r=r.add(new pA(t.indexId,e.key,this.Me(u),i))}else r=r.add(new pA(t.indexId,e.key,new Uint8Array,i));return r}Le(e,t,r,i){st("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,u,f,_,w){const I=c.getIterator(),S=u.getIterator();let N=Hh(I),B=Hh(S);for(;N||B;){let j=!1,ee=!1;if(N&&B){const fe=f(N,B);fe<0?ee=!0:fe>0&&(j=!0)}else null!=N?ee=!0:j=!0;j?(_(B),B=Hh(S)):ee?(w(N),N=Hh(I)):(N=Hh(I),B=Hh(S))}}(r,i,gA,c=>{o.push(this.Ue(e,t,c))},c=>{o.push(this.qe(e,t,c))}),Ce.waitFor(o)}$e(e){let t=1;return PI(e).Qt({index:pe.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}}function t1(n){return ui(n,x.store)}function MI(n){return ui(n,Fe.store)}function OI(n){return ui(n,te.store)}function PI(n){return ui(n,pe.store)}const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function r1(n,e,t){const r=n.store(Cr.store),i=n.store(s.store),o=[],c=IDBKeyRange.only(t.batchId);let u=0;const f=r.Qt({range:c},(w,I,S)=>(u++,S.delete()));o.push(f.next(()=>{Zt(1===u)}));const _=[];for(const w of t.mutations){const I=s.key(e,w.key.path,t.batchId);o.push(i.delete(I)),_.push(w.key)}return Ce.waitFor(o).next(()=>_)}function RI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class yA{constructor(e,t,r,i){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}static Jt(e,t,r,i){Zt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new yA(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zh(e).Qt({index:Cr.userMutationsIndex,range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=My(e),c=zh(e);return c.add({}).next(u=>{Zt("number"==typeof u);const f=new oA(u,t,r,i),_=function(S,N,B){const j=B.baseMutations.map(fe=>Qp(S.Ht,fe)),ee=B.mutations.map(fe=>Qp(S.Ht,fe));return new Cr(N,B.batchId,B.localWriteTime.toMillis(),j,ee)}(this.O,this.userId,f),w=[];let I=new fr((S,N)=>bn(S.canonicalString(),N.canonicalString()));for(const S of i){const N=s.key(this.userId,S.key.path,u);I=I.add(S.key.path.popLast()),w.push(c.put(_)),w.push(o.put(N,s.PLACEHOLDER))}return I.forEach(S=>{w.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.Ke[u]=f.keys()}),Ce.waitFor(w).next(()=>f)})}lookupMutationBatch(e,t){return zh(e).get(t).next(r=>r?(Zt(r.userId===this.userId),Sy(this.O,r)):null)}Ge(e,t){return this.Ke[t]?Ce.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Ke[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zh(e).Qt({index:Cr.userMutationsIndex,range:i},(c,u,f)=>{u.userId===this.userId&&(Zt(u.batchId>=r),o=Sy(this.O,u)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zh(e).Qt({index:Cr.userMutationsIndex,range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zh(e).qt(Cr.userMutationsIndex,t).next(r=>r.map(i=>Sy(this.O,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=s.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return My(e).Qt({range:i},(c,u,f)=>{const[_,w,I]=c,S=hl(w);if(_===this.userId&&t.path.isEqual(S))return zh(e).get(I).next(N=>{if(!N)throw St();Zt(N.userId===this.userId),o.push(Sy(this.O,N))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(bn);const i=[];return t.forEach(o=>{const c=s.prefixForPath(this.userId,o.path),u=IDBKeyRange.lowerBound(c),f=My(e).Qt({range:u},(_,w,I)=>{const[S,N,B]=_,j=hl(N);S===this.userId&&o.path.isEqual(j)?r=r.add(B):I.done()});i.push(f)}),Ce.waitFor(i).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=s.prefixForPath(this.userId,r),c=IDBKeyRange.lowerBound(o);let u=new fr(bn);return My(e).Qt({range:c},(f,_,w)=>{const[I,S,N]=f,B=hl(S);I===this.userId&&r.isPrefixOf(B)?B.length===i&&(u=u.add(N)):w.done()}).next(()=>this.je(e,u))}je(e,t){const r=[],i=[];return t.forEach(o=>{i.push(zh(e).get(o).next(c=>{if(null===c)throw St();Zt(c.userId===this.userId),r.push(Sy(this.O,c))}))}),Ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return r1(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound(s.prefixForUser(this.userId)),i=[];return My(e).Qt({range:r},(o,c,u)=>{if(o[0]===this.userId){const f=hl(o[1]);i.push(f)}else u.done()}).next(()=>{Zt(0===i.length)})})}containsKey(e,t){return i1(e,this.userId,t)}We(e){return s1(e).get(this.userId).next(t=>t||new pd(this.userId,-1,""))}}function i1(n,e,t){const r=s.prefixForPath(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return My(n).Qt({range:o,jt:!0},(u,f,_)=>{const[w,I,S]=u;w===e&&I===i&&(c=!0),_.done()}).next(()=>c)}function zh(n){return ui(n,Cr.store)}function My(n){return ui(n,s.store)}function s1(n){return ui(n,pd.store)}class rg{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new rg(0)}static Je(){return new rg(-1)}}class nL{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new rg(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>Ut.fromTimestamp(new Di(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Xe(e,i)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Oy(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(Zt(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Oy(e).Qt((c,u)=>{const f=l0(u);f.sequenceNumber<=t&&null===r.get(f.targetId)&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>Ce.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Oy(e).Qt((r,i)=>{const o=l0(i);t(o)})}Ye(e){return o1(e).get(C.key).next(t=>(Zt(null!==t),t))}Xe(e,t){return o1(e).put(C.key,t)}Ze(e,t){return Oy(e).put(KO(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Oy(e).Qt({range:i,index:m.queryTargetsIndexName},(c,u,f)=>{const _=l0(u);Vp(t,_.target)&&(o=_,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Gh(e);return t.forEach(c=>{const u=ts(c.path);i.push(o.put(new b(r,u))),i.push(this.referenceDelegate.addReference(e,r,c))}),Ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=Gh(e);return Ce.forEach(t,o=>{const c=ts(o.path);return Ce.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Gh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Gh(e);let o=Bn();return i.Qt({range:r,jt:!0},(c,u,f)=>{const _=hl(c[1]),w=new vt(_);o=o.add(w)}).next(()=>o)}containsKey(e,t){const r=ts(t.path),i=IDBKeyRange.bound([r],[eI(r)],!1,!0);let o=0;return Gh(e).Qt({index:b.documentTargetsIndex,jt:!0,range:i},([c,u],f,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}Tt(e,t){return Oy(e).get(t).next(r=>r?l0(r):null)}}function Oy(n){return ui(n,m.store)}function o1(n){return ui(n,C.store)}function Gh(n){return ui(n,b.store)}function ig(n){return _A.apply(this,arguments)}function _A(){return _A=(0,Ge.Z)(function*(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==Lt)throw n;st("LocalStore","Unexpectedly lost primary lease")}),_A.apply(this,arguments)}function a1([n,e],[t,r]){const i=bn(n,t);return 0===i?bn(e,r):i}class rL{constructor(e){this.en=e,this.buffer=new fr(a1),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();a1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iL{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;st("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ge.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){ac(i)?st("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ig(i)}yield t.un(e)}))}}class sL{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve($s.A);const r=new rL(t);return this.an.forEachTarget(e,i=>r.rn(i.sequenceNumber)).next(()=>this.an.ln(e,i=>r.rn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(n1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,i,o,c,u,f,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,c=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,u=Date.now(),this.removeTargets(e,r,t))).next(I=>(o=I,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(_=Date.now(),Op()<=Co.in.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${i} in `+(u-c)+`ms\n\tRemoved ${o} targets in `+(f-u)+`ms\n\tRemoved ${I} documents in `+(_-f)+`ms\nTotal Duration: ${_-w}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:I})))}}class oL{constructor(e,t){this.db=e,this.garbageCollector=new sL(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,i)=>t(i))}addReference(e,t,r){return kI(e,r)}removeReference(e,t,r){return kI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return kI(e,t)}wn(e,t){return function(r,i){let o=!1;return s1(r).Wt(c=>i1(r,c,i).next(u=>(u&&(o=!0),Ce.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._n(e,(c,u)=>{if(u<=t){const f=this.wn(e,c).next(_=>{if(!_)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ut.min()),Gh(e).delete([0,ts(c.path)])))});i.push(f)}}).next(()=>Ce.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return kI(e,t)}_n(e,t){const r=Gh(e);let i,o=$s.A;return r.Qt({index:b.documentTargetsIndex},([c,u],{path:f,sequenceNumber:_})=>{0===c?(o!==$s.A&&t(new vt(hl(i)),o),o=_,i=f):o=$s.A}).next(()=>{o!==$s.A&&t(new vt(hl(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kI(n,e){return Gh(n).put((r=n.currentSequenceNumber,new b(0,ts(e.path),r)));var r}class Py{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){ad(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return kb(this.inner)}}class l1{constructor(){this.changes=new Py(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aL{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wh(e).put(NI(t),r)}removeEntry(e,t){const r=Wh(e),i=NI(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return Wh(e).get(NI(t)).next(r=>this.gn(t,r))}yn(e,t){return Wh(e).get(NI(t)).next(r=>({document:this.gn(t,r),size:RI(r)}))}getEntries(e,t){let r=Na();return this.pn(e,t,(i,o)=>{const c=this.gn(i,o);r=r.insert(i,c)}).next(()=>r)}In(e,t){let r=Na(),i=new Rr(vt.comparator);return this.pn(e,t,(o,c)=>{const u=this.gn(o,c);r=r.insert(o,u),i=i.insert(o,RI(c))}).next(()=>({documents:r,En:i}))}pn(e,t,r){if(t.isEmpty())return Ce.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator();let c=o.getNext();return Wh(e).Qt({range:i},(u,f,_)=>{const w=vt.fromSegments(u);for(;c&&vt.comparator(c,w)<0;)r(c,null),c=o.getNext();c&&c.isEqual(w)&&(r(c,f),c=o.hasNext()?o.getNext():null),c?_.Ut(c.path.toArray()):_.done()}).next(()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null})}getAll(e,t,r){let i=Na();const o=t.length+1,c={};if(r.isEqual(Ut.min())){const u=t.toArray();c.range=IDBKeyRange.lowerBound(u)}else{const u=t.toArray(),f=cA(r);c.range=IDBKeyRange.lowerBound([u,f],!0),c.index=d.collectionReadTimeIndex}return Wh(e).Qt(c,(u,f,_)=>{if(u.length!==o)return;const w=this.gn(vt.fromSegments(u),f);t.isPrefixOf(w.key.path)?i=i.insert(w.key,w):_.done()}).next(()=>i)}newChangeBuffer(e){return new lL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return c1(e).get(h.key).next(t=>(Zt(!!t),t))}mn(e,t){return c1(e).put(h.key,t)}gn(e,t){if(t){const r=WO(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return Er.newInvalidDocument(e)}}class lL extends l1{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Py(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new fr((o,c)=>bn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const u=this.An.get(o);if(c.isValidDocument()){const f=qO(this.Tn.O,c);i=i.add(o.path.popLast()),r+=RI(f)-u,t.push(this.Tn.addEntry(e,o,f))}else if(r-=u,this.trackRemovals){const f=qO(this.Tn.O,c.convertToNoDocument(Ut.min()));t.push(this.Tn.addEntry(e,o,f))}else t.push(this.Tn.removeEntry(e,o))}),i.forEach(o=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Tn.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:i})=>(i.forEach((o,c)=>{this.An.set(o,c)}),r))}}function c1(n){return ui(n,h.store)}function Wh(n){return ui(n,d.store)}function NI(n){return n.path.toArray()}class cL{constructor(e){this.O=e}kt(e,t,r,i){const o=new Cs("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore(sa.store),(u=e).createObjectStore(pd.store,{keyPath:pd.keyPath}),u.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0}),u.createObjectStore(s.store),u1(e),function(u){u.createObjectStore(d.store)}(e));let c=Ce.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore(b.store),u.deleteObjectStore(m.store),u.deleteObjectStore(C.store)}(e),u1(e)),c=c.next(()=>function(u){const f=u.store(C.store),_=new C(0,0,Ut.min().toTimestamp(),0);return f.put(C.key,_)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(u,f){return f.store(Cr.store).qt().next(_=>{u.deleteObjectStore(Cr.store),u.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0});const w=f.store(Cr.store),I=_.map(S=>w.put(S));return Ce.waitFor(I)})}(e,o))),c=c.next(()=>{!function(u){u.createObjectStore(P.store,{keyPath:P.keyPath})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Rn(o))),r<6&&i>=6&&(c=c.next(()=>(function(u){u.createObjectStore(h.store)}(e),this.Pn(o)))),r<7&&i>=7&&(c=c.next(()=>this.bn(o))),r<8&&i>=8&&(c=c.next(()=>this.vn(e,o))),r<9&&i>=9&&(c=c.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e),function(u){const f=u.objectStore(d.store);f.createIndex(d.readTimeIndex,d.readTimeIndexPath,{unique:!1}),f.createIndex(d.collectionReadTimeIndex,d.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(c=c.next(()=>this.Vn(o))),r<11&&i>=11&&(c=c.next(()=>{(function(u){u.createObjectStore(L.store,{keyPath:L.keyPath})})(e),function(u){u.createObjectStore(H.store,{keyPath:H.keyPath})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(u){const f=u.createObjectStore(Ye.store,{keyPath:Ye.keyPath});f.createIndex(Ye.collectionPathOverlayIndex,Ye.collectionPathOverlayIndexPath,{unique:!1}),f.createIndex(Ye.collectionGroupOverlayIndex,Ye.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>{!function(u){u.createObjectStore(te.store,{keyPath:te.keyPath,autoIncrement:!0}).createIndex(te.collectionGroupIndex,te.collectionGroupIndexPath,{unique:!1}),u.createObjectStore(pe.store,{keyPath:pe.keyPath}).createIndex(pe.sequenceNumberIndex,pe.sequenceNumberIndexPath,{unique:!1}),u.createObjectStore(Fe.store,{keyPath:Fe.keyPath}).createIndex(Fe.documentKeyIndex,Fe.documentKeyIndexPath,{unique:!1})}(e)})),c}Pn(e){let t=0;return e.store(d.store).Qt((r,i)=>{t+=RI(i)}).next(()=>{const r=new h(t);return e.store(h.store).put(h.key,r)})}Rn(e){const t=e.store(pd.store),r=e.store(Cr.store);return t.qt().next(i=>Ce.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.qt(Cr.userMutationsIndex,c).next(u=>Ce.forEach(u,f=>{Zt(f.userId===o.userId);const _=Sy(this.O,f);return r1(e,o.userId,_).next(()=>{})}))}))}bn(e){const t=e.store(b.store),r=e.store(d.store);return e.store(C.store).get(C.key).next(i=>{const o=[];return r.Qt((c,u)=>{const f=new Pn(c),_=[0,ts(f)];o.push(t.get(_).next(w=>w?Ce.resolve():t.put(new b(0,ts(f),i.highestListenSequenceNumber))))}).next(()=>Ce.waitFor(o))})}vn(e,t){e.createObjectStore(x.store,{keyPath:x.keyPath});const r=t.store(x.store),i=new mA,o=c=>{if(i.add(c)){const u=c.lastSegment(),f=c.popLast();return r.put({collectionId:u,parent:ts(f)})}};return t.store(d.store).Qt({jt:!0},(c,u)=>{const f=new Pn(c);return o(f.popLast())}).next(()=>t.store(s.store).Qt({jt:!0},([c,u,f],_)=>{const w=hl(u);return o(w.popLast())}))}Vn(e){const t=e.store(m.store);return t.Qt((r,i)=>{const o=l0(i),c=KO(this.O,o);return t.put(c)})}}function u1(n){n.createObjectStore(b.store,{keyPath:b.keyPath}).createIndex(b.documentTargetsIndex,b.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(m.store,{keyPath:m.keyPath}).createIndex(m.queryTargetsIndexName,m.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(C.store)}const vA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bA{constructor(e,t,r,i,o,c,u,f,_,w,I=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=o,this.window=c,this.document=u,this.Dn=_,this.Cn=w,this.schemaVersion=I,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=S=>Promise.resolve(),!bA.Vt())throw new Xe(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oL(this,i),this.Bn=t+"main",this.O=new GO(f),this.Ln=new ns(this.Bn,this.schemaVersion,new cL(this.O)),this.Un=new nL(this.referenceDelegate,this.O),this.qn=new aL(this.O),this.Kn=new ZN,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===w&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Le.FAILED_PRECONDITION,vA);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new $s(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,Ge.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,Ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,Ge.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>LI(e).put(new P(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(ac(e))return st("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return st("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return u0(e).get(sa.key).next(t=>Ce.resolve(this.ts(t)))}es(e){return LI(e).delete(this.clientId)}ns(){var e=this;return(0,Ge.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ui(r,P.store);return i.qt().next(o=>{const c=e.rs(o,18e5),u=o.filter(f=>-1===c.indexOf(f));return Ce.forEach(u,f=>i.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Ce.resolve(!0):u0(e).get(sa.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Xe(Le.FAILED_PRECONDITION,vA);return!1}}return!(!this.networkEnabled||!this.inForeground)||LI(e).qt().next(r=>void 0===this.rs(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&u)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&st("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ge.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[sa.store,P.store],t=>{const r=new Ay(t,$s.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>LI(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return yA.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new tL(e)}getDocumentOverlayCache(e){return fA.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){st("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=13===(c=this.schemaVersion)?Ze:12===c?wt:11===c?ut:void St();var c;let u;return this.Ln.runTransaction(e,i,o,f=>(u=new Ay(f,this.Nn?this.Nn.next():$s.A),"readwrite-primary"===t?this.Jn(u).next(_=>!!_||this.Yn(u)).next(_=>{if(!_)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Xe(Le.FAILED_PRECONDITION,Lt);return r(u)}).next(_=>this.Zn(u).next(()=>_)):this._s(u).next(()=>r(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}_s(e){return u0(e).get(sa.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xe(Le.FAILED_PRECONDITION,vA)})}Zn(e){const t=new sa(this.clientId,this.allowTabSynchronization,Date.now());return u0(e).put(sa.key,t)}static Vt(){return ns.Vt()}Xn(e){const t=u0(e);return t.get(sa.key).next(r=>this.ts(r)?(st("IndexedDbPersistence","Releasing primary lease."),t.delete(sa.key)):Ce.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return st("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function u0(n){return ui(n,sa.store)}function LI(n){return ui(n,P.store)}function wA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uL{constructor(e,t){this.progress=e,this.ws=t}}class dL{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(i=>{for(const o of r)o.applyToLocalView(i);return i})}Is(e,t){e.forEach((r,i)=>{for(const o of t)o.applyToLocalView(i)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return vt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,t.path):dy(t)?this.Ps(e,t,r):this.bs(e,t,r);var i}Rs(e,t){return this.ys(e,new vt(t)).next(r=>{let i=by();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,t,r){const i=t.collectionGroup;let o=by();return this.indexManager.getCollectionParents(e,i).next(c=>Ce.forEach(c,u=>{const f=(_=t,w=u.child(i),new uu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.bs(e,f,r).next(_=>{_.forEach((w,I)=>{o=o.insert(w,I)})})}).next(()=>o))}bs(e,t,r){let i;return this.qn.getAll(e,t.path,r).next(o=>(i=o,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(o=>{for(const c of o)for(const u of c.mutations){const f=u.key;let _=i.get(f);null==_&&(_=Er.newInvalidDocument(f),i=i.insert(f,_)),Mo(u,_,c.localWriteTime),_.isFoundDocument()||(i=i.remove(f))}}).next(()=>(i.forEach((o,c)=>{$b(t,c)||(i=i.remove(o))}),i))}}class EA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=i}static Ss(e,t){let r=Bn(),i=Bn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new EA(e,t.fromCache,r,i)}}class d1{Ds(e){this.Cs=e}As(e,t,r,i){return 0===(o=t).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ut.min())?this.Ns(e,t):this.Cs.Es(e,i).next(o=>{const c=this.xs(t,o);return($p(t)||zp(t))&&this.ks(t.limitType,c,i,r)?this.Ns(e,t):(Op()<=Co.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wp(t)),this.Cs.As(e,t,r).next(u=>(c.forEach(f=>{u=u.insert(f.key,f)}),u)))});var o}xs(e,t){let r=new fr($x(e));return t.forEach((i,o)=>{$b(e,o)&&(r=r.add(o))}),r}ks(e,t,r,i){if(r.size!==t.size)return!0;const o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ns(e,t){return Op()<=Co.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Wp(t)),this.Cs.As(e,t,Ut.min())}}class hL{constructor(e,t,r,i){this.persistence=e,this.Os=t,this.O=i,this.Ms=new Rr(bn),this.$s=new Py(o=>Fp(o),Vp),this.Fs=Ut.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new dL(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function h1(n,e,t,r){return new hL(n,e,t,r)}function f1(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Ge.Z)(function*(n,e){const t=ht(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.gs.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.gs.getAllMutationBatches(r))).next(o=>{const c=[],u=[];let f=Bn();for(const _ of i){c.push(_.batchId);for(const w of _.mutations)f=f.add(w.key)}for(const _ of o){u.push(_.batchId);for(const w of _.mutations)f=f.add(w.key)}return t.Us.Es(r,f).next(_=>({qs:_,removedBatchIds:c,addedBatchIds:u}))})})}),CA.apply(this,arguments)}function fL(n,e){const t=ht(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,_){const w=f.batch,I=w.keys();let S=Ce.resolve();return I.forEach(N=>{S=S.next(()=>_.getEntry(u,N)).next(B=>{const j=f.docVersions.get(N);Zt(null!==j),B.version.compareTo(j)<0&&(w.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),_.addEntry(B)))})}),S.next(()=>c.gs.removeMutationBatch(u,w))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,i))})}function p1(n){const e=ht(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function pL(n,e){const t=ht(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((_,w)=>{const I=i.get(w);if(!I)return;u.push(t.Un.removeMatchingKeys(o,_.removedDocuments,w).next(()=>t.Un.addMatchingKeys(o,_.addedDocuments,w)));let S=I.withSequenceNumber(o.currentSequenceNumber);var N,B,j;e.targetMismatches.has(w)?S=S.withResumeToken(xi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),i=i.insert(w,S),B=S,j=_,(0===(N=I).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0)&&u.push(t.Un.updateTargetData(o,S))});let f=Na();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),u.push(g1(o,c,e.documentUpdates).next(_=>{f=_})),!r.isEqual(Ut.min())){const _=t.Un.getLastRemoteSnapshotVersion(o).next(w=>t.Un.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(_)}return Ce.waitFor(u).next(()=>c.apply(o)).next(()=>t.Us.Ts(o,f)).next(()=>f)}).then(o=>(t.Ms=i,o))}function g1(n,e,t){let r=Bn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=Na();return t.forEach((c,u)=>{const f=i.get(c);u.isNoDocument()&&u.version.isEqual(Ut.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||0===u.version.compareTo(f.version)&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):st("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),o})}function gL(n,e){const t=ht(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Ry(n,e){const t=ht(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Un.getTargetData(r,e).next(o=>o?(i=o,Ce.resolve(i)):t.Un.allocateTargetId(r).next(c=>(i=new $h(e,c,0,r.currentSequenceNumber),t.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function ky(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ge.Z)(function*(n,e,t){const r=ht(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ac(c))throw c;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),IA.apply(this,arguments)}function FI(n,e,t){const r=ht(n);let i=Ut.min(),o=Bn();return r.persistence.runTransaction("Execute query","readonly",c=>function(u,f,_){const w=ht(u),I=w.$s.get(_);return void 0!==I?Ce.resolve(w.Ms.get(I)):w.Un.getTargetData(f,_)}(r,c,So(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(c,u.targetId).next(f=>{o=f})}).next(()=>r.Os.As(c,e,t?i:Ut.min(),t?o:Bn())).next(u=>({documents:u,Ks:o})))}function m1(n,e){const t=ht(n),r=ht(t.Un),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Tt(o,e).next(c=>c?c.target:null))}function y1(n){const e=ht(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,o){const c=ht(r);let u=Na(),f=cA(o);const _=Wh(i),w=IDBKeyRange.lowerBound(f,!0);return _.Qt({index:d.readTimeIndex,range:w},(I,S)=>{const N=WO(c.O,S);u=u.insert(N.key,N),f=S.readTime}).next(()=>({ws:u,readTime:uA(f)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function DA(){return DA=(0,Ge.Z)(function*(n){const e=ht(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=Wh(r);let o=Ut.min();return i.Qt({index:d.readTimeIndex,reverse:!0},(c,u,f)=>{u.readTime&&(o=uA(u.readTime)),f.done()}).next(()=>o)}(t)).then(t=>{e.Fs=t})}),DA.apply(this,arguments)}function TA(){return TA=(0,Ge.Z)(function*(n,e,t,r){const i=ht(n);let o=Bn(),c=Na();for(const _ of t){const w=e.Gs(_.metadata.name);_.document&&(o=o.add(w));const I=e.js(_);I.setReadTime(e.Qs(_.metadata.readTime)),c=c.insert(w,I)}const u=i.Bs.newChangeBuffer({trackRemovals:!0}),f=yield Ry(i,(_=r,So(du(Pn.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>g1(_,u,c).next(w=>(u.apply(_),w)).next(w=>i.Un.removeMatchingKeysForTargetId(_,f.targetId).next(()=>i.Un.addMatchingKeys(_,o,f.targetId)).next(()=>i.Us.Ts(_,w)).next(()=>w)))}),TA.apply(this,arguments)}function _L(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,Ge.Z)(function*(n,e,t=Bn()){const r=yield Ry(n,So(dA(e.bundledQuery))),i=ht(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Xr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Kn.saveNamedQuery(o,e);const u=r.withResumeToken(xi.EMPTY_BYTE_STRING,c);return i.Ms=i.Ms.insert(u.targetId,u),i.Un.updateTargetData(o,u).next(()=>i.Un.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Un.addMatchingKeys(o,t,r.targetId)).next(()=>i.Kn.saveNamedQuery(o,e))})}),xA.apply(this,arguments)}class vL{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:Xr(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:dA(r.bundledQuery),readTime:Xr(r.readTime)}),Ce.resolve();var r}}class bL{constructor(){this.overlays=new Rr(vt.comparator),this.Hs=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(i=>{this.Yt(e,t,i)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Hs.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const i=new Map,o=t.length+1,c=new vt(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,_=f.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Rr((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let w=o.get(_.largestBatchId);null===w&&(w=new Map,o=o.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const u=new Map,f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((_,w)=>u.set(w,_)),!(u.size>=i)););return Ce.resolve(u)}Yt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new lA(t,r));let o=this.Hs.get(t);void 0===o&&(o=new Set,this.Hs.set(t,o)),o.add(r.key)}}class AA{constructor(){this.Js=new fr(Is.Ys),this.Xs=new fr(Is.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new Is(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new Is(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new vt(new Pn([])),r=new Is(t,e),i=new Is(t,e+1),o=[];return this.Xs.forEachInRange([r,i],c=>{this.ei(c),o.push(c.key)}),o}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new vt(new Pn([])),r=new Is(t,e),i=new Is(t,e+1);let o=Bn();return this.Xs.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Is(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Is{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return vt.comparator(e.key,t.key)||bn(e.oi,t.oi)}static Zs(e,t){return bn(e.oi,t.oi)||vt.comparator(e.key,t.key)}}class wL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new fr(Is.Ys)}checkEmpty(e){return Ce.resolve(0===this.gs.length)}addMutationBatch(e,t,r,i){const o=this.ci;this.ci++;const c=new oA(o,t,r,i);this.gs.push(c);for(const u of i)this.ui=this.ui.add(new Is(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(e,t){return Ce.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.hi(t+1),o=i<0?0:i;return Ce.resolve(this.gs.length>o?this.gs[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Ce.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Is(t,0),i=new Is(t,Number.POSITIVE_INFINITY),o=[];return this.ui.forEachInRange([r,i],c=>{const u=this.ai(c.oi);o.push(u)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(bn);return t.forEach(i=>{const o=new Is(i,0),c=new Is(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([o,c],u=>{r=r.add(u.oi)})}),Ce.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;vt.isDocumentKey(o)||(o=o.child(""));const c=new Is(new vt(o),0);let u=new fr(bn);return this.ui.forEachWhile(f=>{const _=f.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(u=u.add(f.oi)),!0)},c),Ce.resolve(this.li(u))}li(e){const t=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Zt(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return Ce.forEach(t.mutations,i=>{const o=new Is(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new Is(t,0),i=this.ui.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ce.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class EL{constructor(e){this.di=e,this.docs=new Rr(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=Na();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Er.newInvalidDocument(i))}),Ce.resolve(r)}getAll(e,t,r){let i=Na();const o=new vt(t.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||f.readTime.compareTo(r)<=0||(i=i.insert(f.key,f.mutableCopy()))}return Ce.resolve(i)}_i(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CL(this)}getSize(e){return Ce.resolve(this.size)}}class CL extends l1{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class IL{constructor(e){this.persistence=e,this.wi=new Py(t=>Fp(t),Vp),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.mi=0,this.gi=new AA,this.targetCount=0,this.yi=rg.He()}forEachTarget(e,t){return this.wi.forEach((r,i)=>t(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),Ce.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Ze(t),Ce.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.wi.forEach((c,u)=>{u.sequenceNumber<=t&&null===r.get(u.targetId)&&(this.wi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ce.waitFor(o).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.gi.containsKey(t))}}class DL{constructor(e,t){this.pi={},this.overlays={},this.Nn=new $s(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new IL(this),this.indexManager=new eL,this.qn=new EL(r=>this.referenceDelegate.Ii(r)),this.O=new GO(t),this.Kn=new vL(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new wL(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){st("MemoryPersistence","Starting transaction:",e);const i=new TL(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.Ti(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return Ce.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class TL extends fn{constructor(e){super(),this.currentSequenceNumber=e}}class SA{constructor(e){this.persistence=e,this.Ri=new AA,this.Pi=null}static bi(e){return new SA(e)}get vi(){if(this.Pi)return this.Pi;throw St()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.vi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.vi,r=>{const i=vt.fromPath(r);return this.Vi(e,i).next(o=>{o||t.removeEntry(i,Ut.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function _1(n,e){return`firestore_clients_${n}_${e}`}function v1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function MA(n,e){return`firestore_targets_${n}_${e}`}class VI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Si(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new Xe(i.error.code,i.error.message))),c?new VI(e,t,i.state,o):(Hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Xe(r.error.code,r.error.message))),o?new d0(e,r.state,i):(Hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zb();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=iI(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new BI(e,o):(Hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class OA{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new OA(t.clientId,t.onlineState):(Hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class PA{constructor(){this.activeTargetIds=Zb()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(e,t,r,i,o){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Rr(bn),this.started=!1,this.$i=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Fi=_1(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new PA),this.Li=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(u){return`firestore_bundle_loaded_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.syncEngine.ds();for(const i of t){if(i===e.xi)continue;const o=e.getItem(_1(e.persistenceKey,i));if(o){const c=BI.Si(i,o);c&&(e.Mi=e.Mi.insert(c.clientId,c))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const i=e.Qi(r);i&&e.Wi(i)}for(const i of e.$i)e.Oi(i);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(MA(this.persistenceKey,e));if(r){const i=d0.Si(e,r);i&&(t=i.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ji(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return st("SharedClientState","READ",e,t),t}setItem(e,t){st("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){st("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(st("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,Ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const i=t.er(r.key);return t.nr(i,null)}{const i=t.sr(r.key,r.newValue);if(i)return t.nr(i.clientId,i)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const i=t.ir(r.key,r.newValue);if(i)return t.rr(i)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const i=t.cr(r.key,r.newValue);if(i)return t.ur(i)}}else if(r.key===t.Ki){if(null!==r.newValue){const i=t.Qi(r.newValue);if(i)return t.Wi(i)}}else if(r.key===t.Bi){const i=function(o){let c=$s.A;if(null!=o)try{const u=JSON.parse(o);Zt("number"==typeof u),c=u}catch(u){Hr("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(r.newValue);i!==$s.A&&t.sequenceNumberHandler(i)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const i=new VI(this.currentUser,e,t,r),o=v1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Di())}Ji(e){const t=v1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const i=MA(this.persistenceKey,e),o=new d0(e,t,r);this.setItem(i,o.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return BI.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),i=Number(r[1]);return VI.Si(new Xi(void 0!==r[2]?r[2]:null),i,t)}cr(e,t){const r=this.qi.exec(e),i=Number(r[1]);return d0.Si(i,t)}Qi(e){return OA.Si(e)}rr(e){var t=this;return(0,Ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);st("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),o=this.zi(r),c=[],u=[];return o.forEach(f=>{i.has(f)||c.push(f)}),i.forEach(f=>{o.has(f)||u.push(f)}),this.syncEngine.dr(c,u).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Zb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class b1{constructor(){this._r=new PA,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new PA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class xL{mr(e){}shutdown(){}}class w1{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SL{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class ML extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,i,o){const c=this.$r(e,t);st("RestConnection","Sending: ",c,r);const u={};return this.Fr(u,i,o),this.Br(e,c,u,r).then(f=>(st("RestConnection","Received: ",f),f),f=>{throw ic("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",r),f})}Lr(e,t,r,i,o){return this.Mr(e,t,r,i,o)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ul,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$r(e,t){return`${this.kr}/v1/${t}:${AL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,i){return new Promise((o,c)=>{const u=new kx;u.listenOnce(KC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ny.NO_ERROR:const _=u.getResponseJson();st("Connection","XHR received:",JSON.stringify(_)),o(_);break;case ny.TIMEOUT:st("Connection",'RPC "'+e+'" timed out'),c(new Xe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:const w=u.getStatus();if(st("Connection",'RPC "'+e+'" failed with status:',w,"response text:",u.getResponseText()),w>0){const I=u.getResponseJson().error;if(I&&I.status&&I.message){const S=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(B)>=0?B:Le.UNKNOWN}(I.status);c(new Xe(S,I.message))}else c(new Xe(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Xe(Le.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{st("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(i);u.send(t,"POST",f,r,15)})}Ur(e,t,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WC(),c=qC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new QC({})),this.Fr(u.initMessageHeaders,t,r),(0,on.uI)()||(0,on.b$)()||(0,on.d)()||(0,on.w1)()||(0,on.Mn)()||(0,on.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");st("Connection","Creating WebChannel: "+f,u);const _=o.createWebChannel(f,u);let w=!1,I=!1;const S=new SL({Ar:B=>{I?st("Connection","Not sending because WebChannel is closed:",B):(w||(st("Connection","Opening WebChannel transport."),_.open(),w=!0),st("Connection","WebChannel sending:",B),_.send(B))},Rr:()=>_.close()}),N=(B,j,ee)=>{B.listen(j,fe=>{try{ee(fe)}catch(Re){setTimeout(()=>{throw Re},0)}})};return N(_,Mp.EventType.OPEN,()=>{I||st("Connection","WebChannel transport opened.")}),N(_,Mp.EventType.CLOSE,()=>{I||(I=!0,st("Connection","WebChannel transport closed"),S.Cr())}),N(_,Mp.EventType.ERROR,B=>{I||(I=!0,ic("Connection","WebChannel transport errored:",B),S.Cr(new Xe(Le.UNAVAILABLE,"The operation could not be completed")))}),N(_,Mp.EventType.MESSAGE,B=>{var j;if(!I){const ee=B.data[0];Zt(!!ee);const fe=ee,Re=fe.error||(null===(j=fe[0])||void 0===j?void 0:j.error);if(Re){st("Connection","WebChannel received error:",Re);const Je=Re.status;let Ve=function(lt){const pt=ci[lt];if(void 0!==pt)return vy(pt)}(Je),Be=Re.message;void 0===Ve&&(Ve=Le.INTERNAL,Be="Unknown error status: "+Je+" with message "+Re.message),I=!0,S.Cr(new Xe(Ve,Be)),_.close()}else st("Connection","WebChannel received:",ee),S.Nr(ee)}}),N(c,ZC.STAT_EVENT,B=>{B.stat===YC.PROXY?st("Connection","Detected buffering proxy"):B.stat===YC.NOPROXY&&st("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.Dr()},0),S}}function E1(){return"undefined"!=typeof window?window:null}function UI(){return"undefined"!=typeof document?document:null}function h0(n){return new Jb(n,!0)}class kA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=i,this.Gr=o,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,t-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class C1{constructor(e,t,r,i,o,c,u,f){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new kA(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,Ge.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,Ge.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,Ge.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(Hr(t.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===Le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===t&&this.po(r,i)},r=>{e(()=>{const i=new Xe(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr((0,Ge.Z)(function*(){e.state=0,e.start()}))}Io(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OL extends C1{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.O=o}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function TI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:St(),i=e.targetChange.targetIds||[],o=function(f,_){return f.N?(Zt(void 0===_||"string"==typeof _),xi.fromBase64String(_||"")):(Zt(void 0===_||_ instanceof Uint8Array),xi.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(f){const _=void 0===f.code?Le.UNKNOWN:vy(f.code);return new Xe(_,f.message||"")}(c);t=new Kp(r,i,o,u||null)}else if("documentChange"in e){const r=e.documentChange,i=oc(n,r.document.name),o=Xr(r.document.updateTime),c=new ws({mapValue:{fields:r.document.fields}}),u=Er.newFoundDocument(i,o,c);t=new Yb(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=oc(n,r.document),o=r.readTime?Xr(r.readTime):Ut.min(),c=Er.newNoDocument(i,o);t=new Yb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=oc(n,r.document);t=new Yb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return St();{const r=e.filter,o=new yI(r.count||0);t=new _I(r.targetId,o)}}var f;return t}(this.O,e),r=function(i){if(!("targetChange"in i))return Ut.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ut.min():o.readTime?Xr(o.readTime):Ut.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Yp(this.O),t.addTarget=function(i,o){let c;const u=o.target;return c=Bp(u)?{documents:Ty(i,u)}:{query:eA(i,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=Cy(i,o.resumeToken):o.snapshotVersion.compareTo(Ut.min())>0&&(c.readTime=Zp(i,o.snapshotVersion.toTimestamp())),c}(this.O,e);const r=function s0(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Yp(this.O),t.removeTarget=e,this.fo(t)}}class PL extends C1{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.O=o,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function xI(n,e){return n&&n.length>0?(Zt(void 0!==e),n.map(t=>function(r,i){let o=Xr(r.updateTime?r.updateTime:i);return o.isEqual(Ut.min())&&(o=Xr(i)),new fI(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.Vo(r,t)}return Zt(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Yp(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qp(this.O,r))};this.fo(t)}}class RL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.eo.Mr(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xe(Le.UNKNOWN,i.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.eo.Lr(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xe(Le.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class kL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Hr(t),this.Oo=!1):st("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class NL{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=o,this.jo.mr(u=>{r.enqueueAndForget((0,Ge.Z)(function*(){var f;qh(c)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ge.Z)(function*(_){const w=ht(_);w.Ko.add(4),yield Ny(w),w.Qo.set("Unknown"),w.Ko.delete(4),yield f0(w)}),function(_){return f.apply(this,arguments)})(c))}))}),this.Qo=new kL(r,i)}}function f0(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Ge.Z)(function*(n){if(qh(n))for(const e of n.Go)yield e(!0)}),NA.apply(this,arguments)}function Ny(n){return LA.apply(this,arguments)}function LA(){return LA=(0,Ge.Z)(function*(n){for(const e of n.Go)yield e(!1)}),LA.apply(this,arguments)}function jI(n,e){const t=ht(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),BA(t)?VA(t):Fy(t).co()&&FA(t,e))}function p0(n,e){const t=ht(n),r=Fy(t);t.qo.delete(e),r.co()&&I1(t,e),0===t.qo.size&&(r.co()?r.ho():qh(t)&&t.Qo.set("Unknown"))}function FA(n,e){n.Wo.Z(e.targetId),Fy(n).Ao(e)}function I1(n,e){n.Wo.Z(e),Fy(n).Ro(e)}function VA(n){n.Wo=new Xx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Fy(n).start(),n.Qo.Mo()}function BA(n){return qh(n)&&!Fy(n).oo()&&n.qo.size>0}function qh(n){return 0===ht(n).Ko.size}function D1(n){n.Wo=void 0}function LL(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Ge.Z)(function*(n){n.qo.forEach((e,t)=>{FA(n,e)})}),UA.apply(this,arguments)}function FL(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ge.Z)(function*(n,e){D1(n),BA(n)?(n.Qo.Bo(e),VA(n)):n.Qo.set("Unknown")}),jA.apply(this,arguments)}function VL(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Ge.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof Kp&&2===e.state&&e.cause)try{yield(r=(0,Ge.Z)(function*(i,o){const c=o.cause;for(const u of o.targetIds)i.qo.has(u)&&(yield i.remoteSyncer.rejectListen(u,c),i.qo.delete(u),i.Wo.removeTarget(u))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield HI(n,r)}else if(e instanceof Yb?n.Wo.ct(e):e instanceof _I?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(Ut.min()))try{const r=yield p1(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.Wo.yt(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const _=i.qo.get(f);_&&i.qo.set(f,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach(u=>{const f=i.qo.get(u);if(!f)return;i.qo.set(u,f.withResumeToken(xi.EMPTY_BYTE_STRING,f.snapshotVersion)),I1(i,u);const _=new $h(f.target,u,1,f.sequenceNumber);FA(i,_)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){st("RemoteStore","Failed to raise snapshot:",r),yield HI(n,r)}var r}),HA.apply(this,arguments)}function HI(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Ge.Z)(function*(n,e,t){if(!ac(e))throw e;n.Ko.add(1),yield Ny(n),n.Qo.set("Offline"),t||(t=()=>p1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ge.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield f0(n)}))}),$A.apply(this,arguments)}function T1(n,e){return e().catch(t=>HI(n,t,e))}function Ly(n){return zA.apply(this,arguments)}function zA(){return zA=(0,Ge.Z)(function*(n){const e=ht(n),t=Kh(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;BL(e);)try{const i=yield gL(e.localStore,r);if(null===i){0===e.Uo.length&&t.ho();break}r=i.batchId,UL(e,i)}catch(i){yield HI(e,i)}x1(e)&&A1(e)}),zA.apply(this,arguments)}function BL(n){return qh(n)&&n.Uo.length<10}function UL(n,e){n.Uo.push(e);const t=Kh(n);t.co()&&t.bo&&t.vo(e.mutations)}function x1(n){return qh(n)&&!Kh(n).oo()&&n.Uo.length>0}function A1(n){Kh(n).start()}function jL(n){return GA.apply(this,arguments)}function GA(){return GA=(0,Ge.Z)(function*(n){Kh(n).Do()}),GA.apply(this,arguments)}function HL(n){return WA.apply(this,arguments)}function WA(){return WA=(0,Ge.Z)(function*(n){const e=Kh(n);for(const t of n.Uo)e.vo(t.mutations)}),WA.apply(this,arguments)}function $L(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Ge.Z)(function*(n,e,t){const r=n.Uo.shift(),i=aA.from(r,e,t);yield T1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ly(n)}),qA.apply(this,arguments)}function zL(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Ge.Z)(function*(n,e){var t;e&&Kh(n).bo&&(yield(t=(0,Ge.Z)(function*(r,i){if(qb(o=i.code)&&o!==Le.ABORTED){const c=r.Uo.shift();Kh(r).ao(),yield T1(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Ly(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),x1(n)&&A1(n)}),KA.apply(this,arguments)}function S1(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ge.Z)(function*(n,e){const t=ht(n);t.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=qh(t);t.Ko.add(3),yield Ny(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield f0(t)}),ZA.apply(this,arguments)}function YA(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Ge.Z)(function*(n,e){const t=ht(n);e?(t.Ko.delete(2),yield f0(t)):e||(t.Ko.add(2),yield Ny(t),t.Qo.set("Unknown"))}),QA.apply(this,arguments)}function Fy(n){return n.zo||(n.zo=function(e,t,r){const i=ht(e);return i.No(),new OL(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:LL.bind(null,n),vr:FL.bind(null,n),To:VL.bind(null,n)}),n.Go.push(function(){var e=(0,Ge.Z)(function*(t){t?(n.zo.ao(),BA(n)?VA(n):n.Qo.set("Unknown")):(yield n.zo.stop(),D1(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Kh(n){return n.Ho||(n.Ho=function(e,t,r){const i=ht(e);return i.No(),new PL(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:jL.bind(null,n),vr:zL.bind(null,n),So:HL.bind(null,n),Vo:$L.bind(null,n)}),n.Go.push(function(){var e=(0,Ge.Z)(function*(t){t?(n.Ho.ao(),yield Ly(n)):(yield n.Ho.stop(),n.Uo.length>0&&(st("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class XA{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,u=new XA(e,t,c,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),ac(n))return new Xe(Le.UNAVAILABLE,`${e}: ${n}`);throw n}class By{constructor(e){this.comparator=e?(t,r)=>e(t,r)||vt.comparator(t.key,r.key):(t,r)=>vt.comparator(t.key,r.key),this.keyedMap=by(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new By(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof By)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new By;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class M1{constructor(){this.Jo=new Rr(vt.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):St():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uy{constructor(e,t,r,i,o,c,u,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f}static fromInitialDocuments(e,t,r,i){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Uy(e,t,By.emptySet(t),o,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class GL{constructor(){this.Xo=void 0,this.listeners=[]}}class WL{constructor(){this.queries=new Py(e=>lI(e),Fh),this.onlineState="Unknown",this.Zo=new Set}}function JA(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,Ge.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new GL),i)try{o.Xo=yield t.onListen(r)}catch(c){const u=Vy(c,`Initialization of query '${Wp(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,o),o.listeners.push(e),e.tc(t.onlineState),o.Xo&&e.ec(o.Xo)&&rS(t)}),eS.apply(this,arguments)}function tS(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,Ge.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nS.apply(this,arguments)}function qL(n,e){const t=ht(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const u of c.listeners)u.ec(i)&&(r=!0);c.Xo=i}}r&&rS(t)}function KL(n,e,t){const r=ht(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function rS(n){n.Zo.forEach(e=>{e.next()})}class iS{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Uy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class ZL{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class O1{constructor(e){this.O=e}Gs(e){return oc(this.O,e)}js(e){return e.metadata.exists?t0(this.O,e.document,!1):Er.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Xr(e)}}class YL{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=P1(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new O1(this.O);for(const i of e)if(i.metadata.queries){const o=r.Gs(i.metadata.name);for(const c of i.metadata.queries){const u=(t.get(c)||Bn()).add(o);t.set(c,u)}}return t}complete(){var e=this;return(0,Ge.Z)(function*(){const t=yield function yL(n,e,t,r){return TA.apply(this,arguments)}(e.localStore,new O1(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const i of e.queries)yield _L(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new uL(Object.assign({},e.progress),t)})()}}function P1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class R1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class N1{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Bn(),this.mutatedKeys=Bn(),this.mc=$x(e),this.gc=new By(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new M1,i=t?t.gc:this.gc;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,u=!1;const f=$p(this.query)&&i.size===this.query.limit?i.last():null,_=zp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,I)=>{const S=i.get(w),N=$b(this.query,I)?I:null,B=!!S&&this.mutatedKeys.has(S.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let ee=!1;S&&N?S.data.isEqual(N.data)?B!==j&&(r.track({type:3,doc:N}),ee=!0):this.Tc(S,N)||(r.track({type:2,doc:N}),ee=!0,(f&&this.mc(N,f)>0||_&&this.mc(N,_)<0)&&(u=!0)):!S&&N?(r.track({type:0,doc:N}),ee=!0):S&&!N&&(r.track({type:1,doc:S}),ee=!0,(f||_)&&(u=!0)),ee&&(N?(c=c.add(N),o=j?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),$p(this.query)||zp(this.query))for(;c.size>this.query.limit;){const w=$p(this.query)?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{gc:c,Ec:r,ks:u,mutatedKeys:o}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const o=e.Ec.Yo();o.sort((_,w)=>function(I,S){const N=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return N(I)-N(S)}(_.type,w.type)||this.mc(_.doc,w.doc)),this.Ac(r);const c=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,f=u!==this._c;return this._c=u,0!==o.length||f?{snapshot:new Uy(this.query,e.gc,i,o,e.mutatedKeys,0===u,f,!1),Pc:c}:{Pc:c}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new M1,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Bn(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new k1(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new R1(r))}),t}vc(e){this.dc=e.Ks,this.wc=Bn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Uy.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class QL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XL{constructor(e){this.key=e,this.Sc=!1}}class JL{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Dc={},this.Cc=new Py(u=>lI(u),Fh),this.Nc=new Map,this.xc=new Set,this.kc=new Rr(vt.comparator),this.Oc=new Map,this.Mc=new AA,this.$c={},this.Fc=new Map,this.Bc=rg.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function eF(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,Ge.Z)(function*(n,e){const t=AS(n);let r,i;const o=t.Cc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Vc();else{const c=yield Ry(t.localStore,So(e));t.isPrimaryClient&&jI(t.remoteStore,c);const u=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield oS(t,e,r,"current"===u)}return i}),sS.apply(this,arguments)}function oS(n,e,t,r){return aS.apply(this,arguments)}function aS(){return aS=(0,Ge.Z)(function*(n,e,t,r){n.Uc=(w,I,S)=>{return(N=(0,Ge.Z)(function*(B,j,ee,fe){let Re=j.view.Ic(ee);Re.ks&&(Re=yield FI(B.localStore,j.query,!1).then(({documents:Be})=>j.view.Ic(Be,Re)));const Je=fe&&fe.targetChanges.get(j.targetId),Ve=j.view.applyChanges(Re,B.isPrimaryClient,Je);return yS(B,j.targetId,Ve.Pc),Ve.snapshot}),function(B,j,ee,fe){return N.apply(this,arguments)})(n,w,I,S);var N};const i=yield FI(n.localStore,e,!0),o=new N1(e,i.Ks),c=o.Ic(i.documents),u=Ey.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),f=o.applyChanges(c,n.isPrimaryClient,u);yS(n,t,f.Pc);const _=new QL(e,t,o);return n.Cc.set(e,_),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),f.snapshot}),aS.apply(this,arguments)}function tF(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Ge.Z)(function*(n,e){const t=ht(n),r=t.Cc.get(e),i=t.Nc.get(r.targetId);if(i.length>1)return t.Nc.set(r.targetId,i.filter(o=>!Fh(o,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ky(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),p0(t.remoteStore,r.targetId),jy(t,r.targetId)}).catch(ig))):(jy(t,r.targetId),yield ky(t.localStore,r.targetId,!0))}),lS.apply(this,arguments)}function cS(){return cS=(0,Ge.Z)(function*(n,e,t){const r=SS(n);try{const i=yield function(o,c){const u=ht(o),f=Di.now(),_=c.reduce((I,S)=>I.add(S.key),Bn());let w;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>u.Us.Es(I,_).next(S=>{w=S;const N=[];for(const B of c){const j=qx(B,w.get(B.key));null!=j&&N.push(new fd(B.key,j,Vb(j.value.mapValue),Qr.exists(!0)))}return u.gs.addMutationBatch(I,f,N,c)})).then(I=>(I.applyToLocalDocumentSet(w),{batchId:I.batchId,changes:w}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let f=o.$c[o.currentUser.toKey()];f||(f=new Rr(bn)),f=f.insert(c,u),o.$c[o.currentUser.toKey()]=f}(r,i.batchId,t),yield md(r,i.changes),yield Ly(r.remoteStore)}catch(i){const o=Vy(i,"Failed to persist write");t.reject(o)}}),cS.apply(this,arguments)}function L1(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,Ge.Z)(function*(n,e){const t=ht(n);try{const r=yield pL(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.Oc.get(o);c&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Sc=!0:i.modifiedDocuments.size>0?Zt(c.Sc):i.removedDocuments.size>0&&(Zt(c.Sc),c.Sc=!1))}),yield md(t,r,e)}catch(r){yield ig(r)}}),uS.apply(this,arguments)}function F1(n,e,t){const r=ht(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Cc.forEach((o,c)=>{const u=c.view.tc(e);u.snapshot&&i.push(u.snapshot)}),function(o,c){const u=ht(o);u.onlineState=c;let f=!1;u.queries.forEach((_,w)=>{for(const I of w.listeners)I.tc(c)&&(f=!0)}),f&&rS(u)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rF(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,Ge.Z)(function*(n,e,t){const r=ht(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Oc.get(e),o=i&&i.key;if(o){let c=new Rr(vt.comparator);c=c.insert(o,Er.newNoDocument(o,Ut.min()));const u=Bn().add(o),f=new wy(Ut.min(),new Map,new fr(bn),c,u);yield L1(r,f),r.kc=r.kc.remove(o),r.Oc.delete(e),_S(r)}else yield ky(r.localStore,e,!1).then(()=>jy(r,e,t)).catch(ig)}),dS.apply(this,arguments)}function iF(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,Ge.Z)(function*(n,e){const t=ht(n),r=e.batch.batchId;try{const i=yield fL(t.localStore,e);mS(t,r,null),gS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield md(t,i)}catch(i){yield ig(i)}}),hS.apply(this,arguments)}function sF(n,e,t){return fS.apply(this,arguments)}function fS(){return fS=(0,Ge.Z)(function*(n,e,t){const r=ht(n);try{const i=yield function(o,c){const u=ht(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return u.gs.lookupMutationBatch(f,c).next(w=>(Zt(null!==w),_=w.keys(),u.gs.removeMutationBatch(f,w))).next(()=>u.gs.performConsistencyCheck(f)).next(()=>u.Us.Es(f,_))})}(r.localStore,e);mS(r,e,t),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield md(r,i)}catch(i){yield ig(i)}}),fS.apply(this,arguments)}function pS(){return pS=(0,Ge.Z)(function*(n,e){const t=ht(n);qh(t.remoteStore)||st("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=ht(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.gs.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Fc.get(r)||[];i.push(e),t.Fc.set(r,i)}catch(r){const i=Vy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),pS.apply(this,arguments)}function gS(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function mS(n,e,t){const r=ht(n);let i=r.$c[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||V1(n,r)})}function V1(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(p0(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),_S(n))}function yS(n,e,t){for(const r of t)r instanceof R1?(n.Mc.addReference(r.key,e),aF(n,r)):r instanceof k1?(st("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||V1(n,r.key)):St()}function aF(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(st("SyncEngine","New document in limbo: "+t),n.xc.add(r),_S(n))}function _S(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new vt(Pn.fromString(e)),r=n.Bc.next();n.Oc.set(r,new XL(t)),n.kc=n.kc.insert(t,r),jI(n.remoteStore,new $h(So(du(t.path)),r,2,$s.A))}}function md(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,Ge.Z)(function*(n,e,t){const r=ht(n),i=[],o=[],c=[];var u;r.Cc.isEmpty()||(r.Cc.forEach((u,f)=>{c.push(r.Uc(f,e,t).then(_=>{if(_){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,_.fromCache?"not-current":"current"),i.push(_);const w=EA.Ss(f.targetId,_);o.push(w)}}))}),yield Promise.all(c),r.Dc.To(i),yield(u=(0,Ge.Z)(function*(f,_){const w=ht(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ce.forEach(_,S=>Ce.forEach(S.vs,N=>w.persistence.referenceDelegate.addReference(I,S.targetId,N)).next(()=>Ce.forEach(S.Vs,N=>w.persistence.referenceDelegate.removeReference(I,S.targetId,N)))))}catch(I){if(!ac(I))throw I;st("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const S=I.targetId;if(!I.fromCache){const N=w.Ms.get(S),j=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);w.Ms=w.Ms.insert(S,j)}}}),function(f,_){return u.apply(this,arguments)})(r.localStore,o))}),vS.apply(this,arguments)}function lF(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,Ge.Z)(function*(n,e){const t=ht(n);if(!t.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=yield f1(t.localStore,e);t.currentUser=e,(i=t).Fc.forEach(c=>{c.forEach(u=>{u.reject(new Xe(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(t,r.qs)}var i}),bS.apply(this,arguments)}function cF(n,e){const t=ht(n),r=t.Oc.get(e);if(r&&r.Sc)return Bn().add(r.key);{let i=Bn();const o=t.Nc.get(e);if(!o)return i;for(const c of o){const u=t.Cc.get(c);i=i.unionWith(u.view.yc)}return i}}function uF(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,Ge.Z)(function*(n,e){const t=ht(n),r=yield FI(t.localStore,e.query,!0),i=e.view.vc(r);return t.isPrimaryClient&&yS(t,e.targetId,i.Pc),i}),wS.apply(this,arguments)}function dF(n){return ES.apply(this,arguments)}function ES(){return ES=(0,Ge.Z)(function*(n){const e=ht(n);return y1(e.localStore).then(t=>md(e,t))}),ES.apply(this,arguments)}function hF(n,e,t,r){return CS.apply(this,arguments)}function CS(){return CS=(0,Ge.Z)(function*(n,e,t,r){const i=ht(n),o=yield function(c,u){const f=ht(c),_=ht(f.gs);return f.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.Ge(w,u).next(I=>I?f.Us.Es(w,I):Ce.resolve(null)))}(i.localStore,e);var u;null!==o?("pending"===t?yield Ly(i.remoteStore):"acknowledged"===t||"rejected"===t?(mS(i,e,r||null),gS(i,e),u=e,ht(ht(i.localStore).gs).Qe(u)):St(),yield md(i,o)):st("SyncEngine","Cannot apply mutation batch with id: "+e)}),CS.apply(this,arguments)}function IS(){return IS=(0,Ge.Z)(function*(n,e){const t=ht(n);if(AS(t),SS(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield B1(t,r.toArray());t.Lc=!0,yield YA(t.remoteStore,!0);for(const o of i)jI(t.remoteStore,o)}else if(!1===e&&!1!==t.Lc){const r=[];let i=Promise.resolve();t.Nc.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(jy(t,c),ky(t.localStore,c,!0))),p0(t.remoteStore,c)}),yield i,yield B1(t,r),function(o){const c=ht(o);c.Oc.forEach((u,f)=>{p0(c.remoteStore,f)}),c.Mc.ii(),c.Oc=new Map,c.kc=new Rr(vt.comparator)}(t),t.Lc=!1,yield YA(t.remoteStore,!1)}}),IS.apply(this,arguments)}function B1(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,Ge.Z)(function*(n,e,t){const r=ht(n),i=[],o=[];for(const c of e){let u;const f=r.Nc.get(c);if(f&&0!==f.length){u=yield Ry(r.localStore,So(f[0]));for(const _ of f){const w=r.Cc.get(_),I=yield uF(r,w);I.snapshot&&o.push(I.snapshot)}}else{const _=yield m1(r.localStore,c);u=yield Ry(r.localStore,_),yield oS(r,U1(_),c,!1)}i.push(u)}return r.Dc.To(o),i}),DS.apply(this,arguments)}function U1(n){return Hb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pF(n){const e=ht(n);return ht(ht(e.localStore).persistence).ds()}function gF(n,e,t,r){return TS.apply(this,arguments)}function TS(){return TS=(0,Ge.Z)(function*(n,e,t,r){const i=ht(n);if(i.Lc)st("SyncEngine","Ignoring unexpected query state notification.");else if(i.Nc.has(e))switch(t){case"current":case"not-current":{const o=yield y1(i.localStore),c=wy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield md(i,o,c);break}case"rejected":yield ky(i.localStore,e,!0),jy(i,e,r);break;default:St()}}),TS.apply(this,arguments)}function mF(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,Ge.Z)(function*(n,e,t){const r=AS(n);if(r.Lc){for(const i of e){if(r.Nc.has(i)){st("SyncEngine","Adding an already active target "+i);continue}const o=yield m1(r.localStore,i),c=yield Ry(r.localStore,o);yield oS(r,U1(o),c.targetId,!1),jI(r.remoteStore,c)}for(const i of t)r.Nc.has(i)&&(yield ky(r.localStore,i,!1).then(()=>{p0(r.remoteStore,i),jy(r,i)}).catch(ig))}}),xS.apply(this,arguments)}function AS(n){const e=ht(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rF.bind(null,e),e.Dc.To=qL.bind(null,e.eventManager),e.Dc.qc=KL.bind(null,e.eventManager),e}function SS(n){const e=ht(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sF.bind(null,e),e}class j1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ge.Z)(function*(){t.O=h0(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return h1(this.persistence,new d1,e.initialUser,this.O)}jc(e){return new DL(SA.bi,this.O)}Gc(e){return new b1}terminate(){var e=this;return(0,Ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class H1 extends j1{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ge.Z)(function*(){yield t().call(r,e),yield function mL(n){return DA.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield SS(r.zc.syncEngine),yield Ly(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return h1(this.persistence,new d1,e.initialUser,this.O)}Qc(e){return new iL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=wA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new bA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,E1(),UI(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new b1}}class _F extends H1{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ge.Z)(function*(){yield t().call(r,e);const i=r.zc.syncEngine;r.sharedClientState instanceof RA&&(r.sharedClientState.syncEngine={hr:hF.bind(null,i),lr:gF.bind(null,i),dr:mF.bind(null,i),ds:pF.bind(null,i),ar:dF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var o=(0,Ge.Z)(function*(c){yield function fF(n,e){return IS.apply(this,arguments)}(r.zc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}Gc(e){const t=E1();if(!RA.Vt(t))throw new Xe(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class MS{initialize(e,t){var r=this;return(0,Ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>F1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lF.bind(null,r.syncEngine),yield YA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new WL}createDatastore(e){const t=h0(e.databaseInfo.databaseId),r=new ML(e.databaseInfo);return new RL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=u=>F1(this.syncEngine,u,0),c=w1.Vt()?new w1:new xL,new NL(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,u,f,_){const w=new JL(r,i,o,c,u,f);return _&&(w.Lc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ge.Z)(function*(t){const r=ht(t);st("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield Ny(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $1(n,e=10240){let t=0;return{read:()=>(0,Ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $I{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vF{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,Ge.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,Ge.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),i=Number(r);isNaN(i)&&e.eu(`length string (${r}) is not valid number`);const o=yield e.nu(i);return new ZL(JSON.parse(o),t.length+i)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,Ge.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,Ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class bF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Xe(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ge.Z)(function*(o,c){const u=ht(o),f=Yp(u.O)+"/documents",_={documents:c.map(N=>Iy(u.O,N))},w=yield u.Lr("BatchGetDocuments",f,_),I=new Map;w.forEach(N=>{const B=function DI(n,e){return"found"in e?function(t,r){Zt(!!r.found);const i=oc(t,r.found.name),o=Xr(r.found.updateTime),c=new ws({mapValue:{fields:r.found.fields}});return Er.newFoundDocument(i,o,c)}(n,e):"missing"in e?function(t,r){Zt(!!r.missing),Zt(!!r.readTime);const i=oc(t,r.missing),o=Xr(r.readTime);return Er.newNoDocument(i,o)}(n,e):St()}(u.O,N);I.set(B.key.toString(),B)});const S=[];return c.forEach(N=>{const B=I.get(N.toString());Zt(!!B),S.push(B)}),S}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=vt.fromPath(i);e.mutations.push(new _y(o,e.precondition(o)))}),yield(r=(0,Ge.Z)(function*(i,o){const c=ht(i),u=Yp(c.O)+"/documents",f={writes:o.map(_=>Qp(c.O,_))};yield c.Mr("Commit",u,f)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Xe(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Qr.updateTime(t):Qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Xe(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qr.updateTime(t)}return Qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wF{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new kA(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,Ge.Z)(function*(){const t=new bF(e.datastore),r=e.cu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.uu(o)}))}).catch(i=>{e.uu(i)})}))}cu(e){try{const t=this.updateFunction(e);return!lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qb(t)}return!1}}class EF{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xi.UNAUTHENTICATED,this.clientId=JC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ge.Z)(function*(u){st("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(st("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function z1(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,Ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ge.Z)(function*(o){r.isEqual(o)||(yield f1(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),OS.apply(this,arguments)}function G1(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,Ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield RS(n);st("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>S1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>S1(e.remoteStore,o)),n.onlineComponents=e}),PS.apply(this,arguments)}function RS(n){return kS.apply(this,arguments)}function kS(){return kS=(0,Ge.Z)(function*(n){return n.offlineComponents||(st("FirestoreClient","Using default OfflineComponentProvider"),yield z1(n,new j1)),n.offlineComponents}),kS.apply(this,arguments)}function zI(n){return NS.apply(this,arguments)}function NS(){return NS=(0,Ge.Z)(function*(n){return n.onlineComponents||(st("FirestoreClient","Using default OnlineComponentProvider"),yield G1(n,new MS)),n.onlineComponents}),NS.apply(this,arguments)}function W1(n){return RS(n).then(e=>e.persistence)}function LS(n){return RS(n).then(e=>e.localStore)}function q1(n){return zI(n).then(e=>e.remoteStore)}function FS(n){return zI(n).then(e=>e.syncEngine)}function Hy(n){return VS.apply(this,arguments)}function VS(){return VS=(0,Ge.Z)(function*(n){const e=yield zI(n),t=e.eventManager;return t.onListen=eF.bind(null,e.syncEngine),t.onUnlisten=tF.bind(null,e.syncEngine),t}),VS.apply(this,arguments)}function K1(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(i,o,c,u,f){const _=new $I({next:I=>{o.enqueueAndForget(()=>tS(i,w));const S=I.docs.has(c);!S&&I.fromCache?f.reject(new Xe(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&I.fromCache&&u&&"server"===u.source?f.reject(new Xe(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),w=new iS(du(c.path),_,{includeMetadataChanges:!0,uc:!0});return JA(i,w)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}function Z1(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(i,o,c,u,f){const _=new $I({next:I=>{o.enqueueAndForget(()=>tS(i,w)),I.fromCache&&"server"===u.source?f.reject(new Xe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),w=new iS(c,_,{includeMetadataChanges:!0,uc:!0});return JA(i,w)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}const Y1=new Map;function BS(n,e,t){if(!t)throw new Xe(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q1(n,e,t,r){if(!0===e&&!0===r)throw new Xe(Le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X1(n){if(!vt.isDocumentKey(n))throw new Xe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J1(n){if(vt.isDocumentKey(n))throw new Xe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":St()}function Sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Xe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GI(n);throw new Xe(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eP(n,e){if(e<=0)throw new Xe(Le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class tP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Xe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tP({}),this._settingsFrozen=!1,e instanceof cd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Xe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(i.options.projectId)}(e))}get app(){if(!this._app)throw new Xe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Mb;switch(t.type){case"gapi":const r=t.client;return Zt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MO(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Xe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Y1.get(e);t&&(st("ComponentProvider","Removing Datastore"),Y1.delete(e),t.terminate())}(this),Promise.resolve()}}class kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class fu extends no{constructor(e,t,r){super(e,t,du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new vt(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function nP(n,e,...t){if(n=(0,on.m9)(n),BS("collection","path",e),n instanceof g0){const r=Pn.fromString(e,...t);return J1(r),new fu(n,null,r)}{if(!(n instanceof kr||n instanceof fu))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pn.fromString(e,...t));return J1(r),new fu(n.firestore,null,r)}}function WI(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=JC.R()),BS("doc","path",e),n instanceof g0){const r=Pn.fromString(e,...t);return X1(r),new kr(n,null,new vt(r))}{if(!(n instanceof kr||n instanceof fu))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pn.fromString(e,...t));return X1(r),new kr(n.firestore,n instanceof fu?n.converter:null,new vt(r))}}function rP(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof kr||n instanceof fu)&&(e instanceof kr||e instanceof fu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function iP(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof no&&e instanceof no&&n.firestore===e.firestore&&Fh(n._query,e._query)&&n.converter===e.converter}class RF{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new kA(this,"async_queue_retry"),this.yu=()=>{const t=UI();t&&st("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=UI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=UI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Ii;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,Ge.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!ac(t))throw t;st("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,Hr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const i=XA.createAndSchedule(this,e,t,r,o=>this.Tu(o));return this.du.push(i),i}pu(){this._u&&St()}verifyOperationInProgress(){}Au(){var e=this;return(0,Ge.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function US(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class kF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zr extends g0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new RF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sP(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||sP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sP(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Nb(n._databaseId,o,n._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var o,u;n._firestoreClient=new EF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function oP(n,e,t){const r=new Ii;return n.asyncQueue.enqueue((0,Ge.Z)(function*(){try{yield z1(n,t),yield G1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(o=i).name?o.code===Le.FAILED_PRECONDITION||o.code===Le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var o})).then(()=>r.promise)}function aP(n){if(n._initialized||n._terminated)throw new Xe(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(xi.fromBase64String(e))}catch(t){throw new Xe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pu(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sg{constructor(e){this._methodName=e}}class qI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const zF=/^__.*__$/;class GF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fd(e,this.data,this.fieldMask,t,this.fieldTransforms):new jh(e,this.data,t,this.fieldTransforms)}}class lP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class KI{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new KI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return QI(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(cP(this.Vu)&&zF.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class WF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||h0(e)}Fu(e,t,r,i=!1){return new KI({Vu:e,methodName:t,$u:r,path:Ti.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function og(n){const e=n._freezeSettings(),t=h0(n._databaseId);return new WF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZI(n,e,t,r,i,o={}){const c=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);zS("Data must be an object, but it was:",c,r);const u=hP(r,c);let f,_;if(o.merge)f=new Rh(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const I of o.mergeFields){const S=GS(e,I,t);if(!c.contains(S))throw new Xe(Le.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);pP(w,S)||w.push(S)}f=new Rh(w),_=c.fieldTransforms.filter(I=>f.covers(I.field))}else f=null,_=c.fieldTransforms;return new GF(new ws(u),f,_)}class m0 extends sg{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}function uP(n,e,t){return new KI({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class jS extends sg{_toFieldTransform(e){return new Uh(e.path,new Vh)}isEqual(e){return e instanceof jS}}class qF extends sg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=uP(this,e,!0),r=this.Bu.map(o=>ag(o,t)),i=new Ji(r);return new Uh(e.path,i)}isEqual(e){return this===e}}class KF extends sg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=uP(this,e,!0),r=this.Bu.map(o=>ag(o,t)),i=new sc(r);return new Uh(e.path,i)}isEqual(e){return this===e}}class ZF extends sg{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Bh(e.O,uI(e.O,this.Lu));return new Uh(e.path,t)}isEqual(e){return this===e}}function HS(n,e,t,r){const i=n.Fu(1,e,t);zS("Data must be an object, but it was:",i,r);const o=[],c=ws.empty();ad(r,(f,_)=>{const w=YI(e,f,t);_=(0,on.m9)(_);const I=i.xu(w);if(_ instanceof m0)o.push(w);else{const S=ag(_,I);null!=S&&(o.push(w),c.set(w,S))}});const u=new Rh(o);return new lP(c,u,i.fieldTransforms)}function $S(n,e,t,r,i,o){const c=n.Fu(1,e,t),u=[GS(e,r,t)],f=[i];if(o.length%2!=0)throw new Xe(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)u.push(GS(e,o[S])),f.push(o[S+1]);const _=[],w=ws.empty();for(let S=u.length-1;S>=0;--S)if(!pP(_,u[S])){const N=u[S];let B=f[S];B=(0,on.m9)(B);const j=c.xu(N);if(B instanceof m0)_.push(N);else{const ee=ag(B,j);null!=ee&&(_.push(N),w.set(N,ee))}}const I=new Rh(_);return new lP(w,I,c.fieldTransforms)}function dP(n,e,t,r=!1){return ag(t,n.Fu(r?4:3,e))}function ag(n,e){if(fP(n=(0,on.m9)(n)))return zS("Unsupported field value:",e,n),hP(n,e);if(n instanceof sg)return function(t,r){if(!cP(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let u=ag(c,r.ku(o));null==u&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uI(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Di.fromDate(t);return{timestampValue:Zp(r.O,i)}}if(t instanceof Di){const i=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zp(r.O,i)}}if(t instanceof qI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pu)return{bytesValue:Cy(r.O,t._byteString)};if(t instanceof kr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.Ou(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${GI(t)}`)}(n,e)}function hP(n,e){const t={};return kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ad(n,(r,i)=>{const o=ag(i,e.Du(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function fP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Di||n instanceof qI||n instanceof pu||n instanceof kr||n instanceof sg)}function zS(n,e,t){if(!fP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=GI(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function GS(n,e,t){if((e=(0,on.m9)(e))instanceof yd)return e._internalPath;if("string"==typeof e)return YI(n,e);throw QI("Field path arguments must be of type string or ",n,!1,void 0,t)}const YF=new RegExp("[~\\*/\\[\\]]");function YI(n,e,t){if(e.search(YF)>=0)throw QI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch(r){throw QI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function QI(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Xe(Le.INVALID_ARGUMENT,u+n+f)}function pP(n,e){return n.some(t=>t.isEqual(e))}class y0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QF extends y0{data(){return super.data()}}function XI(n,e){return"string"==typeof e?YI(n,e):e instanceof yd?e._internalPath:e._delegate._internalPath}class lg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _d extends y0{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(XI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends _d{data(e={}){return super.data(e)}}class Zh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new lg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new lg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const u=new _0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new lg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:XF(c.type),doc:u,oldIndex:f,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function gP(n,e){return n instanceof _d&&e instanceof _d?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zh&&e instanceof Zh&&n._firestore===e._firestore&&iP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function mP(n){if(zp(n)&&0===n.explicitOrderBy.length)throw new Xe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}function Yh(n,...e){for(const t of e)n=t._apply(n);return n}class JF extends v0{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=og(e.firestore),r=function(i,o,c,u,f,_,w){let I;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){EP(w,_);const N=[];for(const B of w)N.push(wP(u,i,B));I={arrayValue:{values:N}}}else I=wP(u,i,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||EP(w,_),I=dP(c,"where",w,"in"===_||"not-in"===_);const S=Es.create(f,_,I);return function(N,B){if(B.S()){const ee=Gp(N);if(null!==ee&&!ee.isEqual(B.field))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ee.toString()}' and '${B.field.toString()}'`);const fe=aI(N);null!==fe&&CP(0,B.field,fe)}const j=function(ee,fe){for(const Re of ee.filters)if(fe.indexOf(Re.op)>=0)return Re.op;return null}(N,function(ee){switch(ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==j)throw new Xe(Le.INVALID_ARGUMENT,j===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${j.toString()}' filters.`)}(i,S),S}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new no(e.firestore,e.converter,function(i,o){const c=i.filters.concat([o]);return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class t2 extends v0{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new jp(i,o);return function(u,f){if(null===aI(u)){const _=Gp(u);null!==_&&CP(0,_,f.field)}}(r,c),c}(e._query,this.Uu,this.Gu);return new no(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new uu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class yP extends v0{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new no(e.firestore,e.converter,Hx(e._query,this.ju,this.Qu))}}class _P extends v0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=bP(e,this.type,this.Wu,this.zu);return new no(e.firestore,e.converter,(i=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class vP extends v0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=bP(e,this.type,this.Wu,this.zu);return new no(e.firestore,e.converter,(i=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function bP(n,e,t,r){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof y0)return function(i,o,c,u,f){if(!u)throw new Xe(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of hd(i))if(w.field.isKeyField())_.push(dd(o,u.key));else{const I=u.data.field(w.field);if(rI(I))throw new Xe(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const S=w.field.canonicalString();throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(I)}return new Up(_,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=og(n.firestore);return function(o,c,u,f,_,w){const I=o.explicitOrderBy;if(_.length>I.length)throw new Xe(Le.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let N=0;N<_.length;N++){const B=_[N];if(I[N].field.isKeyField()){if("string"!=typeof B)throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!dy(o)&&-1!==B.indexOf("/"))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const j=o.path.child(Pn.fromString(B));if(!vt.isDocumentKey(j))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const ee=new vt(j);S.push(dd(c,ee))}else{const j=dP(u,f,B);S.push(j)}}return new Up(S,w)}(n._query,n.firestore._databaseId,i,e,t,r)}}function wP(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dy(e)&&-1!==t.indexOf("/"))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pn.fromString(t));if(!vt.isDocumentKey(r))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dd(n,new vt(r))}if(t instanceof kr)return dd(n,t._key);throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GI(t)}.`)}function EP(n,e){if(!Array.isArray(n)||0===n.length)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function CP(n,e,t){if(!t.isEqual(e))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class WS{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}}convertObject(e,t){const r={};return ad(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new qI($r(e.latitude),$r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kh(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pp(e));default:return null}}convertTimestamp(e){const t=Ao(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pn.fromString(e);Zt(iA(r));const i=new cd(r.get(1),r.get(3)),o=new vt(r.popFirst(5));return i.isEqual(t)||Hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function JI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class c2 extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}class IP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=og(e)}set(e,t,r){this._verifyNotCommitted();const i=Qh(e,this._firestore),o=JI(i.converter,t,r),c=ZI(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Qr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Qh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof yd?$S(this._dataReader,"WriteBatch.update",o._key,t,r,i):HS(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qh(e,this._firestore);return this._mutations=this._mutations.concat(new yy(t._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qh(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Xe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cg extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}function DP(n,e,t){n=Sn(n,kr);const r=Sn(n.firestore,zr),i=JI(n.converter,e,t);return $y(r,[ZI(og(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Qr.none())])}function TP(n,e,t,...r){n=Sn(n,kr);const i=Sn(n.firestore,zr),o=og(i);let c;return c="string"==typeof(e=(0,on.m9)(e))||e instanceof yd?$S(o,"updateDoc",n._key,e,t,r):HS(o,"updateDoc",n._key,e),$y(i,[c.toMutation(n._key,Qr.exists(!0))])}function xP(n,...e){var t,r,i;n=(0,on.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||US(e[c])||(o=e[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges};if(US(e[c])){const I=e[c];e[c]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[c+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[c+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let f,_,w;if(n instanceof kr)_=Sn(n.firestore,zr),w=du(n._key.path),f={next:I=>{e[c]&&e[c](qS(_,n,I))},error:e[c+1],complete:e[c+2]};else{const I=Sn(n,no);_=Sn(I.firestore,zr),w=I._query;const S=new cg(_);f={next:N=>{e[c]&&e[c](new Zh(_,S,I,N))},error:e[c+1],complete:e[c+2]},mP(n._query)}return function(I,S,N,B){const j=new $I(B),ee=new iS(S,j,N);return I.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return JA(yield Hy(I),ee)})),()=>{j.Jc(),I.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return tS(yield Hy(I),ee)}))}}(zi(_),w,u,f)}function $y(n,e){return function(t,r){const i=new Ii;return t.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function nF(n,e,t){return cS.apply(this,arguments)}(yield FS(t),r,i)})),i.promise}(zi(n),e)}function qS(n,e,t){const r=t.docs.get(e._key),i=new cg(n);return new _d(n,i,e._key,r,new lg(t.hasPendingWrites,t.fromCache),e.converter)}class v2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=og(e)}get(e){const t=Qh(e,this._firestore),r=new c2(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return St();const o=i[0];if(o.isFoundDocument())return new y0(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new y0(this._firestore,r,t._key,null,t.converter);throw St()})}set(e,t,r){const i=Qh(e,this._firestore),o=JI(i.converter,t,r),c=ZI(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=Qh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof yd?$S(this._dataReader,"Transaction.update",o._key,t,r,i):HS(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=Qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qh(e,this._firestore),r=new cg(this._firestore);return super.get(e).then(i=>new _d(this._firestore,r,t._key,i._document,new lg(!1,!1),t.converter))}}function KS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SP(){if("undefined"==typeof Uint8Array)throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function MP(){if(!function nI(){return"undefined"!=typeof atob}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ul=Ku.SDK_VERSION,(0,Ku._registerComponent)(new dm.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),o=new zr(i,new Nx(t.getProvider("auth-internal")),new Ob(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC")),(0,Ku.registerVersion)(xb,"3.4.5",n),(0,Ku.registerVersion)(xb,"3.4.5","esm2017")}();class b0{constructor(e){this._delegate=e}static fromBase64String(e){return MP(),new b0(pu.fromBase64String(e))}static fromUint8Array(e){return SP(),new b0(pu.fromUint8Array(e))}toBase64(){return MP(),this._delegate.toBase64()}toUint8Array(){return SP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZS(n){return function A2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class S2{enableIndexedDbPersistence(e,t){return function LF(n,e){aP(n=Sn(n,zr));const t=zi(n),r=n._freezeSettings(),i=new MS;return oP(t,i,new H1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function FF(n){aP(n=Sn(n,zr));const e=zi(n),t=n._freezeSettings(),r=new MS;return oP(e,r,new _F(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VF(n){if(n._initialized&&!n._terminated)throw new Xe(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{yield(t=(0,Ge.Z)(function*(r){if(!ns.Vt())return Promise.resolve();const i=r+"main";yield ns.delete(i)}),function(r){return t.apply(this,arguments)})(wA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class OP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function OF(n,e,t,r={}){var i;const o=(n=Sn(n,g0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,u;if("string"==typeof r.mockUserToken)c=r.mockUserToken,u=Xi.MOCK_USER;else{c=(0,on.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Xe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xi(f)}n._authCredentials=new XC(new Sb(c,u))}}(this._delegate,e,t,r)}enableNetwork(){return function UF(n){return function CF(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const e=yield W1(n),t=yield q1(n);return e.setNetworkEnabled(!0),function(r){const i=ht(r);return i.Ko.delete(0),f0(i)}(t)}))}(zi(n=Sn(n,zr)))}(this._delegate)}disableNetwork(){return function jF(n){return function IF(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const e=yield W1(n),t=yield q1(n);return e.setNetworkEnabled(!1),(r=(0,Ge.Z)(function*(i){const o=ht(i);o.Ko.add(0),yield Ny(o),o.Qo.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(zi(n=Sn(n,zr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Q1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function BF(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function oF(n,e){return pS.apply(this,arguments)}(yield FS(e),t)})),t.promise}(zi(n=Sn(n,zr)))}(this._delegate)}onSnapshotsInSync(e){return function _2(n,e){return function xF(n,e){const t=new $I(e);return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return r=yield Hy(n),i=t,ht(r).Zo.add(i),void i.next();var r,i})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return r=yield Hy(n),i=t,void ht(r).Zo.delete(i);var r,i}))}}(zi(n=Sn(n,zr)),US(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zy(this,nP(this._delegate,e))}catch(t){throw Oo(t,"collection()","Firestore.collection()")}}doc(e){try{return new fl(this,WI(this._delegate,e))}catch(t){throw Oo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Po(this,function PF(n,e){if(n=Sn(n,g0),BS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(t=e,new uu(Pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Oo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function b2(n,e){return function AF(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){const r=yield(i=n,zI(i).then(o=>o.datastore));var i;new wF(n.asyncQueue,r,e,t).run()})),t.promise}(zi(n=Sn(n,zr)),t=>e(new v2(n,t)))}(this._delegate,t=>e(new PP(this,t)))}batch(){return zi(this._delegate),new RP(new IP(this._delegate,e=>$y(this._delegate,e)))}loadBundle(e){return function HF(n,e){const t=zi(n=Sn(n,zr)),r=new kF;return function SF(n,e,t,r){const i=function(o,c){let u;return u="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,_){if(f instanceof Uint8Array)return $1(f,_);if(f instanceof ArrayBuffer)return $1(new Uint8Array(f),_);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new vF(f,c);var f}(t,h0(e));n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){!function yF(n,e,t){const r=ht(n);var i;(i=(0,Ge.Z)(function*(o,c,u){try{const f=yield c.getMetadata();if(yield function(S,N){const B=ht(S),j=Xr(N.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",ee=>B.Kn.getBundleMetadata(ee,N.id)).then(ee=>!!ee&&ee.createTime.compareTo(j)>=0)}(o.localStore,f))return yield c.close(),void u._completeWith((S=f,{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}));u._updateProgress(P1(f));const _=new YL(f,o.localStore,c.O);let w=yield c.Kc();for(;w;){const S=yield _.lc(w);S&&u._updateProgress(S),w=yield c.Kc()}const I=yield _.complete();yield md(o,I.ws,void 0),yield function(S,N){const B=ht(S);return B.persistence.runTransaction("Save bundle","readwrite",j=>B.Kn.saveBundleMetadata(j,N))}(o.localStore,f),u._completeWith(I.progress)}catch(f){ic("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f)}var S}),function(o,c,u){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield FS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function $F(n,e){return function MF(n,e){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){return function(t,r){const i=ht(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Kn.getNamedQuery(o,r))}(yield LS(n),e)}))}(zi(n=Sn(n,zr)),e).then(t=>t?new no(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Po(this,t):null)}}class eD extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new b0(new pu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fl.forKey(t,this.firestore,null)}}class PP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}get(e){const t=dg(e);return this._delegate.get(t).then(r=>new w0(this._firestore,new _d(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dg(e);return r?(KS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=dg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class RP{constructor(e){this._delegate=e}set(e,t,r){const i=dg(e);return r?(KS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=dg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ug{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ug.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new ug(e,new eD(e),t),i.set(t,o)),o}}ug.INSTANCES=new WeakMap;class fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fl(t,new kr(t._delegate,r,new vt(e)))}static forKey(e,t,r){return new fl(t,new kr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new zy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zy(this.firestore,nP(this._delegate,e))}catch(t){throw Oo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof kr&&rP(this._delegate,e)}set(e,t){t=KS("DocumentReference.set",t);try{return t?DP(this._delegate,e,t):DP(this._delegate,e)}catch(r){throw Oo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?TP(this._delegate,e):TP(this._delegate,e,t,...r)}catch(i){throw Oo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function m2(n){return $y(Sn(n.firestore,zr),[new yy(n._key,Qr.none())])}(this._delegate)}onSnapshot(...e){const t=kP(e),r=NP(e,i=>new w0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function d2(n){n=Sn(n,kr);const e=Sn(n.firestore,zr),t=zi(e),r=new cg(e);return function DF(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(r=(0,Ge.Z)(function*(i,o,c){try{const u=yield function(f,_){const w=ht(f);return w.persistence.runTransaction("read document","readonly",I=>w.Us.ys(I,_))}(i,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new Xe(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=Vy(u,`Failed to get document '${o} from cache`);c.reject(f)}}),function(i,o,c){return r.apply(this,arguments)})(yield LS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new _d(e,r,n._key,i,new lg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function h2(n){n=Sn(n,kr);const e=Sn(n.firestore,zr);return K1(zi(e),n._key,{source:"server"}).then(t=>qS(e,n,t))}(this._delegate):function u2(n){n=Sn(n,kr);const e=Sn(n.firestore,zr);return K1(zi(e),n._key).then(t=>qS(e,n,t))}(this._delegate),t.then(r=>new w0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function Oo(n,e,t){return n.message=n.message.replace(e,t),n}function kP(n){for(const e of n)if("object"==typeof e&&!ZS(e))return e;return{}}function NP(n,e){var t,r;let i;return i=ZS(n[0])?n[0]:ZS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class w0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gP(this._delegate,e._delegate)}}class E0 extends w0{data(e){const t=this._delegate.data(e);return function ry(n,e){n||St()}(void 0!==t),t}}class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}where(e,t,r){try{return new Po(this.firestore,Yh(this._delegate,function e2(n,e,t){const r=e,i=XI("where",n);return new JF(i,r,t)}(e,t,r)))}catch(i){throw Oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Po(this.firestore,Yh(this._delegate,function n2(n,e="asc"){const t=e,r=XI("orderBy",n);return new t2(r,t)}(e,t)))}catch(r){throw Oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Po(this.firestore,Yh(this._delegate,function r2(n){return eP("limit",n),new yP("limit",n,"F")}(e)))}catch(t){throw Oo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Po(this.firestore,Yh(this._delegate,function i2(n){return eP("limitToLast",n),new yP("limitToLast",n,"L")}(e)))}catch(t){throw Oo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Po(this.firestore,Yh(this._delegate,function s2(...n){return new _P("startAt",n,!0)}(...e)))}catch(t){throw Oo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Po(this.firestore,Yh(this._delegate,function o2(...n){return new _P("startAfter",n,!1)}(...e)))}catch(t){throw Oo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Po(this.firestore,Yh(this._delegate,function a2(...n){return new vP("endBefore",n,!1)}(...e)))}catch(t){throw Oo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Po(this.firestore,Yh(this._delegate,function l2(...n){return new vP("endAt",n,!0)}(...e)))}catch(t){throw Oo(t,"endAt()","Query.endAt()")}}isEqual(e){return iP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function p2(n){n=Sn(n,no);const e=Sn(n.firestore,zr),t=zi(e),r=new cg(e);return function TF(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(r=(0,Ge.Z)(function*(i,o,c){try{const u=yield FI(i,o,!0),f=new N1(o,u.Ks),_=f.Ic(u.documents),w=f.applyChanges(_,!1);c.resolve(w.snapshot)}catch(u){const f=Vy(u,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(i,o,c){return r.apply(this,arguments)})(yield LS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function g2(n){n=Sn(n,no);const e=Sn(n.firestore,zr),t=zi(e),r=new cg(e);return Z1(t,n._query,{source:"server"}).then(i=>new Zh(e,r,n,i))}(this._delegate):function f2(n){n=Sn(n,no);const e=Sn(n.firestore,zr),t=zi(e),r=new cg(e);return mP(n._query),Z1(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate),t.then(r=>new YS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=kP(e),r=NP(e,i=>new YS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xP(this._delegate,t,r)}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}class O2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new E0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new E0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new O2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new E0(this._firestore,r))})}isEqual(e){return gP(this._delegate,e._delegate)}}class zy extends Po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fl(this.firestore,e):null}doc(e){try{return new fl(this.firestore,void 0===e?WI(this._delegate):WI(this._delegate,e))}catch(t){throw Oo(t,"doc()","CollectionReference.doc()")}}add(e){return function y2(n,e){const t=Sn(n.firestore,zr),r=WI(n),i=JI(n.converter,e);return $y(t,[ZI(og(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Qr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fl(this.firestore,t))}isEqual(e){return rP(this._delegate,e._delegate)}withConverter(e){return new zy(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function dg(n){return Sn(n,kr)}class QS{constructor(...e){this._delegate=new yd(...e)}static documentId(){return new QS(Ti.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof yd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function E2(){return new jS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function w2(){return new m0("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function C2(...n){return new qF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function I2(...n){return new KF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function D2(n){return new ZF("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const P2={Firestore:OP,GeoPoint:qI,Timestamp:Di,Blob:b0,Transaction:PP,WriteBatch:RP,DocumentReference:fl,DocumentSnapshot:w0,Query:Po,QueryDocumentSnapshot:E0,QuerySnapshot:YS,CollectionReference:zy,FieldPath:QS,FieldValue:hg,setLogLevel:function M2(n){!function dl(n){au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function LP(n,e){return function N2(n,e=JT.z){return new Z.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function XS(n,e){return LP(n,e).pipe((0,Ht.U)(t=>({payload:t,type:"query"})))}function tD(n,e){return XS(n,e).pipe(Fs(void 0),Am(),(0,Ht.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{const f=i.find(w=>w.doc.ref.isEqual(c.ref)),_=null==t?void 0:t.payload.docs.find(w=>w.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function FP(n,e,t){return tD(n,t).pipe((0,Zi.R)((r,i)=>function F2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function V2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),(0,jE.x)(),(0,Ht.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function JS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function k2(n){(function R2(n,e){n.INTERNAL.registerComponent(new dm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},P2)))})(n,(e,t)=>new OP(e,t,new S2)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(HE.Z);class BP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=tD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ht.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Fs(void 0),Am(),(0,bi.h)(([r,i])=>i.length>0||!r),(0,Ht.U)(([r,i])=>i),oi.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Zi.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VP(e);return FP(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),oi.iC)}get(e){return(0,T.D)(this.query.get(e)).pipe(oi.iC)}add(e){return this.ref.add(e)}doc(e){return new UP(this.ref.doc(e),this.afs)}}class UP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=$P(r,t);return new BP(i,o,this.afs)}snapshotChanges(){return function L2(n,e){return LP(n,e).pipe(Fs(void 0),Am(),(0,Ht.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,T.D)(this.ref.get(e)).pipe(oi.iC)}}class B2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,bi.h)(t=>t.length>0),oi.iC):tD(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Zi.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VP(e);return FP(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ht.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),oi.iC)}get(e){return(0,T.D)(this.query.get(e)).pipe(oi.iC)}}const jP=new p.OlP("angularfire2.enableFirestorePersistence"),HP=new p.OlP("angularfire2.firestore.persistenceSettings"),U2=new p.OlP("angularfire2.firestore.settings"),j2=new p.OlP("angularfire2.firestore.use-emulator");function $P(n,e=(t=>t)){return{query:e(n),ref:n}}let eM=(()=>{class n{constructor(t,r,i,o,c,u,f,_,w,I,S,N,B,j,ee,fe,Re){this.schedulers=f;const Je=(0,ka.on)(t,u,r),Ve=w;I&&li(Je,u,S,B,j,ee,N,fe),[this.firestore,this.persistenceEnabled$]=(0,ka.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const Be=u.runOutsideAngular(()=>Je.firestore());if(o&&Be.settings(o),Ve&&Be.useEmulator(...Ve),i&&!Kr(c)){const lt=()=>{try{return(0,T.D)(Be.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(pt){return"undefined"!=typeof console&&console.warn(pt),(0,D.of)(!1)}};return[Be,u.runOutsideAngular(lt)]}return[Be,(0,D.of)(!1)]},[o,Ve,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=$P(i,r),u=this.schedulers.ngZone.run(()=>o);return new BP(u,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new B2(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new UP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ka.Dh),p.LFG(ka.xv,8),p.LFG(jP,8),p.LFG(U2,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(oi.HU),p.LFG(HP,8),p.LFG(j2,8),p.LFG(op,8),p.LFG(Bv,8),p.LFG(QT,8),p.LFG(VE,8),p.LFG(BE,8),p.LFG(Uv,8),p.LFG(UE,8),p.LFG(Tm,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),H2=(()=>{class n{constructor(){Vv.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:jP,useValue:!0},{provide:HP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[eM]}),n})(),Gy=(()=>{class n{constructor(t,r,i){this.auth=t,this.firestore=r,this.store=i,this._user=null}get user(){return Object.assign({},this._user)}initAuthListener(){this.auth.authState.subscribe(t=>{t?this.userSubscription=this.firestore.doc(`${t.uid}/usuario`).valueChanges().subscribe(r=>{const i=um.fromFirebase(r);this._user=i,this.store.dispatch(Iv({user:i}))}):(this._user=null,this.userSubscription&&this.userSubscription.unsubscribe(),this.store.dispatch(nE()),this.store.dispatch(iE()))})}crearUsuario(t,r,i){return this.auth.createUserWithEmailAndPassword(r,i).then(o=>{var c,u;const f=new um(null===(c=o.user)||void 0===c?void 0:c.uid,t,r);this.firestore.doc(`${null===(u=o.user)||void 0===u?void 0:u.uid}/usuario`).set(Object.assign({},f))})}loginUsuario(t,r){return this.auth.signInWithEmailAndPassword(t,r)}cerrarSesion(){return this.userSubscription.unsubscribe(),this.auth.signOut()}isAuth(){return this.auth.authState.pipe((0,Ht.U)(t=>null!=t))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(op),p.LFG(eM),p.LFG(_n.yh))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $2(n,e){1&n&&(p.TgZ(0,"div",18)(1,"span",19),p._UZ(2,"i",20),p.qZA()())}function z2(n,e){1&n&&(p.TgZ(0,"div",18)(1,"span",19),p._UZ(2,"i",20),p.qZA()())}function G2(n,e){if(1&n&&(p.TgZ(0,"button",21),p._uU(1," Login "),p.qZA()),2&n){const t=p.oxw();p.Q6J("disabled",t.loginForm.invalid)}}function W2(n,e){1&n&&(p.TgZ(0,"button",22),p._UZ(1,"i",23),p._uU(2," Espere... "),p.qZA()),2&n&&p.Q6J("disabled",!0)}let q2=(()=>{class n{constructor(t,r,i,o){this.fb=t,this.authService=r,this.router=i,this.store=o,this.loginForm=this.fb.group({email:["",[Eo.required,Eo.email]],password:["",[Eo.required,Eo.minLength(6)]]}),this.cargando=!1}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(t=>this.cargando=t.isLoading)}ngOnDestroy(){this.uiSubscription.unsubscribe()}loginUsuario(){if(this.loginForm.invalid)return;this.store.dispatch(ch());const{email:t,password:r}=this.loginForm.value;this.authService.loginUsuario(t,r).then(i=>{this.store.dispatch(Qc()),this.router.navigate(["/"])}).catch(i=>{this.store.dispatch(Qc()),qu().fire({icon:"error",title:"Error!",text:i.message})})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Cv),p.Y36(Gy),p.Y36(Ci),p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["class","input-group-append",4,"ngIf"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-check-circle"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(t,r){if(1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),p._uU(5,"Ingresar"),p.qZA(),p.TgZ(6,"div",5)(7,"form",6),p.NdJ("ngSubmit",function(){return r.loginUsuario()}),p.TgZ(8,"div",7)(9,"label",8),p._uU(10,"Usuario"),p.qZA(),p.TgZ(11,"div",9),p._UZ(12,"input",10),p.YNc(13,$2,3,0,"div",11),p.qZA()(),p.TgZ(14,"div",7)(15,"label",8),p._uU(16,"Contrase\xf1a"),p.qZA(),p.TgZ(17,"div",9),p._UZ(18,"input",12),p.YNc(19,z2,3,0,"div",11),p.qZA()(),p.TgZ(20,"div",7),p.YNc(21,G2,2,1,"button",13),p.YNc(22,W2,3,1,"button",14),p.qZA(),p.TgZ(23,"div",15)(24,"span",16),p._uU(25,"\xbfNo estas registrado? "),p.qZA(),p._UZ(26,"br"),p.TgZ(27,"a",17),p._uU(28,"Crear una cuenta"),p.qZA()()()()()()()()),2&t){let i,o;p.xp6(7),p.Q6J("formGroup",r.loginForm),p.xp6(6),p.Q6J("ngIf",null==(i=r.loginForm.get("email"))?null:i.valid),p.xp6(6),p.Q6J("ngIf",null==(o=r.loginForm.get("password"))?null:o.valid),p.xp6(2),p.Q6J("ngIf",!r.cargando),p.xp6(1),p.Q6J("ngIf",r.cargando)}},directives:[Wf,Yg,ah,nh,Zg,Gu,et,Ff],styles:[""]}),n})();function K2(n,e){1&n&&p._UZ(0,"i",20)}function Z2(n,e){1&n&&p._UZ(0,"i",20)}function Y2(n,e){1&n&&p._UZ(0,"i",20)}function Q2(n,e){if(1&n&&(p.TgZ(0,"button",21),p._uU(1," Crear cuenta "),p.qZA()),2&n){const t=p.oxw();p.Q6J("disabled",t.registroForm.invalid)}}function X2(n,e){1&n&&(p.TgZ(0,"button",22),p._UZ(1,"i",23),p._uU(2," Espere... "),p.qZA()),2&n&&p.Q6J("disabled",!0)}let J2=(()=>{class n{constructor(t,r,i,o){this.fb=t,this.authService=r,this.router=i,this.store=o,this.registroForm=this.fb.group({nombre:["",[Eo.required]],email:["",[Eo.required,Eo.email]],password:["",[Eo.required,Eo.minLength(6)]]}),this.cargando=!1}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(t=>this.cargando=t.isLoading)}ngOnDestroy(){this.uiSubscription.unsubscribe()}crearUsuario(){if(this.registroForm.invalid)return;this.store.dispatch(ch());const{nombre:t,email:r,password:i}=this.registroForm.value;this.authService.crearUsuario(t,r,i).then(o=>{this.store.dispatch(Qc()),this.router.navigate(["/"])}).catch(o=>{this.store.dispatch(Qc()),qu().fire({icon:"error",title:"Error!",text:o.message})})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Cv),p.Y36(Gy),p.Y36(Ci),p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","email","formControlName","email","placeholder","Correo",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),p._uU(5,"Registro"),p.qZA(),p.TgZ(6,"div",5)(7,"form",6),p.NdJ("ngSubmit",function(){return r.crearUsuario()}),p.TgZ(8,"div",7)(9,"div",8),p._UZ(10,"input",9),p.TgZ(11,"div",10)(12,"span",11),p.YNc(13,K2,1,0,"i",12),p.qZA()()()(),p.TgZ(14,"div",7)(15,"div",8),p._UZ(16,"input",13),p.TgZ(17,"div",10)(18,"span",11),p.YNc(19,Z2,1,0,"i",12),p.qZA()()()(),p.TgZ(20,"div",7)(21,"div",8),p._UZ(22,"input",14),p.TgZ(23,"div",10)(24,"span",11),p.YNc(25,Y2,1,0,"i",12),p.qZA()()()(),p.TgZ(26,"div",7),p.YNc(27,Q2,2,1,"button",15),p.YNc(28,X2,3,1,"button",16),p.qZA(),p.TgZ(29,"div",17)(30,"span",18),p._uU(31,"\xbfYa tienes una cuenta?"),p.qZA(),p._UZ(32,"br"),p.TgZ(33,"a",19),p._uU(34,"Login"),p.qZA()()()()()()()()),2&t&&(p.xp6(7),p.Q6J("formGroup",r.registroForm),p.xp6(6),p.Q6J("ngIf",r.registroForm.get("nombre").valid),p.xp6(6),p.Q6J("ngIf",r.registroForm.get("email").valid),p.xp6(6),p.Q6J("ngIf",r.registroForm.get("password").valid),p.xp6(2),p.Q6J("ngIf",!r.cargando),p.xp6(1),p.Q6J("ngIf",r.cargando))},directives:[Wf,Yg,ah,nh,Zg,Gu,et,Ff],styles:[""]}),n})(),tM=(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r}crearIngresoEgreso(t){const r=this.authService.user.uid;return delete t.uid,this.firestore.doc(`${r}/ingresos-egresos`).collection("items").add(Object.assign({},t))}initIngresosEgresosListener(t){return this.firestore.collection(`${t}/ingresos-egresos/items`).snapshotChanges().pipe((0,Ht.U)(r=>r.map(i=>{const o=i.payload.doc.data();return Object.assign({uid:i.payload.doc.id},o)})))}borrarIngresoEgreso(t){return this.firestore.doc(`${this.authService.user.uid}/ingresos-egresos/items/${t}`).delete()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(eM),p.LFG(Gy))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eV=(()=>{class n{constructor(t){this.store=t,this.user=""}ngOnInit(){this.userSubs=this.store.select("auth").pipe((0,bi.h)(t=>null!==t.user)).subscribe(t=>{var r;return this.user=null===(r=t.user)||void 0===r?void 0:r.nombre})}ngOnDestroy(){this.userSubs&&this.userSubs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:1,consts:[[1,"navbar","default-layout","col-sm-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-top","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","d-none","d-sm-inline-block"],["id","UserDropdown","href","#","data-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"profile-text"],["src","assets/images/faces/face1.jpg","alt","Profile image",1,"img-xs","rounded-circle"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-sm-none","align-self-center"],[1,"icon-menu"]],template:function(t,r){1&t&&(p.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),p._UZ(3,"img",3),p.qZA(),p.TgZ(4,"a",4),p._UZ(5,"img",5),p.qZA()(),p.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9)(10,"span",10),p._uU(11),p.qZA(),p._UZ(12,"img",11),p.qZA()()(),p.TgZ(13,"button",12),p._UZ(14,"span",13),p.qZA()()()),2&t&&(p.xp6(11),p.hij("Hola, ",r.user,""))},styles:[""]}),n})(),tV=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.store=i,this.user=""}ngOnInit(){this.userSubs=this.store.select("auth").pipe((0,bi.h)(t=>null!==t.user)).subscribe(t=>{var r;return this.user=null===(r=t.user)||void 0===r?void 0:r.nombre})}ngOnDestroy(){this.userSubs&&this.userSubs.unsubscribe()}cerrarSesion(){this.authService.cerrarSesion().then(()=>{this.router.navigate(["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Gy),p.Y36(Ci),p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-sidebar"]],decls:33,vars:1,consts:[[1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"user-wrapper"],[1,"profile-image"],["src","assets/images/faces/face1.jpg","alt","profile image"],[1,"text-wrapper"],[1,"profile-name"],[1,"designation","text-muted"],["routerLink","/",1,"nav-item"],[1,"menu-icon","fa","fa-tachometer-alt"],[1,"menu-title"],["routerLink","/ingreso-egreso",1,"nav-item"],[1,"menu-icon","fa","fa-clipboard-list"],["routerLink","/detalle",1,"nav-item"],[1,"menu-icon","fa","fa-table"],[1,"nav-item"],[1,"nav-link","cursor",3,"click"],[1,"menu-icon","fa","fa-sign-out-alt"]],template:function(t,r){1&t&&(p.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"div",3)(4,"div",4)(5,"div",5),p._UZ(6,"img",6),p.qZA(),p.TgZ(7,"div",7)(8,"p",8),p._uU(9),p.qZA(),p.TgZ(10,"div")(11,"small",9),p._uU(12,"Gerente"),p.qZA()()()()()(),p.TgZ(13,"li",10)(14,"a",3),p._UZ(15,"i",11),p.TgZ(16,"span",12),p._uU(17,"Dashboard"),p.qZA()()(),p.TgZ(18,"li",13)(19,"a",3),p._UZ(20,"i",14),p.TgZ(21,"span",12),p._uU(22,"Ingresos y Egresos"),p.qZA()()(),p.TgZ(23,"li",15)(24,"a",3),p._UZ(25,"i",16),p.TgZ(26,"span",12),p._uU(27,"Detalle"),p.qZA()()(),p.TgZ(28,"li",17)(29,"a",18),p.NdJ("click",function(){return r.cerrarSesion()}),p._UZ(30,"i",19),p.TgZ(31,"span",12),p._uU(32,"Cerrar sesi\xf3n"),p.qZA()()()()()),2&t&&(p.xp6(9),p.Oqu(r.user))},directives:[jg],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),nV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"footer"],[1,"container-fluid","clearfix"],[1,"text-muted","d-block","text-center","text-sm-left","d-sm-inline-block"],["href","","target","_blank"]],template:function(t,r){1&t&&(p.TgZ(0,"footer",0)(1,"div",1)(2,"span",2),p._uU(3,"Footer "),p.TgZ(4,"a",3),p._uU(5,"Footer"),p.qZA(),p._uU(6,"."),p.qZA()()())},styles:[""]}),n})(),rV=(()=>{class n{constructor(t,r){this.store=t,this.ingresoEgresoService=r}ngOnInit(){this.store.select("auth").pipe((0,bi.h)(t=>null!=t.user)).subscribe(t=>{this.userSubs=this.ingresoEgresoService.initIngresosEgresosListener(t.user.uid).subscribe(r=>{this.store.dispatch(rE({items:r}))})})}ngOnDestroy(){this.ingresosSubs&&this.ingresosSubs.unsubscribe(),this.userSubs&&this.userSubs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(_n.yh),p.Y36(tM))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"page-body-wrapper"],[1,"main-panel"],[1,"content-wrapper"]],template:function(t,r){1&t&&(p._UZ(0,"app-navbar"),p.TgZ(1,"div",0),p._UZ(2,"app-sidebar"),p.TgZ(3,"div",1)(4,"div",2),p._UZ(5,"router-outlet"),p.qZA(),p._UZ(6,"app-footer"),p.qZA()())},directives:[eV,tV,zc,nV],styles:[""]}),n})(),iV=(()=>{class n{transform(t){return t.slice().sort((r,i)=>"Ingreso"===r.tipo?-1:1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=p.Yjl({name:"ordenIngreso",type:n,pure:!0}),n})();function sV(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"tr")(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.ALo(5,"currency"),p.qZA(),p.TgZ(6,"td"),p._uU(7),p.qZA(),p.TgZ(8,"td")(9,"button",7),p.NdJ("click",function(){const o=p.CHM(t).$implicit;return p.oxw().borrar(o.uid)}),p._UZ(10,"i",8),p._uU(11,"Borrar "),p.qZA()()()}if(2&n){const t=e.$implicit;p.xp6(2),p.Oqu(t.descripcion),p.xp6(2),p.Oqu(p.xi3(5,7,t.total,"EUR")),p.xp6(2),p.ekj("text-success","Ingreso"===t.tipo)("text-danger","Ingreso"!==t.tipo),p.xp6(1),p.hij(" ",t.tipo," ")}}let oV=(()=>{class n{constructor(t,r){this.store=t,this.ingresoEgresoService=r,this.ingresosEgresos=[]}ngOnInit(){this.ingresosSubs=this.store.select("ingresoEgreso").subscribe(t=>this.ingresosEgresos=t.items)}ngOnDestroy(){this.ingresosSubs&&this.ingresosSubs.unsubscribe()}borrar(t){this.ingresoEgresoService.borrarIngresoEgreso(t).then(()=>qu().fire("Borrado","Item borrado","success")).catch(r=>qu().fire("Error",r.message,"error"))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(_n.yh),p.Y36(tM))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-detalle"]],decls:19,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),p._uU(5,"Detalle de ingreso egreso"),p.qZA(),p.TgZ(6,"table",5)(7,"thead")(8,"tr")(9,"th"),p._uU(10,"Descripci\xf3n"),p.qZA(),p.TgZ(11,"th"),p._uU(12,"Total"),p.qZA(),p.TgZ(13,"th"),p._uU(14,"Tipo"),p.qZA(),p._UZ(15,"th"),p.qZA()(),p.TgZ(16,"tbody"),p.YNc(17,sV,12,10,"tr",6),p.ALo(18,"ordenIngreso"),p.qZA()()()()()()),2&t&&(p.xp6(17),p.Q6J("ngForOf",p.lcZ(18,1,r.ingresosEgresos)))},directives:[ge],pipes:[iV,Ms],styles:[""]}),n})();const zP="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function GP(n,e,t){const r=t||(c=>Array.prototype.slice.call(c));let i=!1,o=[];return function(...c){o=r(c),i||(i=!0,zP.call(window,()=>{i=!1,n.apply(e,o)}))}}const nM=n=>"start"===n?"left":"end"===n?"right":"center",ro=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function vd(){}const cV=function(){let n=0;return function(){return n++}}();function Un(n){return null==n}function Ir(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function Mn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Ai=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function pl(n,e){return Ai(n)?n:e}function cn(n,e){return void 0===n?e:n}const WP=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Dr(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Xn(n,e,t,r){let i,o,c;if(Ir(n))if(o=n.length,r)for(i=o-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<o;i++)e.call(t,n[i],i);else if(Mn(n))for(c=Object.keys(n),o=c.length,i=0;i<o;i++)e.call(t,n[c[i]],c[i])}function nD(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function rD(n){if(Ir(n))return n.map(rD);if(Mn(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=rD(n[t[i]]);return e}return n}function qP(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function dV(n,e,t,r){if(!qP(n))return;const i=e[n],o=t[n];Mn(i)&&Mn(o)?C0(i,o,r):e[n]=rD(o)}function C0(n,e,t){const r=Ir(e)?e:[e],i=r.length;if(!Mn(n))return n;const o=(t=t||{}).merger||dV;for(let c=0;c<i;++c){if(!Mn(e=r[c]))continue;const u=Object.keys(e);for(let f=0,_=u.length;f<_;++f)o(u[f],n,e,t)}return n}function I0(n,e){return C0(n,e,{merger:hV})}function hV(n,e,t){if(!qP(n))return;const r=e[n],i=t[n];Mn(r)&&Mn(i)?I0(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=rD(i))}function KP(n,e){const t=n.indexOf(".",e);return-1===t?n.length:t}function fg(n,e){if(""===e)return n;let t=0,r=KP(e,t);for(;n&&r>t;)n=n[e.substr(t,r-t)],t=r+1,r=KP(e,t);return n}function rM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const gl=n=>void 0!==n,Xh=n=>"function"==typeof n,ZP=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Gr=Math.PI,pr=2*Gr,mV=pr+Gr,iD=Number.POSITIVE_INFINITY,yV=Gr/180,di=Gr/2,D0=Gr/4,YP=2*Gr/3,ml=Math.log10,gu=Math.sign;function QP(n){const e=Math.round(n);n=x0(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ml(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function T0(n){return!isNaN(parseFloat(n))&&isFinite(n)}function x0(n,e,t){return Math.abs(n-e)<t}function XP(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function cc(n){return n*(Gr/180)}function iM(n){return n*(180/Gr)}function JP(n){if(!Ai(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function eR(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*Gr&&(o+=pr),{angle:o,distance:i}}function sM(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function bV(n,e){return(n-e+mV)%pr-Gr}function La(n){return(n%pr+pr)%pr}function A0(n,e,t,r){const i=La(n),o=La(e),c=La(t),u=La(o-i),f=La(c-i),_=La(i-o),w=La(i-c);return i===o||i===c||r&&o===c||u>f&&_<w}function Ds(n,e,t){return Math.max(e,Math.min(t,n))}function bd(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}const sD=n=>0===n||1===n,tR=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*pr/t),nR=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*pr/t)+1,S0={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*di),easeOutSine:n=>Math.sin(n*di),easeInOutSine:n=>-.5*(Math.cos(Gr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>sD(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sD(n)?n:tR(n,.075,.3),easeOutElastic:n=>sD(n)?n:nR(n,.075,.3),easeInOutElastic:n=>sD(n)?n:n<.5?.5*tR(2*n,.1125,.45):.5+.5*nR(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-S0.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*S0.easeInBounce(2*n):.5*S0.easeOutBounce(2*n-1)+.5},yl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},oM="0123456789ABCDEF",EV=n=>oM[15&n],CV=n=>oM[(240&n)>>4]+oM[15&n],oD=n=>(240&n)>>4==(15&n);function M0(n){return n+.5|0}const aD=(n,e,t)=>Math.max(Math.min(n,t),e);function O0(n){return aD(M0(2.55*n),0,255)}function P0(n){return aD(M0(255*n),0,255)}function aM(n){return aD(M0(n/2.55)/100,0,1)}function rR(n){return aD(M0(100*n),0,100)}const xV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,MV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iR(n,e,t){const r=e*Math.min(t,1-t),i=(o,c=(o+n/30)%12)=>t-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function OV(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function PV(n,e,t){const r=iR(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function lM(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),c=Math.min(t,r,i),u=(o+c)/2;let f,_,w;return o!==c&&(w=o-c,_=u>.5?w/(2-o-c):w/(o+c),f=o===t?(r-i)/w+(r<i?6:0):o===r?(i-t)/w+2:(t-r)/w+4,f=60*f+.5),[0|f,_||0,u]}function cM(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(P0)}function uM(n,e,t){return cM(iR,n,e,t)}function sR(n){return(n%360+360)%360}const oR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let lD;function cD(n,e,t){if(n){let r=lM(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,0===e?360:1)),r=uM(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function lR(n,e){return n&&Object.assign(e||{},n)}function cR(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=P0(n[3]))):(e=lR(n,{r:0,g:0,b:0,a:1})).a=P0(e.a),e}function UV(n){return"r"===n.charAt(0)?function AV(n){const e=xV.exec(n);let r,i,o,t=255;if(e){if(e[7]!==r){const c=+e[7];t=255&(e[8]?O0(c):255*c)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?O0(r):r),i=255&(e[4]?O0(i):i),o=255&(e[6]?O0(o):o),{r,g:i,b:o,a:t}}}(n):function NV(n){const e=MV.exec(n);let r,t=255;if(!e)return;e[5]!==r&&(t=e[6]?O0(+e[5]):P0(+e[5]));const i=sR(+e[2]),o=+e[3]/100,c=+e[4]/100;return r="hwb"===e[1]?function RV(n,e,t){return cM(PV,n,e,t)}(i,o,c):"hsv"===e[1]?function kV(n,e,t){return cM(OV,n,e,t)}(i,o,c):uM(i,o,c),{r:r[0],g:r[1],b:r[2],a:t}}(n)}class uD{constructor(e){if(e instanceof uD)return e;const t=typeof e;let r;"object"===t?r=cR(e):"string"===t&&(r=function DV(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*yl[n[1]],g:255&17*yl[n[2]],b:255&17*yl[n[3]],a:5===e?17*yl[n[4]]:255}:(7===e||9===e)&&(t={r:yl[n[1]]<<4|yl[n[2]],g:yl[n[3]]<<4|yl[n[4]],b:yl[n[5]]<<4|yl[n[6]],a:9===e?yl[n[7]]<<4|yl[n[8]]:255})),t}(e)||function BV(n){lD||(lD=function VV(){const n={},e=Object.keys(aR),t=Object.keys(oR);let r,i,o,c,u;for(r=0;r<e.length;r++){for(c=u=e[r],i=0;i<t.length;i++)o=t[i],u=u.replace(o,oR[o]);o=parseInt(aR[c],16),n[u]=[o>>16&255,o>>8&255,255&o]}return n}(),lD.transparent=[0,0,0,0]);const e=lD[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||UV(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=lR(this._rgb);return e&&(e.a=aM(e.a)),e}set rgb(e){this._rgb=cR(e)}rgbString(){return this._valid?function SV(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${aM(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function TV(n){var e=function IV(n){return oD(n.r)&&oD(n.g)&&oD(n.b)&&oD(n.a)}(n)?EV:CV;return n&&"#"+e(n.r)+e(n.g)+e(n.b)+(n.a<255?e(n.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function FV(n){if(!n)return;const e=lM(n),t=e[0],r=rR(e[1]),i=rR(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${aM(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}(this._rgb):this._rgb}mix(e,t){const r=this;if(e){const i=r.rgb,o=e.rgb;let c;const u=t===c?.5:t,f=2*u-1,_=i.a-o.a,w=((f*_==-1?f:(f+_)/(1+f*_))+1)/2;c=1-w,i.r=255&w*i.r+c*o.r+.5,i.g=255&w*i.g+c*o.g+.5,i.b=255&w*i.b+c*o.b+.5,i.a=u*i.a+(1-u)*o.a,r.rgb=i}return r}clone(){return new uD(this.rgb)}alpha(e){return this._rgb.a=P0(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=M0(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cD(this._rgb,2,e),this}darken(e){return cD(this._rgb,2,-e),this}saturate(e){return cD(this._rgb,1,e),this}desaturate(e){return cD(this._rgb,1,-e),this}rotate(e){return function LV(n,e){var t=lM(n);t[0]=sR(t[0]+e),t=uM(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function uR(n){return new uD(n)}const dR=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function hR(n){return dR(n)?n:uR(n)}function dM(n){return dR(n)?n:uR(n).saturate(.5).darken(.1).hexString()}const pg=Object.create(null),hM=Object.create(null);function R0(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function fM(n,e,t){return"string"==typeof e?C0(R0(n,e),t):C0(R0(n,""),e)}var Dn=new class jV{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>dM(r.backgroundColor),this.hoverBorderColor=(t,r)=>dM(r.borderColor),this.hoverColor=(t,r)=>dM(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return fM(this,e,t)}get(e){return R0(this,e)}describe(e,t){return fM(hM,e,t)}override(e,t){return fM(pg,e,t)}route(e,t,r,i){const o=R0(this,e),c=R0(this,r),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[u],_=c[i];return Mn(f)?Object.assign({},_,f):cn(f,_)},set(f){this[u]=f}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function dD(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function $V(n,e,t,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let c=0;const u=t.length;let f,_,w,I,S;for(f=0;f<u;f++)if(I=t[f],null!=I&&!0!==Ir(I))c=dD(n,i,o,c,I);else if(Ir(I))for(_=0,w=I.length;_<w;_++)S=I[_],null!=S&&!Ir(S)&&(c=dD(n,i,o,c,S));n.restore();const N=o.length/2;if(N>t.length){for(f=0;f<N;f++)delete i[o[f]];o.splice(0,N)}return c}function gg(n,e,t){const r=n.currentDevicePixelRatio,i=0!==t?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function fR(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function hD(n,e,t,r){let i,o,c,u,f;const _=e.pointStyle,w=e.rotation,I=e.radius;let S=(w||0)*yV;if(_&&"object"==typeof _&&(i=_.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return n.save(),n.translate(t,r),n.rotate(S),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),void n.restore();if(!(isNaN(I)||I<=0)){switch(n.beginPath(),_){default:n.arc(t,r,I,0,pr),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(S)*I,r-Math.cos(S)*I),S+=YP,n.lineTo(t+Math.sin(S)*I,r-Math.cos(S)*I),S+=YP,n.lineTo(t+Math.sin(S)*I,r-Math.cos(S)*I),n.closePath();break;case"rectRounded":f=.516*I,u=I-f,o=Math.cos(S+D0)*u,c=Math.sin(S+D0)*u,n.arc(t-o,r-c,f,S-Gr,S-di),n.arc(t+c,r-o,f,S-di,S),n.arc(t+o,r+c,f,S,S+di),n.arc(t-c,r+o,f,S+di,S+Gr),n.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*I,n.rect(t-u,r-u,2*u,2*u);break}S+=D0;case"rectRot":o=Math.cos(S)*I,c=Math.sin(S)*I,n.moveTo(t-o,r-c),n.lineTo(t+c,r-o),n.lineTo(t+o,r+c),n.lineTo(t-c,r+o),n.closePath();break;case"crossRot":S+=D0;case"cross":o=Math.cos(S)*I,c=Math.sin(S)*I,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o);break;case"star":o=Math.cos(S)*I,c=Math.sin(S)*I,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o),S+=D0,o=Math.cos(S)*I,c=Math.sin(S)*I,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o);break;case"line":o=Math.cos(S)*I,c=Math.sin(S)*I,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*I,r+Math.sin(S)*I)}n.fill(),e.borderWidth>0&&n.stroke()}}function mg(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function fD(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function pD(n){n.restore()}function zV(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if("middle"===i){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else"after"===i!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function GV(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function yg(n,e,t,r,i,o={}){const c=Ir(e)?e:[e],u=o.strokeWidth>0&&""!==o.strokeColor;let f,_;for(n.save(),n.font=i.string,function WV(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Un(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,o),f=0;f<c.length;++f)_=c[f],u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Un(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(_,t,r,o.maxWidth)),n.fillText(_,t,r,o.maxWidth),qV(n,t,r,_,o),r+=i.lineHeight;n.restore()}function qV(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=t-o.actualBoundingBoxAscent,_=t+o.actualBoundingBoxDescent,w=i.strikethrough?(f+_)/2:_;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(c,w),n.lineTo(u,w),n.stroke()}}function gD(n,e){const{x:t,y:r,w:i,h:o,radius:c}=e;n.arc(t+c.topLeft,r+c.topLeft,c.topLeft,-di,Gr,!0),n.lineTo(t,r+o-c.bottomLeft),n.arc(t+c.bottomLeft,r+o-c.bottomLeft,c.bottomLeft,Gr,di,!0),n.lineTo(t+i-c.bottomRight,r+o),n.arc(t+i-c.bottomRight,r+o-c.bottomRight,c.bottomRight,di,0,!0),n.lineTo(t+i,r+c.topRight),n.arc(t+i-c.topRight,r+c.topRight,c.topRight,0,-di,!0),n.lineTo(t+c.topLeft,r)}const KV=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ZV=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function YV(n,e){const t=(""+n).match(KV);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const QV=n=>+n||0;function pM(n,e){const t={},r=Mn(e),i=r?Object.keys(e):e,o=Mn(n)?r?c=>cn(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of i)t[c]=QV(o(c));return t}function pR(n){return pM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Wy(n){return pM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function io(n){const e=pR(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rs(n,e){let t=cn((n=n||{}).size,(e=e||Dn.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=cn(n.style,e.style);r&&!(""+r).match(ZV)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:cn(n.family,e.family),lineHeight:YV(cn(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:cn(n.weight,e.weight),string:""};return i.string=function HV(n){return!n||Un(n.size)||Un(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function k0(n,e,t,r){let o,c,u,i=!0;for(o=0,c=n.length;o<c;++o)if(u=n[o],void 0!==u&&(void 0!==e&&"function"==typeof u&&(u=u(e),i=!1),void 0!==t&&Ir(u)&&(u=u[t%u.length],i=!1),void 0!==u))return r&&!i&&(r.cacheable=!1),u}function Jh(n,e){return Object.assign(Object.create(n),e)}function gM(n,e,t){t=t||(c=>n[c]<e);let o,r=n.length-1,i=0;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const wd=(n,e,t)=>gM(n,t,r=>n[r][e]<t),JV=(n,e,t)=>gM(n,t,r=>n[r][e]>=t),gR=["push","pop","shift","splice","unshift"];function mR(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(gR.forEach(o=>{delete n[o]}),delete n._chartjs)}function yR(n){const e=new Set;let t,r;for(t=0,r=n.length;t<r;++t)e.add(n[t]);return e.size===r?n:Array.from(e)}function mM(n,e=[""],t=n,r,i=(()=>n[0])){gl(r)||(r=ER("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:r,_getTarget:i,override:c=>mM([c,...n],e,t,r)};return new Proxy(o,{deleteProperty:(c,u)=>(delete c[u],delete c._keys,delete n[0][u],!0),get:(c,u)=>vR(c,u,()=>function cB(n,e,t,r){let i;for(const o of e)if(i=ER(nB(o,n),t),gl(i))return yM(n,i)?_M(t,r,n,i):i}(u,e,n,c)),getOwnPropertyDescriptor:(c,u)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,u)=>CR(c).includes(u),ownKeys:c=>CR(c),set(c,u,f){const _=c._storage||(c._storage=i());return c[u]=_[u]=f,delete c._keys,!0}})}function qy(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:_R(n,r),setContext:o=>qy(n,o,t,r),override:o=>qy(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty:(o,c)=>(delete o[c],delete n[c],!0),get:(o,c,u)=>vR(o,c,()=>function rB(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:c}=n;let u=r[e];return Xh(u)&&c.isScriptable(e)&&(u=function iB(n,e,t,r){const{_proxy:i,_context:o,_subProxy:c,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);return u.add(n),e=e(o,c||r),u.delete(n),yM(n,e)&&(e=_M(i._scopes,i,n,e)),e}(e,u,n,t)),Ir(u)&&u.length&&(u=function sB(n,e,t,r){const{_proxy:i,_context:o,_subProxy:c,_descriptors:u}=t;if(gl(o.index)&&r(n))e=e[o.index%e.length];else if(Mn(e[0])){const f=e,_=i._scopes.filter(w=>w!==f);e=[];for(const w of f){const I=_M(_,i,n,w);e.push(qy(I,o,c&&c[n],u))}}return e}(e,u,n,c.isIndexable)),yM(e,u)&&(u=qy(u,i,o&&o[e],c)),u}(o,c,u)),getOwnPropertyDescriptor:(o,c)=>o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,c)=>Reflect.has(n,c),ownKeys:()=>Reflect.ownKeys(n),set:(o,c,u)=>(n[c]=u,delete o[c],!0)})}function _R(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Xh(t)?t:()=>t,isIndexable:Xh(r)?r:()=>r}}const nB=(n,e)=>n?n+rM(e):e,yM=(n,e)=>Mn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function vR(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function bR(n,e,t){return Xh(n)?n(e,t):n}const oB=(n,e)=>!0===n?e:"string"==typeof n?fg(e,n):void 0;function aB(n,e,t,r,i){for(const o of e){const c=oB(t,o);if(c){n.add(c);const u=bR(c._fallback,t,i);if(gl(u)&&u!==t&&u!==r)return u}else if(!1===c&&gl(r)&&t!==r)return null}return!1}function _M(n,e,t,r){const i=e._rootScopes,o=bR(e._fallback,t,r),c=[...n,...i],u=new Set;u.add(r);let f=wR(u,c,t,o||t,r);return!(null===f||gl(o)&&o!==t&&(f=wR(u,c,o,f,r),null===f))&&mM(Array.from(u),[""],i,o,()=>function lB(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Ir(i)&&Mn(t)?t:i}(e,t,r))}function wR(n,e,t,r,i){for(;t;)t=aB(n,e,t,r,i);return t}function ER(n,e){for(const t of e){if(!t)continue;const r=t[n];if(gl(r))return r}}function CR(n){let e=n._keys;return e||(e=n._keys=function uB(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(n._scopes)),e}const dB=Number.EPSILON||1e-14,Ky=(n,e)=>e<n.length&&!n[e].skip&&n[e],IR=n=>"x"===n?"y":"x";function hB(n,e,t,r){const i=n.skip?e:n,o=e,c=t.skip?e:t,u=sM(o,i),f=sM(c,o);let _=u/(u+f),w=f/(u+f);_=isNaN(_)?0:_,w=isNaN(w)?0:w;const I=r*_,S=r*w;return{previous:{x:o.x-I*(c.x-i.x),y:o.y-I*(c.y-i.y)},next:{x:o.x+S*(c.x-i.x),y:o.y+S*(c.y-i.y)}}}function mD(n,e,t){return Math.max(Math.min(n,t),e)}function yB(n,e,t,r,i){let o,c,u,f;if(e.spanGaps&&(n=n.filter(_=>!_.skip)),"monotone"===e.cubicInterpolationMode)!function gB(n,e="x"){const t=IR(e),r=n.length,i=Array(r).fill(0),o=Array(r);let c,u,f,_=Ky(n,0);for(c=0;c<r;++c)if(u=f,f=_,_=Ky(n,c+1),f){if(_){const w=_[e]-f[e];i[c]=0!==w?(_[t]-f[t])/w:0}o[c]=u?_?gu(i[c-1])!==gu(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}(function fB(n,e,t){const r=n.length;let i,o,c,u,f,_=Ky(n,0);for(let w=0;w<r-1;++w)if(f=_,_=Ky(n,w+1),f&&_){if(x0(e[w],0,dB)){t[w]=t[w+1]=0;continue}i=t[w]/e[w],o=t[w+1]/e[w],u=Math.pow(i,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),t[w]=i*c*e[w],t[w+1]=o*c*e[w])}})(n,i,o),function pB(n,e,t="x"){const r=IR(t),i=n.length;let o,c,u,f=Ky(n,0);for(let _=0;_<i;++_){if(c=u,u=f,f=Ky(n,_+1),!u)continue;const w=u[t],I=u[r];c&&(o=(w-c[t])/3,u[`cp1${t}`]=w-o,u[`cp1${r}`]=I-o*e[_]),f&&(o=(f[t]-w)/3,u[`cp2${t}`]=w+o,u[`cp2${r}`]=I+o*e[_])}}(n,o,e)}(n,i);else{let _=r?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)u=n[o],f=hB(_,u,n[Math.min(o+1,c-(r?0:1))%c],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,_=u}e.capBezierPoints&&function mB(n,e){let t,r,i,o,c,u=mg(n[0],e);for(t=0,r=n.length;t<r;++t)c=o,o=u,u=t<r-1&&mg(n[t+1],e),o&&(i=n[t],c&&(i.cp1x=mD(i.cp1x,e.left,e.right),i.cp1y=mD(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=mD(i.cp2x,e.left,e.right),i.cp2y=mD(i.cp2y,e.top,e.bottom)))}(n,t)}function DR(){return"undefined"!=typeof window&&"undefined"!=typeof document}function vM(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function yD(n,e,t){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*e.parentNode[t])):r=n,r}const _D=n=>window.getComputedStyle(n,null),vB=["top","right","bottom","left"];function _g(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=vB[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function TR(n,e){const{canvas:t,currentDevicePixelRatio:r}=e,i=_D(t),o="border-box"===i.boxSizing,c=_g(i,"padding"),u=_g(i,"border","width"),{x:f,y:_,box:w}=function wB(n,e){const t=n.native||n,r=t.touches,i=r&&r.length?r[0]:t,{offsetX:o,offsetY:c}=i;let f,_,u=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(o,c,t.target))f=o,_=c;else{const w=e.getBoundingClientRect();f=i.clientX-w.left,_=i.clientY-w.top,u=!0}return{x:f,y:_,box:u}}(n,t),I=c.left+(w&&u.left),S=c.top+(w&&u.top);let{width:N,height:B}=e;return o&&(N-=c.width+u.width,B-=c.height+u.height),{x:Math.round((f-I)/N*t.width/r),y:Math.round((_-S)/B*t.height/r)}}const bM=n=>Math.round(10*n)/10;function xR(n,e,t){const r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=i/r,n.width=o/r;const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||c.height!==i||c.width!==o)&&(n.currentDevicePixelRatio=r,c.height=i,c.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0)}const IB=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return n}();function AR(n,e){const t=function _B(n,e){return _D(n).getPropertyValue(e)}(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vg(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function DB(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:"middle"===r?t<.5?n.y:e.y:"after"===r?t<1?n.y:e.y:t>0?e.y:n.y}}function TB(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},c=vg(n,i,t),u=vg(i,o,t),f=vg(o,e,t),_=vg(c,u,t),w=vg(u,f,t);return vg(_,w,t)}const SR=new Map;function N0(n,e,t){return function xB(n,e){e=e||{};const t=n+JSON.stringify(e);let r=SR.get(t);return r||(r=new Intl.NumberFormat(n,e),SR.set(t,r)),r}(e,t).format(n)}function Zy(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function MR(n,e){let t,r;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function OR(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function PR(n){return"angle"===n?{between:A0,compare:bV,normalize:La}:{between:bd,compare:(e,t)=>e-t,normalize:e=>e}}function RR({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t==0,style:i}}function kR(n,e,t){if(!t)return[n];const{property:r,start:i,end:o}=t,c=e.length,{compare:u,between:f,normalize:_}=PR(r),{start:w,end:I,loop:S,style:N}=function MB(n,e,t){const{property:r,start:i,end:o}=t,{between:c,normalize:u}=PR(r),f=e.length;let S,N,{start:_,end:w,loop:I}=n;if(I){for(_+=f,w+=f,S=0,N=f;S<N&&c(u(e[_%f][r]),i,o);++S)_--,w--;_%=f,w%=f}return w<_&&(w+=f),{start:_,end:w,loop:I,style:n.style}}(n,e,t),B=[];let fe,Re,Je,j=!1,ee=null;for(let Rt=w,Ft=w;Rt<=I;++Rt)Re=e[Rt%c],!Re.skip&&(fe=_(Re[r]),fe!==Je&&(j=f(fe,i,o),null===ee&&(j||f(i,Je,fe)&&0!==u(i,Je))&&(ee=0===u(fe,i)?Rt:Ft),null!==ee&&(!j||0===u(o,fe)||f(o,Je,fe))&&(B.push(RR({start:ee,end:Rt,loop:S,count:c,style:N})),ee=null),Ft=Rt,Je=fe));return null!==ee&&B.push(RR({start:ee,end:I,loop:S,count:c,style:N})),B}function NR(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const o=kR(r[i],n.points,e);o.length&&t.push(...o)}return t}function FR(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function NB(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var Ed=new class LB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const c=t.duration;t.listeners[i].forEach(u=>u({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(r-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=zP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let f,c=o.length-1,u=!1;for(;c>=0;--c)f=o[c],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const VR="transparent",FB={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const r=hR(n||VR),i=r.valid&&hR(e||VR);return i&&i.valid?i.mix(r,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class VB{constructor(e,t,r,i){const o=t[r];i=k0([e.to,i,o,e.from]);const c=k0([e.from,o,i]);this._active=!0,this._fn=e.fn||FB[e.type||typeof c],this._easing=S0[e.easing]||S0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,c=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=k0([e.to,t,i,e.from]),this._from=k0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||t<r),!this._active)return this._target[i]=u,void this._notify(!0);t<0?this._target[i]=o:(f=t/r%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(o,u,f))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}Dn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jB=Object.keys(Dn.animation);Dn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Dn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Dn.describe("animations",{_fallback:"animation"}),Dn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class BR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Mn(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Mn(i))return;const o={};for(const c of jB)o[c]=i[c];(Ir(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!t.has(c))&&t.set(c,o)})})}_animateOptions(e,t){const r=t.options,i=function $B(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&function HB(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const _=c[f];if("$"===_.charAt(0))continue;if("options"===_){i.push(...this._animateOptions(e,t));continue}const w=t[_];let I=o[_];const S=r.get(_);if(I){if(S&&I.active()){I.update(S,w,u);continue}I.cancel()}S&&S.duration?(o[_]=I=new VB(S,e,_,w),i.push(I)):e[_]=w}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(Ed.add(this._chart,r),!0):void 0}}function UR(n,e){const t=n&&n.options||{},r=t.reverse,i=void 0===t.min?e:0,o=void 0===t.max?e:0;return{start:r?o:i,end:r?i:o}}function jR(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function HR(n,e,t,r={}){const i=n.keys,o="single"===r.mode;let c,u,f,_;if(null!==e){for(c=0,u=i.length;c<u;++c){if(f=+i[c],f===t){if(r.all)continue;break}_=n.values[f],Ai(_)&&(o||0===e||gu(e)===gu(_))&&(e+=_)}return e}}function $R(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function ZB(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function zR(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function GR(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:u}=r,f=o.axis,_=c.axis,w=function qB(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(o,c,r),I=e.length;let S;for(let N=0;N<I;++N){const B=e[N],{[f]:j,[_]:ee}=B;S=(B._stacks||(B._stacks={}))[_]=ZB(i,w,j),S[u]=ee,S._top=zR(S,c,!0,r.type),S._bottom=zR(S,c,!1,r.type)}}function wM(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function L0(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||void 0===o[r]||void 0===o[r][t])return;delete o[r][t]}}}const EM=n=>"reset"===n||"none"===n,WR=(n,e)=>e?n:Object.assign({},n);let Cd=(()=>{class n{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$R(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&L0(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(S,N,B,j)=>"x"===S?N:"r"===S?j:B,c=r.xAxisID=cn(i.xAxisID,wM(t,"x")),u=r.yAxisID=cn(i.yAxisID,wM(t,"y")),f=r.rAxisID=cn(i.rAxisID,wM(t,"r")),_=r.indexAxis,w=r.iAxisID=o(_,c,u,f),I=r.vAxisID=o(_,u,c,f);r.xScale=this.getScaleForId(c),r.yScale=this.getScaleForId(u),r.rScale=this.getScaleForId(f),r.iScale=this.getScaleForId(w),r.vScale=this.getScaleForId(I)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mR(this._data,this),t._stacked&&L0(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Mn(r))this._data=function WB(n){const e=Object.keys(n),t=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],t[r]={x:o,y:n[o]};return t}(r);else if(i!==r){if(i){mR(i,this);const o=this._cachedMeta;L0(o),o._parsed=[]}r&&Object.isExtensible(r)&&function tB(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gR.forEach(t=>{const r="_onData"+rM(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=i.apply(this,o);return n._chartjs.listeners.forEach(u=>{"function"==typeof u[r]&&u[r](...o)}),c}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const c=r._stacked;r._stacked=$R(r.vScale,r),r.stack!==i.stack&&(o=!0,L0(r),r.stack=i.stack),this._resyncElements(t),(o||c!==r._stacked)&&GR(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:i,_data:o}=this,{iScale:c,_stacked:u}=i,f=c.axis;let I,S,N,_=0===t&&r===o.length||i._sorted,w=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=o,i._sorted=!0,N=o;else{N=Ir(o[t])?this.parseArrayData(i,o,t,r):Mn(o[t])?this.parseObjectData(i,o,t,r):this.parsePrimitiveData(i,o,t,r);const B=()=>null===S[f]||w&&S[f]<w[f];for(I=0;I<r;++I)i._parsed[I+t]=S=N[I],_&&(B()&&(_=!1),w=S);i._sorted=_}u&&GR(this,N)}parsePrimitiveData(t,r,i,o){const{iScale:c,vScale:u}=t,f=c.axis,_=u.axis,w=c.getLabels(),I=c===u,S=new Array(o);let N,B,j;for(N=0,B=o;N<B;++N)j=N+i,S[N]={[f]:I||c.parse(w[j],j),[_]:u.parse(r[j],j)};return S}parseArrayData(t,r,i,o){const{xScale:c,yScale:u}=t,f=new Array(o);let _,w,I,S;for(_=0,w=o;_<w;++_)I=_+i,S=r[I],f[_]={x:c.parse(S[0],I),y:u.parse(S[1],I)};return f}parseObjectData(t,r,i,o){const{xScale:c,yScale:u}=t,{xAxisKey:f="x",yAxisKey:_="y"}=this._parsing,w=new Array(o);let I,S,N,B;for(I=0,S=o;I<S;++I)N=I+i,B=r[N],w[I]={x:c.parse(fg(B,f),N),y:u.parse(fg(B,_),N)};return w}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){const c=this._cachedMeta,u=r[t.axis];return HR({keys:jR(this.chart,!0),values:r._stacks[t.axis]},u,c.index,{mode:i})}updateRangeFromParsed(t,r,i,o){const c=i[r.axis];let u=null===c?NaN:c;const f=o&&i._stacks[r.axis];o&&f&&(o.values=f,u=HR(o,c,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,r){const i=this._cachedMeta,o=i._parsed,c=i._sorted&&t===i.iScale,u=o.length,f=this._getOtherScale(t),_=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:jR(this.chart,!0),values:null})(r,i),w={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:I,max:S}=function KB(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}(f);let N,B;function j(){B=o[N];const ee=B[f.axis];return!Ai(B[t.axis])||I>ee||S<ee}for(N=0;N<u&&(j()||(this.updateRangeFromParsed(w,t,B,_),!c));++N);if(c)for(N=u-1;N>=0;--N)if(!j()){this.updateRangeFromParsed(w,t,B,_);break}return w}getAllParsedValues(t){const r=this._cachedMeta._parsed,i=[];let o,c,u;for(o=0,c=r.length;o<c;++o)u=r[o][t.axis],Ai(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,i=r.iScale,o=r.vScale,c=this.getParsed(t);return{label:i?""+i.getLabelForValue(c[i.axis]):"",value:o?""+o.getLabelForValue(c[o.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=function GB(n){let e,t,r,i;return Mn(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:!1===n}}(cn(this.options.clip,function zB(n,e,t){if(!1===t)return!1;const r=UR(n,t),i=UR(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,o=i.data||[],c=this.chart.chartArea,u=[],f=this._drawStart||0,_=this._drawCount||o.length-f,w=this.options.drawActiveElementsOnTop;let I;for(i.dataset&&i.dataset.draw(t,c,f,_),I=f;I<f+_;++I){const S=o[I];S.hidden||(S.active&&w?u.push(S):S.draw(t,c))}for(I=0;I<u.length;++I)u[I].draw(t,c)}getStyle(t,r){const i=r?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){const o=this.getDataset();let c;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];c=u.$context||(u.$context=function QB(n,e,t){return Jh(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,u)),c.parsed=this.getParsed(t),c.raw=o.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=function YB(n,e){return Jh(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),c.dataset=o,c.index=c.datasetIndex=this.index;return c.active=!!r,c.mode=i,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){const o="active"===r,c=this._cachedDataOpts,u=t+"-"+r,f=c[u],_=this.enableOptionSharing&&gl(i);if(f)return WR(f,_);const w=this.chart.config,I=w.datasetElementScopeKeys(this._type,t),S=o?[`${t}Hover`,"hover",t,""]:[t,""],N=w.getOptionScopes(this.getDataset(),I),B=Object.keys(Dn.elements[t]),ee=w.resolveNamedOptions(N,B,()=>this.getContext(i,o),S);return ee.$shared&&(ee.$shared=_,c[u]=Object.freeze(WR(ee,_))),ee}_resolveAnimations(t,r,i){const o=this.chart,c=this._cachedDataOpts,u=`animation-${r}`,f=c[u];if(f)return f;let _;if(!1!==o.options.animation){const I=this.chart.config,S=I.datasetAnimationScopeKeys(this._type,r),N=I.getOptionScopes(this.getDataset(),S);_=I.createResolver(N,this.getContext(t,i,r))}const w=new BR(o,_&&_.animations);return _&&_._cacheable&&(c[u]=Object.freeze(w)),w}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||EM(t)||this.chart._animationsDisabled}updateElement(t,r,i,o){EM(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!EM(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;const c=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(c)||c})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,i=this._cachedMeta.data;for(const[f,_,w]of this._syncList)this[f](_,w);this._syncList=[];const o=i.length,c=r.length,u=Math.min(c,o);u&&this.parse(0,u),c>o?this._insertElements(o,c-o,t):c<o&&this._removeElements(c,o-c)}_insertElements(t,r,i=!0){const o=this._cachedMeta,c=o.data,u=t+r;let f;const _=w=>{for(w.length+=r,f=w.length-1;f>=u;f--)w[f]=w[f-r]};for(_(c),f=t;f<u;++f)c[f]=new this.dataElementType;this._parsing&&_(o._parsed),this.parse(t,r),i&&this.updateElements(c,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(t,r);i._stacked&&L0(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function eU(n){const e=n.iScale,t=function JB(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=yR(r.sort((i,o)=>i-o))}return n._cache.$bar}(e,n.type);let i,o,c,u,r=e._length;const f=()=>{32767===c||-32768===c||(gl(u)&&(r=Math.min(r,Math.abs(c-u)||r)),u=c)};for(i=0,o=t.length;i<o;++i)c=e.getPixelForValue(t[i]),f();for(u=void 0,i=0,o=e.ticks.length;i<o;++i)c=e.getPixelForTick(i),f();return r}function qR(n,e,t,r){return Ir(n)?function rU(n,e,t,r){const i=t.parse(n[0],r),o=t.parse(n[1],r),c=Math.min(i,o),u=Math.max(i,o);let f=c,_=u;Math.abs(c)>Math.abs(u)&&(f=u,_=c),e[t.axis]=_,e._custom={barStart:f,barEnd:_,start:i,end:o,min:c,max:u}}(n,e,t,r):e[t.axis]=t.parse(n,r),e}function KR(n,e,t,r){const i=n.iScale,o=n.vScale,c=i.getLabels(),u=i===o,f=[];let _,w,I,S;for(_=t,w=t+r;_<w;++_)S=e[_],I={},I[i.axis]=u||i.parse(c[_],_),f.push(qR(S,I,o,_));return f}function CM(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function oU(n,e,t,r){let i=e.borderSkipped;const o={};if(!i)return void(n.borderSkipped=o);const{start:c,end:u,reverse:f,top:_,bottom:w}=function sU(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}(n);"middle"===i&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=_:(t._bottom||0)===r?i=w:(o[ZR(w,c,u,f)]=!0,i=_)),o[ZR(i,c,u,f)]=!0,n.borderSkipped=o}function ZR(n,e,t,r){return r?(n=function aU(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=YR(n,t,e)):n=YR(n,e,t),n}function YR(n,e,t){return"start"===n?e:"end"===n?t:n}function lU(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}Cd.prototype.datasetElementType=null,Cd.prototype.dataElementType=null;let QR=(()=>{class n extends Cd{parsePrimitiveData(t,r,i,o){return KR(t,r,i,o)}parseArrayData(t,r,i,o){return KR(t,r,i,o)}parseObjectData(t,r,i,o){const{iScale:c,vScale:u}=t,{xAxisKey:f="x",yAxisKey:_="y"}=this._parsing,w="x"===c.axis?f:_,I="x"===u.axis?f:_,S=[];let N,B,j,ee;for(N=i,B=i+o;N<B;++N)ee=r[N],j={},j[c.axis]=c.parse(fg(ee,w),N),S.push(qR(fg(ee,I),j,u,N));return S}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);const c=i._custom;c&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:i,vScale:o}=r,c=this.getParsed(t),u=c._custom,f=CM(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(c[o.axis]);return{label:""+i.getLabelForValue(c[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){const c="reset"===o,{index:u,_cachedMeta:{vScale:f}}=this,_=f.getBasePixel(),w=f.isHorizontal(),I=this._getRuler(),S=this.resolveDataElementOptions(r,o),N=this.getSharedOptions(S),B=this.includeOptions(o,N);this.updateSharedOptions(N,o,S);for(let j=r;j<r+i;j++){const ee=this.getParsed(j),fe=c||Un(ee[f.axis])?{base:_,head:_}:this._calculateBarValuePixels(j),Re=this._calculateBarIndexPixels(j,I),Je=(ee._stacks||{})[f.axis],Ve={horizontal:w,base:fe.base,enableBorderRadius:!Je||CM(ee._custom)||u===Je._top||u===Je._bottom,x:w?fe.head:Re.center,y:w?Re.center:fe.head,height:w?Re.size:Math.abs(fe.size),width:w?Math.abs(fe.size):Re.size};B&&(Ve.options=N||this.resolveDataElementOptions(j,t[j].active?"active":o));const Be=Ve.options||t[j].options;oU(Ve,Be,Je,u),lU(Ve,Be,I.ratio),this.updateElement(t[j],j,Ve,o)}}_getStacks(t,r){const o=this._cachedMeta.iScale,c=o.getMatchingVisibleMetas(this._type),u=o.options.stacked,f=c.length,_=[];let w,I;for(w=0;w<f;++w)if(I=c[w],I.controller.options.grouped){if(void 0!==r){const S=I.controller.getParsed(r)[I.controller._cachedMeta.vScale.axis];if(Un(S)||isNaN(S))continue}if((!1===u||-1===_.indexOf(I.stack)||void 0===u&&void 0===I.stack)&&_.push(I.stack),I.index===t)break}return _.length||_.push(void 0),_}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){const o=this._getStacks(t,i),c=void 0!==r?o.indexOf(r):-1;return-1===c?o.length-1:c}_getRuler(){const t=this.options,r=this._cachedMeta,i=r.iScale,o=[];let c,u;for(c=0,u=r.data.length;c<u;++c)o.push(i.getPixelForValue(this.getParsed(c)[i.axis],c));const f=t.barThickness;return{min:f||eU(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:f?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:i},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(t),_=f._custom,w=CM(_);let B,j,I=f[r.axis],S=0,N=i?this.applyStack(r,f,i):I;N!==I&&(S=N-I,N=I),w&&(I=_.barStart,N=_.barEnd-_.barStart,0!==I&&gu(I)!==gu(_.barEnd)&&(S=0),S+=I);const ee=Un(o)||w?S:o;let fe=r.getPixelForValue(ee);if(B=this.chart.getDataVisibility(t)?r.getPixelForValue(S+N):fe,j=B-fe,Math.abs(j)<c&&(j=function iU(n,e,t){return 0!==n?gu(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(j,r,u)*c,I===u&&(fe-=j/2),B=fe+j),fe===r.getPixelForValue(u)){const Re=gu(j)*r.getLineWidthForValue(u)/2;fe+=Re,j-=Re}return{size:j,base:fe,head:B,center:B+j/2}}_calculateBarIndexPixels(t,r){const i=r.scale,o=this.options,c=o.skipNull,u=cn(o.maxBarThickness,1/0);let f,_;if(r.grouped){const w=c?this._getStackCount(t):r.stackCount,I="flex"===o.barThickness?function nU(n,e,t,r){const i=e.pixels,o=i[n];let c=n>0?i[n-1]:null,u=n<i.length-1?i[n+1]:null;const f=t.categoryPercentage;null===c&&(c=o-(null===u?e.end-e.start:u-o)),null===u&&(u=o+o-c);const _=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/r,ratio:t.barPercentage,start:_}}(t,r,o,w):function tU(n,e,t,r){const i=t.barThickness;let o,c;return Un(i)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=i*r,c=1),{chunk:o/r,ratio:c,start:e.pixels[n]-o/2}}(t,r,o,w),S=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0);f=I.start+I.chunk*S+I.chunk/2,_=Math.min(u,I.chunk*I.ratio)}else f=i.getPixelForValue(this.getParsed(t)[i.axis],t),_=Math.min(u,r.min*r.ratio);return{base:f-_/2,head:f+_/2,center:f,size:_}}draw(){const t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length;let c=0;for(;c<o;++c)null!==this.getParsed(c)[r.axis]&&i[c].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),XR=(()=>{class n extends Cd{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){const c=super.parsePrimitiveData(t,r,i,o);for(let u=0;u<c.length;u++)c[u]._custom=this.resolveDataElementOptions(u+i).radius;return c}parseArrayData(t,r,i,o){const c=super.parseArrayData(t,r,i,o);for(let u=0;u<c.length;u++)c[u]._custom=cn(r[i+u][2],this.resolveDataElementOptions(u+i).radius);return c}parseObjectData(t,r,i,o){const c=super.parseObjectData(t,r,i,o);for(let u=0;u<c.length;u++){const f=r[i+u];c[u]._custom=cn(f&&f.r&&+f.r,this.resolveDataElementOptions(u+i).radius)}return c}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:i,yScale:o}=r,c=this.getParsed(t),u=i.getLabelForValue(c.x),f=o.getLabelForValue(c.y),_=c._custom;return{label:r.label,value:"("+u+", "+f+(_?", "+_:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){const c="reset"===o,{iScale:u,vScale:f}=this._cachedMeta,_=this.resolveDataElementOptions(r,o),w=this.getSharedOptions(_),I=this.includeOptions(o,w),S=u.axis,N=f.axis;for(let B=r;B<r+i;B++){const j=t[B],ee=!c&&this.getParsed(B),fe={},Re=fe[S]=c?u.getPixelForDecimal(.5):u.getPixelForValue(ee[S]),Je=fe[N]=c?f.getBasePixel():f.getPixelForValue(ee[N]);fe.skip=isNaN(Re)||isNaN(Je),I&&(fe.options=this.resolveDataElementOptions(B,j.active?"active":o),c&&(fe.options.radius=0)),this.updateElement(j,B,fe,o)}this.updateSharedOptions(w,o,_)}resolveDataElementOptions(t,r){const i=this.getParsed(t);let o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const c=o.radius;return"active"!==r&&(o.radius=0),o.radius+=cn(i&&i._custom,c),o}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),IM=(()=>{class n extends Cd{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const i=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=i;else{let u,f,c=_=>+i[_];if(Mn(i[t])){const{key:_="value"}=this._parsing;c=w=>+fg(i[w],_)}for(u=t,f=t+r;u<f;++u)o._parsed[u]=c(u)}}_getRotation(){return cc(this.options.rotation-90)}_getCircumference(){return cc(this.options.circumference)}_getRotationExtents(){let t=pr,r=-pr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const o=this.chart.getDatasetMeta(i).controller,c=o._getRotation(),u=o._getCircumference();t=Math.min(t,c),r=Math.max(r,c+u)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:i}=r,o=this._cachedMeta,c=o.data,u=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,f=Math.max((Math.min(i.width,i.height)-u)/2,0),_=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/e)(this.options.cutout,f),1),w=this._getRingWeight(this.index),{circumference:I,rotation:S}=this._getRotationExtents(),{ratioX:N,ratioY:B,offsetX:j,offsetY:ee}=function cU(n,e,t){let r=1,i=1,o=0,c=0;if(e<pr){const u=n,f=u+e,_=Math.cos(u),w=Math.sin(u),I=Math.cos(f),S=Math.sin(f),N=(Je,Ve,Be)=>A0(Je,u,f,!0)?1:Math.max(Ve,Ve*t,Be,Be*t),B=(Je,Ve,Be)=>A0(Je,u,f,!0)?-1:Math.min(Ve,Ve*t,Be,Be*t),j=N(0,_,I),ee=N(di,w,S),fe=B(Gr,_,I),Re=B(Gr+di,w,S);r=(j-fe)/2,i=(ee-Re)/2,o=-(j+fe)/2,c=-(ee+Re)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:c}}(S,I,_),Je=Math.max(Math.min((i.width-u)/N,(i.height-u)/B)/2,0),Ve=WP(this.options.radius,Je),lt=(Ve-Math.max(Ve*_,0))/this._getVisibleDatasetWeightTotal();this.offsetX=j*Ve,this.offsetY=ee*Ve,o.total=this.calculateTotal(),this.outerRadius=Ve-lt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-lt*w,0),this.updateElements(c,0,c.length,t)}_circumference(t,r){const i=this.options,o=this._cachedMeta,c=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*c/pr)}updateElements(t,r,i,o){const c="reset"===o,u=this.chart,f=u.chartArea,I=(f.left+f.right)/2,S=(f.top+f.bottom)/2,N=c&&u.options.animation.animateScale,B=N?0:this.innerRadius,j=N?0:this.outerRadius,ee=this.resolveDataElementOptions(r,o),fe=this.getSharedOptions(ee),Re=this.includeOptions(o,fe);let Ve,Je=this._getRotation();for(Ve=0;Ve<r;++Ve)Je+=this._circumference(Ve,c);for(Ve=r;Ve<r+i;++Ve){const Be=this._circumference(Ve,c),lt=t[Ve],pt={x:I+this.offsetX,y:S+this.offsetY,startAngle:Je,endAngle:Je+Be,circumference:Be,outerRadius:j,innerRadius:B};Re&&(pt.options=fe||this.resolveDataElementOptions(Ve,lt.active?"active":o)),Je+=Be,this.updateElement(lt,Ve,pt,o)}this.updateSharedOptions(fe,o,ee)}calculateTotal(){const t=this._cachedMeta,r=t.data;let o,i=0;for(o=0;o<r.length;o++){const c=t._parsed[o];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(c))}return i}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?pr*(Math.abs(t)/r):0}getLabelAndValue(t){const i=this.chart,o=i.data.labels||[],c=N0(this._cachedMeta._parsed[t],i.options.locale);return{label:o[t]||"",value:c}}getMaxBorderWidth(t){let r=0;const i=this.chart;let o,c,u,f,_;if(!t)for(o=0,c=i.data.datasets.length;o<c;++o)if(i.isDatasetVisible(o)){u=i.getDatasetMeta(o),t=u.data,f=u.controller;break}if(!t)return 0;for(o=0,c=t.length;o<c;++o)_=f.resolveDataElementOptions(o),"inner"!==_.borderAlign&&(r=Math.max(r,_.borderWidth||0,_.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){const c=this.resolveDataElementOptions(i);r=Math.max(r,c.offset||0,c.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(cn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const r=": "+e.formattedValue;return Ir(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}},n})(),DM=(()=>{class n extends Cd{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:i,data:o=[],_dataset:c}=r,u=this.chart._animationsDisabled;let{start:f,count:_}=function uU(n,e,t){const r=e.length;let i=0,o=r;if(n._sorted){const{iScale:c,_parsed:u}=n,f=c.axis,{min:_,max:w,minDefined:I,maxDefined:S}=c.getUserBounds();I&&(i=Ds(Math.min(wd(u,c.axis,_).lo,t?r:wd(e,f,c.getPixelForValue(_)).lo),0,r-1)),o=S?Ds(Math.max(wd(u,c.axis,w).hi+1,t?0:wd(e,f,c.getPixelForValue(w)).hi+1),i,r)-i:r-i}return{start:i,count:o}}(r,o,u);this._drawStart=f,this._drawCount=_,function dU(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}(r)&&(f=0,_=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!c._decimated,i.points=o;const w=this.resolveDatasetElementOptions(t);this.options.showLine||(w.borderWidth=0),w.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:w},t),this.updateElements(o,f,_,t)}updateElements(t,r,i,o){const c="reset"===o,{iScale:u,vScale:f,_stacked:_,_dataset:w}=this._cachedMeta,I=this.resolveDataElementOptions(r,o),S=this.getSharedOptions(I),N=this.includeOptions(o,S),B=u.axis,j=f.axis,{spanGaps:ee,segment:fe}=this.options,Re=T0(ee)?ee:Number.POSITIVE_INFINITY,Je=this.chart._animationsDisabled||c||"none"===o;let Ve=r>0&&this.getParsed(r-1);for(let Be=r;Be<r+i;++Be){const lt=t[Be],pt=this.getParsed(Be),Rt=Je?lt:{},Ft=Un(pt[j]),Jn=Rt[B]=u.getPixelForValue(pt[B],Be),Rn=Rt[j]=c||Ft?f.getBasePixel():f.getPixelForValue(_?this.applyStack(f,pt,_):pt[j],Be);Rt.skip=isNaN(Jn)||isNaN(Rn)||Ft,Rt.stop=Be>0&&pt[B]-Ve[B]>Re,fe&&(Rt.parsed=pt,Rt.raw=w.data[Be]),N&&(Rt.options=S||this.resolveDataElementOptions(Be,lt.active?"active":o)),Je||this.updateElement(lt,Be,Rt,o),Ve=pt}this.updateSharedOptions(S,o,I)}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;const c=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,c,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),JR=(()=>{class n extends Cd{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,o=i.data.labels||[],c=N0(this._cachedMeta._parsed[t].r,i.options.locale);return{label:o[t]||"",value:c}}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}_updateRadius(){const t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),c=Math.max(o/2,0),f=(c-Math.max(i.cutoutPercentage?c/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=c-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(t,r,i,o){const c="reset"===o,u=this.chart,f=this.getDataset(),w=u.options.animation,I=this._cachedMeta.rScale,S=I.xCenter,N=I.yCenter,B=I.getIndexAngle(0)-.5*Gr;let ee,j=B;const fe=360/this.countVisibleElements();for(ee=0;ee<r;++ee)j+=this._computeAngle(ee,o,fe);for(ee=r;ee<r+i;ee++){const Re=t[ee];let Je=j,Ve=j+this._computeAngle(ee,o,fe),Be=u.getDataVisibility(ee)?I.getDistanceFromCenterForValue(f.data[ee]):0;j=Ve,c&&(w.animateScale&&(Be=0),w.animateRotate&&(Je=Ve=B));const lt={x:S,y:N,innerRadius:0,outerRadius:Be,startAngle:Je,endAngle:Ve,options:this.resolveDataElementOptions(ee,Re.active?"active":o)};this.updateElement(Re,ee,lt,o)}}countVisibleElements(){const t=this.getDataset();let i=0;return this._cachedMeta.data.forEach((o,c)=>{!isNaN(t.data[c])&&this.chart.getDataVisibility(c)&&i++}),i}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?cc(this.resolveDataElementOptions(t,r).angle||i):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),ek=(()=>{class n extends IM{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),tk=(()=>{class n extends Cd{getLabelAndValue(t){const r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}update(t){const r=this._cachedMeta,i=r.dataset,o=r.data||[],c=r.iScale.getLabels();if(i.points=o,"resize"!==t){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:c.length===o.length,options:u},t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){const c=this.getDataset(),u=this._cachedMeta.rScale,f="reset"===o;for(let _=r;_<r+i;_++){const w=t[_],I=this.resolveDataElementOptions(_,w.active?"active":o),S=u.getPointPositionForValue(_,c.data[_]),N=f?u.xCenter:S.x,B=f?u.yCenter:S.y,j={x:N,y:B,angle:S.angle,skip:isNaN(N)||isNaN(B),options:I};this.updateElement(w,_,j,o)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),nk=(()=>{class n extends DM{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})();function bg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var fU={_date:(()=>{class n{constructor(t){this.options=t||{}}formats(){return bg()}parse(t,r){return bg()}format(t,r){return bg()}add(t,r,i){return bg()}diff(t,r,i){return bg()}startOf(t,r,i){return bg()}endOf(t,r){return bg()}}return n.override=function(e){Object.assign(n.prototype,e)},n})()};function F0(n,e){return"native"in n?{x:n.x,y:n.y}:TR(n,e)}function gU(n,e,t,r){const{controller:i,data:o,_sorted:c}=n,u=i._cachedMeta.iScale;if(u&&e===u.axis&&"r"!==e&&c&&o.length){const f=u._reversePixels?JV:wd;if(!r)return f(o,e,t);if(i._sharedOptions){const _=o[0],w="function"==typeof _.getRange&&_.getRange(e);if(w){const I=f(o,e,t-w),S=f(o,e,t+w);return{lo:I.lo,hi:S.hi}}}}return{lo:0,hi:o.length-1}}function TM(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let u=0,f=o.length;u<f;++u){const{index:_,data:w}=o[u],{lo:I,hi:S}=gU(o[u],e,c,i);for(let N=I;N<=S;++N){const B=w[N];B.skip||r(B,_,N)}}}function xM(n,e,t,r){const i=[];return mg(e,n.chartArea,n._minPadding)&&TM(n,t,e,function(c,u,f){c.inRange(e.x,e.y,r)&&i.push({element:c,datasetIndex:u,index:f})},!0),i}function AM(n,e,t,r,i){return mg(e,n.chartArea,n._minPadding)?"r"!==t||r?function _U(n,e,t,r,i){let o=[];const c=function mU(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(r,i){const o=e?Math.abs(r.x-i.x):0,c=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}(t);let u=Number.POSITIVE_INFINITY;return TM(n,t,e,function f(_,w,I){const S=_.inRange(e.x,e.y,i);if(r&&!S)return;const N=_.getCenterPoint(i);if(!mg(N,n.chartArea,n._minPadding)&&!S)return;const j=c(e,N);j<u?(o=[{element:_,datasetIndex:w,index:I}],u=j):j===u&&o.push({element:_,datasetIndex:w,index:I})}),o}(n,e,t,r,i):function yU(n,e,t,r){let i=[];return TM(n,t,e,function o(c,u,f){const{startAngle:_,endAngle:w}=c.getProps(["startAngle","endAngle"],r),{angle:I}=eR(c,{x:e.x,y:e.y});A0(I,_,w)&&i.push({element:c,datasetIndex:u,index:f})}),i}(n,e,t,i):[]}function rk(n,e,t,r){const i=F0(e,n),o=[],c=t.axis,u="x"===c?"inXRange":"inYRange";let f=!1;return function pU(n,e){const t=n.getSortedVisibleDatasetMetas();let r,i,o;for(let c=0,u=t.length;c<u;++c){({index:r,data:i}=t[c]);for(let f=0,_=i.length;f<_;++f)o=i[f],o.skip||e(o,r,f)}}(n,(_,w,I)=>{_[u](i[c],r)&&o.push({element:_,datasetIndex:w,index:I}),_.inRange(i.x,i.y,r)&&(f=!0)}),t.intersect&&!f?[]:o}var vU={modes:{index(n,e,t,r){const i=F0(e,n),o=t.axis||"x",c=t.intersect?xM(n,i,o,r):AM(n,i,o,!1,r),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const _=c[0].index,w=f.data[_];w&&!w.skip&&u.push({element:w,datasetIndex:f.index,index:_})}),u):[]},dataset(n,e,t,r){const i=F0(e,n),o=t.axis||"xy";let c=t.intersect?xM(n,i,o,r):AM(n,i,o,!1,r);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let _=0;_<f.length;++_)c.push({element:f[_],datasetIndex:u,index:_})}return c},point:(n,e,t,r)=>xM(n,F0(e,n),t.axis||"xy",r),nearest:(n,e,t,r)=>AM(n,F0(e,n),t.axis||"xy",t.intersect,r),x:(n,e,t,r)=>rk(n,e,{axis:"x",intersect:t.intersect},r),y:(n,e,t,r)=>rk(n,e,{axis:"y",intersect:t.intersect},r)}};const ik=["left","top","right","bottom"];function V0(n,e){return n.filter(t=>t.pos===e)}function sk(n,e){return n.filter(t=>-1===ik.indexOf(t.pos)&&t.box.axis===e)}function B0(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function ok(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function ak(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function IU(n,e,t,r){const{pos:i,box:o}=t,c=n.maxPadding;if(!Mn(i)){t.size&&(n[i]-=t.size);const I=r[t.stack]||{size:0,count:1};I.size=Math.max(I.size,t.horizontal?o.height:o.width),t.size=I.size/I.count,n[i]+=t.size}o.getPadding&&ak(c,o.getPadding());const u=Math.max(0,e.outerWidth-ok(c,n,"left","right")),f=Math.max(0,e.outerHeight-ok(c,n,"top","bottom")),_=u!==n.w,w=f!==n.h;return n.w=u,n.h=f,t.horizontal?{same:_,other:w}:{same:w,other:_}}function TU(n,e){const t=e.maxPadding;return function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}(n?["left","right"]:["top","bottom"])}function U0(n,e,t,r){const i=[];let o,c,u,f,_,w;for(o=0,c=n.length,_=0;o<c;++o){u=n[o],f=u.box,f.update(u.width||e.w,u.height||e.h,TU(u.horizontal,e));const{same:I,other:S}=IU(e,t,u,r);_|=I&&i.length,w=w||S,f.fullSize||i.push(u)}return _&&U0(i,e,t,r)||w}function vD(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function lk(n,e,t,r){const i=t.padding;let{x:o,y:c}=e;for(const u of n){const f=u.box,_=r[u.stack]||{count:1,placed:0,weight:1},w=u.stackWeight/_.weight||1;if(u.horizontal){const I=e.w*w,S=_.size||f.height;gl(_.start)&&(c=_.start),f.fullSize?vD(f,i.left,c,t.outerWidth-i.right-i.left,S):vD(f,e.left+_.placed,c,I,S),_.start=c,_.placed+=I,c=f.bottom}else{const I=e.h*w,S=_.size||f.width;gl(_.start)&&(o=_.start),f.fullSize?vD(f,o,i.top,S,t.outerHeight-i.bottom-i.top):vD(f,o,e.top+_.placed,S,I),_.start=o,_.placed+=I,o=f.right}}e.x=o,e.y=c}Dn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var so={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=io(n.options.layout.padding),o=Math.max(e-i.width,0),c=Math.max(t-i.height,0),u=function CU(n){const e=function bU(n){const e=[];let t,r,i,o,c,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],({position:o,options:{stack:c,stackWeight:u=1}}=i),e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&o+c,stackWeight:u});return e}(n),t=B0(e.filter(_=>_.box.fullSize),!0),r=B0(V0(e,"left"),!0),i=B0(V0(e,"right")),o=B0(V0(e,"top"),!0),c=B0(V0(e,"bottom")),u=sk(e,"x"),f=sk(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(f).concat(c).concat(u),chartArea:V0(e,"chartArea"),vertical:r.concat(i).concat(f),horizontal:o.concat(c).concat(u)}}(n.boxes),f=u.vertical,_=u.horizontal;Xn(n.boxes,j=>{"function"==typeof j.beforeLayout&&j.beforeLayout()});const w=f.reduce((j,ee)=>ee.box.options&&!1===ee.box.options.display?j:j+1,0)||1,I=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/w,hBoxMaxHeight:c/2}),S=Object.assign({},i);ak(S,io(r));const N=Object.assign({maxPadding:S,w:o,h:c,x:i.left,y:i.top},i),B=function EU(n,e){const t=function wU(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!ik.includes(i))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:f}=u.box,_=t[u.stack],w=_&&u.stackWeight/_.weight;u.horizontal?(u.width=w?w*r:f&&e.availableWidth,u.height=i):(u.width=r,u.height=w?w*i:f&&e.availableHeight)}return t}(f.concat(_),I);U0(u.fullSize,N,I,B),U0(f,N,I,B),U0(_,N,I,B)&&U0(f,N,I,B),function DU(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(N),lk(u.leftAndTop,N,I,B),N.x+=N.w,N.y+=N.h,lk(u.rightAndBottom,N,I,B),n.chartArea={left:N.left,top:N.top,right:N.left+N.w,bottom:N.top+N.h,height:N.h,width:N.w},Xn(u.chartArea,j=>{const ee=j.box;Object.assign(ee,n.chartArea),ee.update(N.w,N.h,{left:0,top:0,right:0,bottom:0})})}};class ck{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class xU extends ck{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bD="$chartjs",AU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uk=n=>null===n||""===n,dk=!!IB&&{passive:!0};function OU(n,e,t){n.canvas.removeEventListener(e,t,dk)}function wD(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function RU(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||wD(u.addedNodes,r),c=c&&!wD(u.removedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function kU(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||wD(u.removedNodes,r),c=c&&!wD(u.addedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const j0=new Map;let hk=0;function fk(){const n=window.devicePixelRatio;n!==hk&&(hk=n,j0.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function FU(n,e,t){const r=n.canvas,i=r&&vM(r);if(!i)return;const o=GP((u,f)=>{const _=i.clientWidth;t(u,f),_<i.clientWidth&&t()},window),c=new ResizeObserver(u=>{const f=u[0],_=f.contentRect.width,w=f.contentRect.height;0===_&&0===w||o(_,w)});return c.observe(i),function NU(n,e){j0.size||window.addEventListener("resize",fk),j0.set(n,e)}(n,o),c}function SM(n,e,t){t&&t.disconnect(),"resize"===e&&function LU(n){j0.delete(n),j0.size||window.removeEventListener("resize",fk)}(n)}function VU(n,e,t){const r=n.canvas,i=GP(o=>{null!==n.ctx&&t(function PU(n,e){const t=AU[n.type]||n.type,{x:r,y:i}=TR(n,e);return{type:t,chart:e,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(o,n))},n,o=>{const c=o[0];return[c,c.offsetX,c.offsetY]});return function MU(n,e,t){n.addEventListener(e,t,dk)}(r,e,i),i}class BU extends ck{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function SU(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[bD]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",uk(i)){const o=AR(n,"width");void 0!==o&&(n.width=o)}if(uk(r))if(""===n.style.height)n.height=n.width/(e||2);else{const o=AR(n,"height");void 0!==o&&(n.height=o)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[bD])return!1;const r=t[bD].initial;["height","width"].forEach(o=>{const c=r[o];Un(c)?t.removeAttribute(o):t.setAttribute(o,c)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[bD],!0}addEventListener(e,t,r){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:RU,detach:kU,resize:FU}[t]||VU)(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];i&&(({attach:SM,detach:SM,resize:SM}[t]||OU)(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function CB(n,e,t,r){const i=_D(n),o=_g(i,"margin"),c=yD(i.maxWidth,n,"clientWidth")||iD,u=yD(i.maxHeight,n,"clientHeight")||iD,f=function EB(n,e,t){let r,i;if(void 0===e||void 0===t){const o=vM(n);if(o){const c=o.getBoundingClientRect(),u=_D(o),f=_g(u,"border","width"),_=_g(u,"padding");e=c.width-_.width-f.width,t=c.height-_.height-f.height,r=yD(u.maxWidth,o,"clientWidth"),i=yD(u.maxHeight,o,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:r||iD,maxHeight:i||iD}}(n,e,t);let{width:_,height:w}=f;if("content-box"===i.boxSizing){const I=_g(i,"border","width"),S=_g(i,"padding");_-=S.width+I.width,w-=S.height+I.height}return _=Math.max(0,_-o.width),w=Math.max(0,r?Math.floor(_/r):w-o.height),_=bM(Math.min(_,c,f.maxWidth)),w=bM(Math.min(w,u,f.maxHeight)),_&&!w&&(w=bM(_/2)),{width:_,height:w}}(e,t,r,i)}isAttached(e){const t=vM(e);return!(!t||!t.isConnected)}}class uc{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return T0(this.x)&&T0(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}uc.defaults={},uc.defaultRoutes=void 0;const pk={values:n=>Ir(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const r=this.chart.options.locale;let i,o=n;if(t.length>1){const _=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(_<1e-4||_>1e15)&&(i="scientific"),o=function jU(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const c=ml(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),N0(n,r,f)},logarithmic(n,e,t){if(0===n)return"0";const r=n/Math.pow(10,Math.floor(ml(n)));return 1===r||2===r||5===r?pk.numeric.call(this,n,e,t):""}};var ED={formatters:pk};function CD(n,e,t,r,i){const o=cn(r,0),c=Math.min(cn(i,n.length),n.length);let f,_,w,u=0;for(t=Math.ceil(t),i&&(f=i-r,t=f/Math.floor(f/t)),w=o;w<0;)u++,w=Math.round(o+u*t);for(_=Math.max(o,0);_<c;_++)_===w&&(e.push(n[_]),u++,w=Math.round(o+u*t))}Dn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ED.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Dn.route("scale.ticks","color","","color"),Dn.route("scale.grid","color","","borderColor"),Dn.route("scale.grid","borderColor","","borderColor"),Dn.route("scale.title","color","","color"),Dn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Dn.describe("scales",{_fallback:"scale"}),Dn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const gk=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t;function mk(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function ZU(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,c=n._endPixel,u=1e-6;let _,f=n.getPixelForTick(i);if(!(t&&(_=1===r?Math.max(f-o,c-f):0===e?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(i-1))/2,f+=i<e?_:-_,f<o-u||f>c+u)))return f}function H0(n){return n.drawTicks?n.tickLength:0}function yk(n,e){if(!n.display)return 0;const t=rs(n.font,e),r=io(n.padding);return(Ir(n.text)?n.text.length:1)*t.lineHeight+r.height}function JU(n,e,t){let r=nM(n);return(t&&"right"!==e||!t&&"right"===e)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class wg extends uc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=pl(e,Number.POSITIVE_INFINITY),t=pl(t,Number.NEGATIVE_INFINITY),r=pl(r,Number.POSITIVE_INFINITY),i=pl(i,Number.NEGATIVE_INFINITY),{min:pl(e,r),max:pl(t,i),minDefined:Ai(e),maxDefined:Ai(t)}}getMinMax(e){let c,{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let f=0,_=u.length;f<_;++f)c=u[f].controller.getMinMax(this,e),i||(t=Math.min(t,c.min)),o||(r=Math.max(r,c.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:pl(t,pl(r,t)),max:pl(r,pl(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dr(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function XV(n,e,t){const{min:r,max:i}=n,o=WP(e,(i-r)/2),c=(u,f)=>t&&0===u?0:u+f;return{min:c(r,-Math.abs(o)),max:c(i,o)}}(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?mk(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||"auto"===c.source)&&(this.ticks=function HU(n,e){const t=n.options.ticks,r=t.maxTicksLimit||function $U(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),i=t.major.enabled?function GU(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}(e):[],o=i.length,c=i[0],u=i[o-1],f=[];if(o>r)return function WU(n,e,t,r){let c,i=0,o=t[0];for(r=Math.ceil(r),c=0;c<n.length;c++)c===o&&(e.push(n[c]),i++,o=t[i*r])}(e,f,i,o/r),f;const _=function zU(n,e,t){const r=function qU(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}(n),i=e.length/t;if(!r)return Math.max(i,1);const o=function _V(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r==0&&(e.push(r),e.push(n/r));return t===(0|t)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}(r);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>i)return f}return Math.max(i,1)}(i,e,r);if(o>0){let w,I;const S=o>1?Math.round((u-c)/(o-1)):null;for(CD(e,f,_,Un(S)?0:c-S,c),w=0,I=o-1;w<I;w++)CD(e,f,_,i[w],i[w+1]);return CD(e,f,_,u,Un(S)?e.length:u+S),f}return CD(e,f,_),f}(this,this.ticks),this._labelSizes=null),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,e=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dr(this.options.afterUpdate,[this])}beforeSetDimensions(){Dr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Dr(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Dr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=this.ticks.length,i=t.minRotation||0,o=t.maxRotation;let u,f,_,c=i;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const w=this._getLabelSizes(),I=w.widest.width,S=w.highest.height,N=Ds(this.chart.width-I,0,this.maxWidth);u=e.offset?this.maxWidth/r:N/(r-1),I+6>u&&(u=N/(r-(e.offset?.5:1)),f=this.maxHeight-H0(e.grid)-t.padding-yk(e.title,this.chart.options.font),_=Math.sqrt(I*I+S*S),c=iM(Math.min(Math.asin(Ds((w.highest.height+6)/u,-1,1)),Math.asin(Ds(f/_,-1,1))-Math.asin(Ds(S/_,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Dr(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Dr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=yk(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=H0(o)+f):(e.height=this.maxHeight,e.width=H0(o)+f),r.display&&this.ticks.length){const{first:_,last:w,widest:I,highest:S}=this._getLabelSizes(),N=2*r.padding,B=cc(this.labelRotation),j=Math.cos(B),ee=Math.sin(B);u?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:ee*I.width+j*S.height)+N):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:j*I.width+ee*S.height)+N),this._calculatePadding(_,w,ee,j)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:c},position:u}=this.options,f=0!==this.labelRotation,_="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,I=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,N=0;f?_?(S=i*e.width,N=r*t.height):(S=r*e.height,N=i*t.width):"start"===o?N=t.width:"end"===o?S=e.width:(S=e.width/2,N=t.width/2),this.paddingLeft=Math.max((S-w+c)*this.width/(this.width-w),0),this.paddingRight=Math.max((N-I+c)*this.width/(this.width-I),0)}else{let w=t.height/2,I=e.height/2;"start"===o?(w=0,I=e.height):"end"===o&&(w=t.height,I=0),this.paddingTop=w+c,this.paddingBottom=I+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Un(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=mk(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:i}=this,o=[],c=[];let _,w,I,S,N,B,j,ee,fe,Re,Je,u=0,f=0;for(_=0;_<t;++_){if(S=e[_].label,N=this._resolveTickFontOptions(_),r.font=B=N.string,j=i[B]=i[B]||{data:{},gc:[]},ee=N.lineHeight,fe=Re=0,Un(S)||Ir(S)){if(Ir(S))for(w=0,I=S.length;w<I;++w)Je=S[w],!Un(Je)&&!Ir(Je)&&(fe=dD(r,j.data,j.gc,fe,Je),Re+=ee)}else fe=dD(r,j.data,j.gc,fe,S),Re=ee;o.push(fe),c.push(Re),u=Math.max(fe,u),f=Math.max(Re,f)}!function YU(n,e){Xn(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}(i,t);const Ve=o.indexOf(u),Be=c.indexOf(f),lt=pt=>({width:o[pt]||0,height:c[pt]||0});return{first:lt(0),last:lt(t-1),widest:lt(Ve),highest:lt(Be),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function wV(n){return Ds(n,-32768,32767)}(this._alignToPixels?gg(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function XU(n,e,t){return Jh(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function QU(n,e){return Jh(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=cc(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*r>u*i?u/r:f/i:f*i<u*r?f/r:u/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:c}=i,u=o.offset,f=this.isHorizontal(),w=this.ticks.length+(u?1:0),I=H0(o),S=[],N=o.setContext(this.getContext()),B=N.drawBorder?N.borderWidth:0,j=B/2,ee=function(Cn){return gg(r,Cn,B)};let fe,Re,Je,Ve,Be,lt,pt,Rt,Ft,Jn,Rn,kn;if("top"===c)fe=ee(this.bottom),lt=this.bottom-I,Rt=fe-j,Jn=ee(e.top)+j,kn=e.bottom;else if("bottom"===c)fe=ee(this.top),Jn=e.top,kn=ee(e.bottom)-j,lt=fe+j,Rt=this.top+I;else if("left"===c)fe=ee(this.right),Be=this.right-I,pt=fe-j,Ft=ee(e.left)+j,Rn=e.right;else if("right"===c)fe=ee(this.left),Ft=e.left,Rn=ee(e.right)-j,Be=fe+j,pt=this.left+I;else if("x"===t){if("center"===c)fe=ee((e.top+e.bottom)/2+.5);else if(Mn(c)){const Cn=Object.keys(c)[0];fe=ee(this.chart.scales[Cn].getPixelForValue(c[Cn]))}Jn=e.top,kn=e.bottom,lt=fe+j,Rt=lt+I}else if("y"===t){if("center"===c)fe=ee((e.left+e.right)/2);else if(Mn(c)){const Cn=Object.keys(c)[0];fe=ee(this.chart.scales[Cn].getPixelForValue(c[Cn]))}Be=fe-j,pt=Be-I,Ft=e.left,Rn=e.right}const Gi=cn(i.ticks.maxTicksLimit,w),No=Math.max(1,Math.ceil(w/Gi));for(Re=0;Re<w;Re+=No){const Cn=o.setContext(this.getContext(Re)),gr=Cn.lineWidth,ew=Cn.color,Cg=o.borderDash||[],tw=Cn.borderDashOffset,jD=Cn.tickWidth,r_=Cn.tickColor,nw=Cn.tickBorderDash||[],rw=Cn.tickBorderDashOffset;Je=ZU(this,Re,u),void 0!==Je&&(Ve=gg(r,Je,gr),f?Be=pt=Ft=Rn=Ve:lt=Rt=Jn=kn=Ve,S.push({tx1:Be,ty1:lt,tx2:pt,ty2:Rt,x1:Ft,y1:Jn,x2:Rn,y2:kn,width:gr,color:ew,borderDash:Cg,borderDashOffset:tw,tickWidth:jD,tickColor:r_,tickBorderDash:nw,tickBorderDashOffset:rw}))}return this._ticksLength=w,this._borderValue=fe,S}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:_,padding:w,mirror:I}=o,S=H0(r.grid),N=S+w,B=I?-w:N,j=-cc(this.labelRotation),ee=[];let fe,Re,Je,Ve,Be,lt,pt,Rt,Ft,Jn,Rn,kn,Gi="middle";if("top"===i)lt=this.bottom-B,pt=this._getXAxisLabelAlignment();else if("bottom"===i)lt=this.top+B,pt=this._getXAxisLabelAlignment();else if("left"===i){const Cn=this._getYAxisLabelAlignment(S);pt=Cn.textAlign,Be=Cn.x}else if("right"===i){const Cn=this._getYAxisLabelAlignment(S);pt=Cn.textAlign,Be=Cn.x}else if("x"===t){if("center"===i)lt=(e.top+e.bottom)/2+N;else if(Mn(i)){const Cn=Object.keys(i)[0];lt=this.chart.scales[Cn].getPixelForValue(i[Cn])+N}pt=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)Be=(e.left+e.right)/2-N;else if(Mn(i)){const Cn=Object.keys(i)[0];Be=this.chart.scales[Cn].getPixelForValue(i[Cn])}pt=this._getYAxisLabelAlignment(S).textAlign}"y"===t&&("start"===f?Gi="top":"end"===f&&(Gi="bottom"));const No=this._getLabelSizes();for(fe=0,Re=u.length;fe<Re;++fe){Je=u[fe],Ve=Je.label;const Cn=o.setContext(this.getContext(fe));Rt=this.getPixelForTick(fe)+o.labelOffset,Ft=this._resolveTickFontOptions(fe),Jn=Ft.lineHeight,Rn=Ir(Ve)?Ve.length:1;const gr=Rn/2,ew=Cn.color,Cg=Cn.textStrokeColor,tw=Cn.textStrokeWidth;let jD;if(c?(Be=Rt,kn="top"===i?"near"===_||0!==j?-Rn*Jn+Jn/2:"center"===_?-No.highest.height/2-gr*Jn+Jn:Jn/2-No.highest.height:"near"===_||0!==j?Jn/2:"center"===_?No.highest.height/2-gr*Jn:No.highest.height-Rn*Jn,I&&(kn*=-1)):(lt=Rt,kn=(1-Rn)*Jn/2),Cn.showLabelBackdrop){const r_=io(Cn.backdropPadding),nw=No.heights[fe],rw=No.widths[fe];let eO=lt+kn-r_.top,tO=Be-r_.left;switch(Gi){case"middle":eO-=nw/2;break;case"bottom":eO-=nw}switch(pt){case"center":tO-=rw/2;break;case"right":tO-=rw}jD={left:tO,top:eO,width:rw+r_.width,height:nw+r_.height,color:Cn.backdropColor}}ee.push({rotation:j,label:Ve,font:Ft,color:ew,strokeColor:Cg,strokeWidth:tw,textOffset:kn,textAlign:pt,textBaseline:Gi,translation:[Be,lt],backdrop:jD})}return ee}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-cc(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align&&(i="right"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,u=e+o,f=this._getLabelSizes().widest.width;let _,w;return"left"===t?i?(w=this.right+o,"near"===r?_="left":"center"===r?(_="center",w+=f/2):(_="right",w+=f)):(w=this.right-u,"near"===r?_="right":"center"===r?(_="center",w-=f/2):(_="left",w=this.left)):"right"===t?i?(w=this.left+o,"near"===r?_="right":"center"===r?(_="center",w-=f/2):(_="left",w-=f)):(w=this.left+u,"near"===r?_="left":"center"===r?(_="center",w+=f/2):(_="right",w=this.right)):_="right",{textAlign:_,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,_,w)=>{!w.width||!w.color||(r.save(),r.lineWidth=w.width,r.strokeStyle=w.color,r.setLineDash(w.borderDash||[]),r.lineDashOffset=w.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(_.x,_.y),r.stroke(),r.restore())};if(t.display)for(o=0,c=i.length;o<c;++o){const f=i[o];t.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:r}}=this,i=r.setContext(this.getContext()),o=r.drawBorder?i.borderWidth:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,_,w,I;this.isHorizontal()?(f=gg(e,this.left,o)-o/2,_=gg(e,this.right,c)+c/2,w=I=u):(w=gg(e,this.top,o)-o/2,I=gg(e,this.bottom,c)+c/2,f=_=u),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(f,w),t.lineTo(_,I),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&fD(r,i);const o=this._labelItems||(this._labelItems=this._computeLabelItems(e));let c,u;for(c=0,u=o.length;c<u;++c){const f=o[c],_=f.font,w=f.label;f.backdrop&&(r.fillStyle=f.backdrop.color,r.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height)),yg(r,w,0,f.textOffset,_,f)}i&&pD(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=rs(r.font),c=io(r.padding),u=r.align;let f=o.lineHeight/2;"bottom"===t||"center"===t||Mn(t)?(f+=c.bottom,Ir(r.text)&&(f+=o.lineHeight*(r.text.length-1))):f+=c.top;const{titleX:_,titleY:w,maxWidth:I,rotation:S}=function ej(n,e,t,r){const{top:i,left:o,bottom:c,right:u,chart:f}=n,{chartArea:_,scales:w}=f;let S,N,B,I=0;const j=c-i,ee=u-o;if(n.isHorizontal()){if(N=ro(r,o,u),Mn(t)){const fe=Object.keys(t)[0];B=w[fe].getPixelForValue(t[fe])+j-e}else B="center"===t?(_.bottom+_.top)/2+j-e:gk(n,t,e);S=u-o}else{if(Mn(t)){const fe=Object.keys(t)[0];N=w[fe].getPixelForValue(t[fe])-ee+e}else N="center"===t?(_.left+_.right)/2-ee+e:gk(n,t,e);B=ro(r,c,i),I="left"===t?-di:di}return{titleX:N,titleY:B,maxWidth:S,rotation:I}}(this,f,t,u);yg(e,r.text,0,0,o,{color:r.color,maxWidth:I,rotation:S,textAlign:JU(u,t,i),textBaseline:"middle",translation:[_,w]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=cn(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===wg.prototype.draw?[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]:[{z:t,draw:i=>{this.draw(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,c;for(o=0,c=t.length;o<c;++o){const u=t[o];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){return rs(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ID{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function rj(n){return"id"in n&&"defaults"in n})(t)&&(r=this.register(t));const i=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,function tj(n,e,t){const r=C0(Object.create(null),[t?Dn.get(t):{},Dn.get(e),n.defaults]);Dn.set(e,r),n.defaultRoutes&&function nj(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),c=e[t].split("."),u=c.pop(),f=c.join(".");Dn.route(o,i,f,u)})}(e,n.defaultRoutes),n.descriptors&&Dn.describe(e,n.descriptors)}(e,c,r),this.override&&Dn.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Dn[i]&&(delete Dn[i][r],this.override&&delete pg[r])}}var Id=new class ij{constructor(){this.controllers=new ID(Cd,"datasets",!0),this.elements=new ID(uc,"elements"),this.plugins=new ID(Object,"plugins"),this.scales=new ID(wg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Xn(i,c=>{const u=r||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,t,r){const i=rM(e);Dr(r["before"+i],[],r),t[e](r),Dr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}};class sj{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(o,e,t,r);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,r,i){i=i||{};for(const o of e){const c=o.plugin;if(!1===Dr(c[r],[t,i,o.options],c)&&i.cancelable)return!1}return!0}invalidate(){Un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=cn(r.options&&r.options.plugins,{}),o=function oj(n){const e=[],t=Object.keys(Id.plugins.items);for(let i=0;i<t.length;i++)e.push(Id.getPlugin(t[i]));const r=n.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];-1===e.indexOf(o)&&e.push(o)}return e}(r);return!1!==i||t?function lj(n,e,t,r){const i=[],o=n.getContext();for(let c=0;c<e.length;c++){const u=e[c],_=aj(t[u.id],r);null!==_&&i.push({plugin:u,options:cj(n.config,u,_,o)})}return i}(e,o,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function aj(n,e){return e||!1!==n?!0===n?{}:n:null}function cj(n,e,t,r){const i=n.pluginScopeKeys(e),o=n.getOptionScopes(t,i);return n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function MM(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Dn.datasets[n]||{}).indexAxis||"x"}function OM(n,e){return"x"===n||"y"===n?n:e.axis||function hj(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.charAt(0).toLowerCase()}function _k(n){const e=n.options||(n.options={});e.plugins=cn(e.plugins,{}),e.scales=function fj(n,e){const t=pg[n.type]||{scales:{}},r=e.scales||{},i=MM(n.type,e),o=Object.create(null),c=Object.create(null);return Object.keys(r).forEach(u=>{const f=r[u];if(!Mn(f))return console.error(`Invalid scale configuration for scale: ${u}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const _=OM(u,f),w=function dj(n,e){return n===e?"_index_":"_value_"}(_,i),I=t.scales||{};o[_]=o[_]||u,c[u]=I0(Object.create(null),[{axis:_},f,I[_],I[w]])}),n.data.datasets.forEach(u=>{const f=u.type||n.type,_=u.indexAxis||MM(f,e),I=(pg[f]||{}).scales||{};Object.keys(I).forEach(S=>{const N=function uj(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(S,_),B=u[N+"AxisID"]||o[N]||N;c[B]=c[B]||Object.create(null),I0(c[B],[{axis:N},r[B],I[S]])})}),Object.keys(c).forEach(u=>{const f=c[u];I0(f,[Dn.scales[f.type],Dn.scale])}),c}(n,e)}function vk(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const bk=new Map,wk=new Set;function DD(n,e){let t=bk.get(n);return t||(t=e(),bk.set(n,t),wk.add(t)),t}const $0=(n,e,t)=>{const r=fg(e,t);void 0!==r&&n.add(r)};class gj{constructor(e){this._config=function pj(n){return(n=n||{}).data=vk(n.data),_k(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_k(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return DD(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return DD(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return DD(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return DD(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,c=this._cachedScopes(e,r),u=c.get(t);if(u)return u;const f=new Set;t.forEach(w=>{e&&(f.add(e),w.forEach(I=>$0(f,e,I))),w.forEach(I=>$0(f,i,I)),w.forEach(I=>$0(f,pg[o]||{},I)),w.forEach(I=>$0(f,Dn,I)),w.forEach(I=>$0(f,hM,I))});const _=Array.from(f);return 0===_.length&&_.push(Object.create(null)),wk.has(t)&&c.set(t,_),_}chartOptionScopes(){const{options:e,type:t}=this;return[e,pg[t]||{},Dn.datasets[t]||{},{type:t},Dn,hM]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=Ek(this._resolverCache,e,i);let f=c;(function yj(n,e){const{isScriptable:t,isIndexable:r}=_R(n);for(const i of e){const o=t(i),c=r(i),u=(c||o)&&n[i];if(o&&(Xh(u)||mj(u))||c&&Ir(u))return!0}return!1})(c,t)&&(o.$shared=!1,f=qy(c,r=Xh(r)?r():r,this.createResolver(e,r,u)));for(const _ of t)o[_]=f[_];return o}createResolver(e,t,r=[""],i){const{resolver:o}=Ek(this._resolverCache,e,r);return Mn(t)?qy(o,t,void 0,i):o}}function Ek(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:mM(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}const mj=n=>Mn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Xh(n[t]),!1),vj=["top","bottom","left","right","chartArea"];function Ck(n,e){return"top"===n||"bottom"===n||-1===vj.indexOf(n)&&"x"===e}function Ik(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Dk(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Dr(t&&t.onComplete,[n],e)}function bj(n){const e=n.chart,t=e.options.animation;Dr(t&&t.onProgress,[n],e)}function Tk(n){return DR()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const TD={},xk=n=>{const e=Tk(n);return Object.values(TD).filter(t=>t.canvas===e).pop()};function wj(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const c=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=c)}}}class z0{constructor(e,t){const r=this.config=new gj(t),i=Tk(e),o=xk(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function UU(n){return!DR()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?xU:BU}(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,c.aspectRatio),f=u&&u.canvas,_=f&&f.height,w=f&&f.width;this.id=cV(),this.ctx=u,this.canvas=f,this.width=w,this.height=_,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function aV(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}(I=>this.update(I),c.resizeDelay||0),this._dataChanges=[],TD[this.id]=this,u&&f?(Ed.listen(this,"complete",Dk),Ed.listen(this,"progress",bj),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return Un(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fR(this.canvas,this.ctx),this}stop(){return Ed.stop(this),this}resize(e,t){Ed.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,c=this.platform.getMaximumSize(this.canvas,e,t,r.maintainAspectRatio&&this.aspectRatio),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,xR(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Dr(r.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){Xn(this.options.scales||{},(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const u=t[c],f=OM(c,u),_="r"===f,w="x"===f;return{options:u,dposition:_?"chartArea":w?"bottom":"left",dtype:_?"radialLinear":w?"category":"linear"}}))),Xn(o,c=>{const u=c.options,f=u.id,_=OM(f,u),w=cn(u.type,c.dtype);(void 0===u.position||Ck(u.position,_)!==Ck(c.dposition))&&(u.position=c.dposition),i[f]=!0;let I=null;f in r&&r[f].type===w?I=r[f]:(I=new(Id.getScale(w))({id:f,type:w,ctx:this.ctx,chart:this}),r[I.id]=I),I.init(u,e)}),Xn(i,(c,u)=>{c||delete r[u]}),Xn(r,c=>{so.configure(this,c,c.options),so.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Ik("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{0===t.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let c=this.getDatasetMeta(r);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=o.indexAxis||MM(u,this.options),c.order=o.order||0,c.index=r,c.label=""+o.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const f=Id.getController(u),{datasetElementType:_,dataElementType:w}=Dn.datasets[u];Object.assign(f.prototype,{dataElementType:Id.getElement(w),datasetElementType:_&&Id.getElement(_)}),c.controller=new f(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Xn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let _=0,w=this.data.datasets.length;_<w;_++){const{controller:I}=this.getDatasetMeta(_),S=!i&&-1===o.indexOf(I);I.buildOrUpdateElements(S),c=Math.max(+I.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||Xn(o,_=>{_.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ik("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Xn(this.scales,e=>{so.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ZP(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t)wj(e,i,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!ZP(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;so.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Xn(this.boxes,i=>{r&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Xh(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ed.has(this)?this.attached&&!Ed.running(this)&&Ed.start(this):(this.draw(),Dk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const c=t[i];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,o=this.chartArea,c={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(i&&fD(t,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),e.controller.draw(),i&&pD(t),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}getElementsAtEventForMode(e,t,r,i){const o=vU.modes[t];return"function"==typeof o?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Jh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,i);gl(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(o,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ed.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete TD[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},i=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};Xn(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(f,_)=>{t.addEventListener(this,f,_),e[f]=_},i=(f,_)=>{e[f]&&(t.removeEventListener(this,f,_),delete e[f])},o=(f,_)=>{this.canvas&&this.resize(f,_)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",o),r("detach",c)};c=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():c()}unbindEvents(){Xn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Xn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,c,u,f;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const _=c&&this.getDatasetMeta(c.datasetIndex).controller;_&&_[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!nD(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(f,_)=>f.filter(w=>!_.some(I=>w.datasetIndex===I.datasetIndex&&w.index===I.index)),c=o(t,e),u=r?e:o(e,t);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:mg(e,this.chartArea,this._minPadding)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,u=this._getActiveElements(e,i,r,t),f=function gV(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),_=function Ej(n,e,t,r){return t&&"mouseout"!==n.type?r?e:n:null}(e,this._lastEvent,r,f);r&&(this._lastEvent=null,Dr(o.onHover,[e,u,this],this),f&&Dr(o.onClick,[e,u,this],this));const w=!nD(u,i);return(w||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=_,w}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}const Ak=()=>Xn(z0.instances,n=>n._plugins.invalidate()),ef=!0;function Sk(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:c,outerRadius:u,innerRadius:f}=e;let _=i/u;n.beginPath(),n.arc(o,c,u,r-_,t+_),f>i?(_=i/f,n.arc(o,c,f,t+_,r-_,!0)):n.arc(o,c,i,t+di,r-di),n.closePath(),n.clip()}function Yy(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function PM(n,e,t,r,i){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:_}=e,w=Math.max(e.outerRadius+r+t-f,0),I=_>0?_+r+t+f:0;let S=0;const N=i-u;if(r){const Cg=((_>0?_-r:0)+(w>0?w-r:0))/2;S=(N-(0!==Cg?N*Cg/(Cg+r):N))/2}const j=(N-Math.max(.001,N*w-t/Gr)/w)/2,ee=u+j+S,fe=i-j-S,{outerStart:Re,outerEnd:Je,innerStart:Ve,innerEnd:Be}=function Ij(n,e,t,r){const i=function Cj(n){return pM(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(t-e)/2,c=Math.min(o,r*e/2),u=f=>{const _=(t-Math.min(o,f))*r/2;return Ds(f,0,Math.min(o,_))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Ds(i.innerStart,0,c),innerEnd:Ds(i.innerEnd,0,c)}}(e,I,w,fe-ee),lt=w-Re,pt=w-Je,Rt=ee+Re/lt,Ft=fe-Je/pt,Jn=I+Ve,Rn=I+Be,kn=ee+Ve/Jn,Gi=fe-Be/Rn;if(n.beginPath(),n.arc(o,c,w,Rt,Ft),Je>0){const gr=Yy(pt,Ft,o,c);n.arc(gr.x,gr.y,Je,Ft,fe+di)}const No=Yy(Rn,fe,o,c);if(n.lineTo(No.x,No.y),Be>0){const gr=Yy(Rn,Gi,o,c);n.arc(gr.x,gr.y,Be,fe+di,Gi+Math.PI)}if(n.arc(o,c,I,fe-Be/I,ee+Ve/I,!0),Ve>0){const gr=Yy(Jn,kn,o,c);n.arc(gr.x,gr.y,Ve,kn+Math.PI,ee-di)}const Cn=Yy(lt,ee,o,c);if(n.lineTo(Cn.x,Cn.y),Re>0){const gr=Yy(lt,Rt,o,c);n.arc(gr.x,gr.y,Re,ee-di,Rt)}n.closePath()}Object.defineProperties(z0,{defaults:{enumerable:ef,value:Dn},instances:{enumerable:ef,value:TD},overrides:{enumerable:ef,value:pg},registry:{enumerable:ef,value:Id},version:{enumerable:ef,value:"3.7.1"},getChart:{enumerable:ef,value:xk},register:{enumerable:ef,value:(...n)=>{Id.add(...n),Ak()}},unregister:{enumerable:ef,value:(...n)=>{Id.remove(...n),Ak()}}});class G0 extends uc{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:o,distance:c}=eR(i,{x:e,y:t}),{startAngle:u,endAngle:f,innerRadius:_,outerRadius:w,circumference:I}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),S=this.options.spacing/2,B=cn(I,f-u)>=pr||A0(o,u,f),j=bd(c,_+S,w+S);return B&&j}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:f,spacing:_}=this.options,w=(i+o)/2,I=(c+u+_+f)/2;return{x:t+Math.cos(w)*I,y:r+Math.sin(w)*I}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/2,o=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>pr?Math.floor(r/pr):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let c=0;if(i){c=i/2;const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*c,Math.sin(f)*c),this.circumference>=Gr&&(c=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const u=function Dj(n,e,t,r){const{fullCircles:i,startAngle:o,circumference:c}=e;let u=e.endAngle;if(i){PM(n,e,t,r,o+pr);for(let f=0;f<i;++f)n.fill();isNaN(c)||(u=o+c%pr,c%pr==0&&(u+=pr))}return PM(n,e,t,r,u),n.fill(),u}(e,this,c,o);(function xj(n,e,t,r,i){const{options:o}=e,{borderWidth:c,borderJoinStyle:u}=o,f="inner"===o.borderAlign;!c||(f?(n.lineWidth=2*c,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel"),e.fullCircles&&function Tj(n,e,t){const{x:r,y:i,startAngle:o,pixelMargin:c,fullCircles:u}=e,f=Math.max(e.outerRadius-c,0),_=e.innerRadius+c;let w;for(t&&Sk(n,e,o+pr),n.beginPath(),n.arc(r,i,_,o+pr,o,!0),w=0;w<u;++w)n.stroke();for(n.beginPath(),n.arc(r,i,f,o,o+pr),w=0;w<u;++w)n.stroke()}(n,e,f),f&&Sk(n,e,i),PM(n,e,t,r,i),n.stroke())})(e,this,c,o,u),e.restore()}}function Mk(n,e,t=e){n.lineCap=cn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(cn(t.borderDash,e.borderDash)),n.lineDashOffset=cn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=cn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=cn(t.borderWidth,e.borderWidth),n.strokeStyle=cn(t.borderColor,e.borderColor)}function Aj(n,e,t){n.lineTo(t.x,t.y)}function Ok(n,e,t={}){const r=n.length,{start:i=0,end:o=r-1}=t,{start:c,end:u}=e,f=Math.max(i,c),_=Math.min(o,u);return{count:r,start:f,loop:e.loop,ilen:_<f&&!(i<c&&o<c||i>u&&o>u)?r+_-f:_-f}}function Mj(n,e,t,r){const{points:i,options:o}=e,{count:c,start:u,loop:f,ilen:_}=Ok(i,t,r),w=function Sj(n){return n.stepped?zV:n.tension||"monotone"===n.cubicInterpolationMode?GV:Aj}(o);let N,B,j,{move:I=!0,reverse:S}=r||{};for(N=0;N<=_;++N)B=i[(u+(S?_-N:N))%c],!B.skip&&(I?(n.moveTo(B.x,B.y),I=!1):w(n,j,B,S,o.stepped),j=B);return f&&(B=i[(u+(S?_:0))%c],w(n,j,B,S,o.stepped)),!!f}function Oj(n,e,t,r){const i=e.points,{count:o,start:c,ilen:u}=Ok(i,t,r),{move:f=!0,reverse:_}=r||{};let S,N,B,j,ee,fe,w=0,I=0;const Re=Ve=>(c+(_?u-Ve:Ve))%o,Je=()=>{j!==ee&&(n.lineTo(w,ee),n.lineTo(w,j),n.lineTo(w,fe))};for(f&&(N=i[Re(0)],n.moveTo(N.x,N.y)),S=0;S<=u;++S){if(N=i[Re(S)],N.skip)continue;const Ve=N.x,Be=N.y,lt=0|Ve;lt===B?(Be<j?j=Be:Be>ee&&(ee=Be),w=(I*w+Ve)/++I):(Je(),n.lineTo(Ve,Be),B=lt,I=0,j=ee=Be),fe=Be}Je()}function RM(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?Mj:Oj}G0.id="arc",G0.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},G0.defaultRoutes={backgroundColor:"backgroundColor"};const Nj="function"==typeof Path2D;let W0=(()=>{class n extends uc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(yB(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function RB(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const o=!!n._loop,{start:c,end:u}=function OB(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}(t,i,o,r);return function LR(n,e,t,r){return r&&r.setContext&&t?function kB(n,e,t,r){const i=n._chart.getContext(),o=FR(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,f=t.length,_=[];let w=o,I=e[0].start,S=I;function N(B,j,ee,fe){const Re=u?-1:1;if(B!==j){for(B+=f;t[B%f].skip;)B-=Re;for(;t[j%f].skip;)j+=Re;B%f!=j%f&&(_.push({start:B%f,end:j%f,loop:ee,style:fe}),w=fe,I=j%f)}}for(const B of e){I=u?I:B.start;let ee,j=t[I%f];for(S=I+1;S<=B.end;S++){const fe=t[S%f];ee=FR(r.setContext(Jh(i,{type:"segment",p0:j,p1:fe,p0DataIndex:(S-1)%f,p1DataIndex:S%f,datasetIndex:c}))),NB(ee,w)&&N(I,S-1,B.loop,w),j=fe,w=ee}I<S-1&&N(I,S-1,B.loop,w)}return _}(n,e,t,r):e}(n,!0===r?[{start:c,end:u,loop:o}]:function PB(n,e,t,r){const i=n.length,o=[];let f,c=e,u=n[e];for(f=e+1;f<=t;++f){const _=n[f%i];_.skip||_.stop?u.skip||(o.push({start:e%i,end:(f-1)%i,loop:r=!1}),e=c=_.stop?f:null):(c=f,u.skip&&(e=f)),u=_}return null!==c&&o.push({start:e%i,end:c%i,loop:r}),o}(t,c,u<c?u+i:u,!!n._fullLoop&&0===c&&u===i-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,r){const i=this.options,o=t[r],c=this.points,u=NR(this,{property:r,start:o,end:o});if(!u.length)return;const f=[],_=function Pj(n){return n.stepped?DB:n.tension||"monotone"===n.cubicInterpolationMode?TB:vg}(i);let w,I;for(w=0,I=u.length;w<I;++w){const{start:S,end:N}=u[w],B=c[S],j=c[N];if(B===j){f.push(B);continue}const fe=_(B,j,Math.abs((o-B[r])/(j[r]-B[r])),i.stepped);fe[r]=t[r],f.push(fe)}return 1===f.length?f[0]:f}pathSegment(t,r,i){return RM(this)(t,this,r,i)}path(t,r,i){const o=this.segments,c=RM(this);let u=this._loop;r=r||0,i=i||this.points.length-r;for(const f of o)u&=c(t,this,f,{start:r,end:r+i-1});return!!u}draw(t,r,i,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Lj(n,e,t,r){Nj&&!e.options.segment?function Rj(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Mk(n,e.options),n.stroke(i)}(n,e,t,r):function kj(n,e,t,r){const{segments:i,options:o}=e,c=RM(e);for(const u of i)Mk(n,o,u.style),n.beginPath(),c(n,e,u,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}(n,e,t,r)}(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e},n})();function Pk(n,e,t,r){const i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}let Rk=(()=>{class n extends uc{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.options,{x:c,y:u}=this.getProps(["x","y"],i);return Math.pow(t-c,2)+Math.pow(r-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return Pk(this,t,"x",r)}inYRange(t,r){return Pk(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){let r=(t=t||this.options||{}).radius||0;return r=Math.max(r,r&&t.hoverRadius||0),2*(r+(r&&t.borderWidth||0))}draw(t,r){const i=this.options;this.skip||i.radius<.1||!mg(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,hD(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function kk(n,e){const{x:t,y:r,base:i,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let u,f,_,w,I;return n.horizontal?(I=c/2,u=Math.min(t,i),f=Math.max(t,i),_=r-I,w=r+I):(I=o/2,u=t-I,f=t+I,_=Math.min(r,i),w=Math.max(r,i)),{left:u,top:_,right:f,bottom:w}}function tf(n,e,t,r){return n?0:Ds(e,t,r)}function kM(n,e,t,r){const i=null===e,o=null===t,u=n&&!(i&&o)&&kk(n,r);return u&&(i||bd(e,u.left,u.right))&&(o||bd(t,u.top,u.bottom))}function jj(n,e){n.rect(e.x,e.y,e.w,e.h)}function NM(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-r),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-i),radius:n.radius}}class q0 extends uc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:c}=function Bj(n){const e=kk(n),t=e.right-e.left,r=e.bottom-e.top,i=function Fj(n,e,t){const i=n.borderSkipped,o=pR(n.options.borderWidth);return{t:tf(i.top,o.top,0,t),r:tf(i.right,o.right,0,e),b:tf(i.bottom,o.bottom,0,t),l:tf(i.left,o.left,0,e)}}(n,t/2,r/2),o=function Vj(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=Wy(i),c=Math.min(e,t),u=n.borderSkipped,f=r||Mn(i);return{topLeft:tf(!f||u.top||u.left,o.topLeft,0,c),topRight:tf(!f||u.top||u.right,o.topRight,0,c),bottomLeft:tf(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:tf(!f||u.bottom||u.right,o.bottomRight,0,c)}}(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}(this),u=function Uj(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(c.radius)?gD:jj;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,NM(c,t,o)),e.clip(),u(e,NM(o,-t,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,NM(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return kM(this,e,t,r)}inXRange(e,t){return kM(this,e,null,t)}inYRange(e,t){return kM(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function Zj(n,e,t){const r=function Kj(n){const e=n.options,t=e.fill;let r=cn(t&&t.target,t);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(Mn(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return Ai(i)&&Math.floor(i)===i?(("-"===r[0]||"+"===r[0])&&(i=e+i),!(i===e||i<0||i>=t)&&i):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}q0.id="bar",q0.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},q0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Fk{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:o,radius:c}=this;return e.arc(i,o,c,(t=t||{start:0,end:pr}).end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function LM(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function nH(n,e,t){const r=[];for(let i=0;i<t.length;i++){const o=t[i],{first:c,last:u,point:f}=rH(o,e,"x");if(!(!f||c&&u))if(c)r.unshift(f);else if(n.push(f),!u)break}n.push(...r)}function rH(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],o=n.segments,c=n.points;let u=!1,f=!1;for(let _=0;_<o.length;_++){const w=o[_],I=c[w.start][t],S=c[w.end][t];if(bd(i,I,S)){u=i===I,f=i===S;break}}return{first:u,last:f,point:r}}function iH(n){const{chart:e,fill:t,line:r}=n;if(Ai(t))return function qj(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function eH(n){const{scale:e,index:t,line:r}=n,i=[],o=r.segments,c=r.points,u=function tH(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}(e,t);u.push(Vk({x:null,y:e.bottom},r));for(let f=0;f<o.length;f++){const _=o[f];for(let w=_.start;w<=_.end;w++)nH(i,c[w],u)}return new W0({points:i,options:{}})}(n);if("shape"===t)return!0;const i=function Xj(n){return(n.scale||{}).getPointPositionForValue?function Qj(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=[],c=r.reverse?e.max:e.min;let f,_,w;if(w="start"===t?c:"end"===t?r.reverse?e.min:e.max:Mn(t)?t.value:e.getBaseValue(),r.grid.circular)return _=e.getPointPositionForValue(0,c),new Fk({x:_.x,y:_.y,radius:e.getDistanceFromCenterForValue(w)});for(f=0;f<i;++f)o.push(e.getPointPositionForValue(f,w));return o}(n):function Yj(n){const{scale:e={},fill:t}=n;let i,r=null;return"start"===t?r=e.bottom:"end"===t?r=e.top:Mn(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),Ai(r)?(i=e.isHorizontal(),{x:i?r:null,y:i?null:r}):null}(n)}(n);return i instanceof Fk?i:Vk(i,r)}function Vk(n,e){let t=[],r=!1;return Ir(n)?(r=!0,t=n):t=function Jj(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:c,end:u})=>{u=LM(c,u,i);const f=i[c],_=i[u];null!==r?(o.push({x:f.x,y:r}),o.push({x:_.x,y:r})):null!==t&&(o.push({x:t,y:f.y}),o.push({x:t,y:_.y}))}),o}(n,e),t.length?new W0({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function sH(n,e,t){let i=n[e].fill;const o=[e];let c;if(!t)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!Ai(i))return i;if(c=n[i],!c)return!1;if(c.visible)return i;o.push(i),i=c.fill}return!1}function Bk(n,e,t){const{segments:r,points:i}=e;let o=!0,c=!1;n.beginPath();for(const u of r){const{start:f,end:_}=u,w=i[f],I=i[LM(f,_,i)];o?(n.moveTo(w.x,w.y),o=!1):(n.lineTo(w.x,t),n.lineTo(w.x,w.y)),c=!!e.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(I.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function FM(n,e,t,r){if(r)return;let i=e[n],o=t[n];return"angle"===n&&(i=La(i),o=La(o)),{property:n,start:i,end:o}}function Uk(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function aH(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:c,end:u}=t||{};"x"===o&&(n.beginPath(),n.rect(c,r,u-c,i-r),n.clip())}function jk(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}function Hk(n,e){const{line:t,target:r,property:i,color:o,scale:c}=e,u=function oH(n,e,t){const r=n.segments,i=n.points,o=e.points,c=[];for(const u of r){let{start:f,end:_}=u;_=LM(f,_,i);const w=FM(t,i[f],i[_],u.loop);if(!e.segments){c.push({source:u,target:w,start:i[f],end:i[_]});continue}const I=NR(e,w);for(const S of I){const N=FM(t,o[S.start],o[S.end],S.loop),B=kR(u,i,N);for(const j of B)c.push({source:j,target:S,start:{[t]:Uk(w,N,"start",Math.max)},end:{[t]:Uk(w,N,"end",Math.min)}})}}return c}(t,r,i);for(const{source:f,target:_,start:w,end:I}of u){const{style:{backgroundColor:S=o}={}}=f,N=!0!==r;n.save(),n.fillStyle=S,aH(n,c,N&&FM(i,w,I)),n.beginPath();const B=!!t.pathSegment(n,f);let j;if(N){B?n.closePath():jk(n,r,I,i);const ee=!!r.pathSegment(n,_,{move:B,reverse:!0});j=B&&ee,j||jk(n,r,w,i)}n.closePath(),n.fill(j?"evenodd":"nonzero"),n.restore()}}function VM(n,e,t){const r=iH(e),{line:i,scale:o,axis:c}=e,u=i.options,f=u.fill,_=u.backgroundColor,{above:w=_,below:I=_}=f||{};r&&i.points.length&&(fD(n,t),function lH(n,e){const{line:t,target:r,above:i,below:o,area:c,scale:u}=e,f=t._loop?"angle":e.axis;n.save(),"x"===f&&o!==i&&(Bk(n,r,c.top),Hk(n,{line:t,target:r,color:i,scale:u,property:f}),n.restore(),n.save(),Bk(n,r,c.bottom)),Hk(n,{line:t,target:r,color:o,scale:u,property:f}),n.restore()}(n,{line:i,target:r,above:w,below:I,area:t,scale:o,axis:c}),pD(n))}var $k={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let o,c,u,f;for(c=0;c<r;++c)o=n.getDatasetMeta(c),u=o.dataset,f=null,u&&u.options&&u instanceof W0&&(f={visible:n.isDatasetVisible(c),index:c,fill:Zj(u,c,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,i.push(f);for(c=0;c<r;++c)f=i[c],f&&!1!==f.fill&&(f.fill=sH(i,c,t.propagate))},beforeDraw(n,e,t){const r="beforeDraw"===t.drawTime,i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=i.length-1;c>=0;--c){const u=i[c].$filler;!u||(u.line.updateControlPoints(o,u.axis),r&&VM(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;o&&VM(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!r||!1===r.fill||"beforeDatasetDraw"!==t.drawTime||VM(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zk=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}};class Gk extends uc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Dr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=rs(r.font),o=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=zk(r,o);let _,w;t.font=i.string,this.isHorizontal()?(_=this.maxWidth,w=this._fitRows(c,o,u,f)+10):(w=this.maxHeight,_=this._fitCols(c,o,u,f)+10),this.width=Math.min(_,e.maxWidth||this.maxWidth),this.height=Math.min(w,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],_=this.lineWidths=[0],w=i+u;let I=e;o.textAlign="left",o.textBaseline="middle";let S=-1,N=-w;return this.legendItems.forEach((B,j)=>{const ee=r+t/2+o.measureText(B.text).width;(0===j||_[_.length-1]+ee+2*u>c)&&(I+=w,_[_.length-(j>0?0:1)]=0,N+=w,S++),f[j]={left:0,top:N,row:S,width:ee,height:i},_[_.length-1]+=ee+u}),I}_fitCols(e,t,r,i){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],_=this.columnSizes=[],w=c-e;let I=u,S=0,N=0,B=0,j=0;return this.legendItems.forEach((ee,fe)=>{const Re=r+t/2+o.measureText(ee.text).width;fe>0&&N+i+2*u>w&&(I+=S+u,_.push({width:S,height:N}),B+=S+u,j++,S=N=0),f[fe]={left:B,top:N,col:j,width:Re,height:i},S=Math.max(S,Re),N+=i+u}),I+=S,_.push({width:S,height:N}),I}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,c=Zy(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=ro(r,this.left+i,this.right-this.lineWidths[u]);for(const _ of t)u!==_.row&&(u=_.row,f=ro(r,this.left+i,this.right-this.lineWidths[u])),_.top+=this.top+e+i,_.left=c.leftForLtr(c.x(f),_.width),f+=_.width+i}else{let u=0,f=ro(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const _ of t)_.col!==u&&(u=_.col,f=ro(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),_.top=f,_.left+=this.left+i,_.left=c.leftForLtr(c.x(_.left),_.width),f+=_.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;fD(e,this),this._draw(),pD(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:c}=e,u=Dn.color,f=Zy(e.rtl,this.left,this.width),_=rs(c.font),{color:w,padding:I}=c,S=_.size,N=S/2;let B;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=_.string;const{boxWidth:j,boxHeight:ee,itemHeight:fe}=zk(c,S),Ve=this.isHorizontal(),Be=this._computeTitleHeight();B=Ve?{x:ro(o,this.left+I,this.right-r[0]),y:this.top+I+Be,line:0}:{x:this.left+I,y:ro(o,this.top+Be+I,this.bottom-t[0].height),line:0},MR(this.ctx,e.textDirection);const lt=fe+I;this.legendItems.forEach((pt,Rt)=>{i.strokeStyle=pt.fontColor||w,i.fillStyle=pt.fontColor||w;const Ft=i.measureText(pt.text).width,Jn=f.textAlign(pt.textAlign||(pt.textAlign=c.textAlign)),Rn=j+N+Ft;let kn=B.x,Gi=B.y;f.setWidth(this.width),Ve?Rt>0&&kn+Rn+I>this.right&&(Gi=B.y+=lt,B.line++,kn=B.x=ro(o,this.left+I,this.right-r[B.line])):Rt>0&&Gi+lt>this.bottom&&(kn=B.x=kn+t[B.line].width+I,B.line++,Gi=B.y=ro(o,this.top+Be+I,this.bottom-t[B.line].height)),function(pt,Rt,Ft){if(isNaN(j)||j<=0||isNaN(ee)||ee<0)return;i.save();const Jn=cn(Ft.lineWidth,1);if(i.fillStyle=cn(Ft.fillStyle,u),i.lineCap=cn(Ft.lineCap,"butt"),i.lineDashOffset=cn(Ft.lineDashOffset,0),i.lineJoin=cn(Ft.lineJoin,"miter"),i.lineWidth=Jn,i.strokeStyle=cn(Ft.strokeStyle,u),i.setLineDash(cn(Ft.lineDash,[])),c.usePointStyle){const Rn={radius:j*Math.SQRT2/2,pointStyle:Ft.pointStyle,rotation:Ft.rotation,borderWidth:Jn},kn=f.xPlus(pt,j/2);hD(i,Rn,kn,Rt+N)}else{const Rn=Rt+Math.max((S-ee)/2,0),kn=f.leftForLtr(pt,j),Gi=Wy(Ft.borderRadius);i.beginPath(),Object.values(Gi).some(No=>0!==No)?gD(i,{x:kn,y:Rn,w:j,h:ee,radius:Gi}):i.rect(kn,Rn,j,ee),i.fill(),0!==Jn&&i.stroke()}i.restore()}(f.x(kn),Gi,pt),kn=((n,e,t,r)=>n===(r?"left":"right")?t:"center"===n?(e+t)/2:e)(Jn,kn+j+N,Ve?kn+Rn:this.right,e.rtl),function(pt,Rt,Ft){yg(i,Ft.text,pt,Rt+fe/2,_,{strikethrough:Ft.hidden,textAlign:f.textAlign(Ft.textAlign)})}(f.x(kn),Gi,pt),Ve?B.x+=Rn+I:B.y+=lt}),OR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=rs(t.font),i=io(t.padding);if(!t.display)return;const o=Zy(e.rtl,this.left,this.width),c=this.ctx,u=t.position,_=i.top+r.size/2;let w,I=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),w=this.top+_,I=ro(e.align,I,this.right-S);else{const B=this.columnSizes.reduce((j,ee)=>Math.max(j,ee.height),0);w=_+ro(e.align,this.top,this.bottom-B-e.labels.padding-this._computeTitleHeight())}const N=ro(u,I,I+S);c.textAlign=o.textAlign(nM(u)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=r.string,yg(c,t.text,N,w,r)}_computeTitleHeight(){const e=this.options.title,t=rs(e.font),r=io(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(bd(e,this.left,this.right)&&bd(t,this.top,this.bottom))for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],bd(e,i.left,i.left+i.width)&&bd(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function uH(n,e){return!!("mousemove"===n&&(e.onHover||e.onLeave)||e.onClick&&("click"===n||"mouseup"===n))}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type){const i=this._hoveredItem,o=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(i,r);i&&!o&&Dr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Dr(t.onHover,[e,r,this],this)}else r&&Dr(t.onClick,[e,r,this],this)}}var Wk={id:"legend",_element:Gk,start(n,e,t){const r=n.legend=new Gk({ctx:n.ctx,options:t,chart:n});so.configure(n,r,t),so.addBox(n,r)},stop(n){so.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;so.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(t?0:void 0),f=io(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:0,datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class BM extends uc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=Ir(r.text)?r.text.length:1;this._padding=io(r.padding);const o=i*rs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:i,right:o,options:c}=this,u=c.align;let _,w,I,f=0;return this.isHorizontal()?(w=ro(u,r,o),I=t+e,_=o-r):("left"===c.position?(w=r+e,I=ro(u,i,t),f=-.5*Gr):(w=o-e,I=ro(u,t,i),f=.5*Gr),_=i-t),{titleX:w,titleY:I,maxWidth:_,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=rs(t.font),o=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:_}=this._drawArgs(o);yg(e,t.text,0,0,r,{color:t.color,maxWidth:f,rotation:_,textAlign:nM(t.align),textBaseline:"middle",translation:[c,u]})}}var qk={id:"title",_element:BM,start(n,e,t){!function dH(n,e){const t=new BM({ctx:n.ctx,options:e,chart:n});so.configure(n,t,e),so.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){so.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;so.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const K0={average(n){if(!n.length)return!1;let e,t,r=0,i=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();r+=u.x,i+=u.y,++o}}return{x:r/o,y:i/o}},nearest(n,e){if(!n.length)return!1;let o,c,u,t=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const w=sM(e,f.getCenterPoint());w<i&&(i=w,u=f)}}if(u){const f=u.tooltipPosition();t=f.x,r=f.y}return{x:t,y:r}}};function mu(n,e){return e&&(Ir(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Dd(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function fH(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:c,value:u}=o.getLabelAndValue(i);return{chart:n,label:c,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Kk(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:c,boxHeight:u}=e,f=rs(e.bodyFont),_=rs(e.titleFont),w=rs(e.footerFont),I=o.length,S=i.length,N=r.length,B=io(e.padding);let j=B.height,ee=0,fe=r.reduce((Ve,Be)=>Ve+Be.before.length+Be.lines.length+Be.after.length,0);fe+=n.beforeBody.length+n.afterBody.length,I&&(j+=I*_.lineHeight+(I-1)*e.titleSpacing+e.titleMarginBottom),fe&&(j+=N*(e.displayColors?Math.max(u,f.lineHeight):f.lineHeight)+(fe-N)*f.lineHeight+(fe-1)*e.bodySpacing),S&&(j+=e.footerMarginTop+S*w.lineHeight+(S-1)*e.footerSpacing);let Re=0;const Je=function(Ve){ee=Math.max(ee,t.measureText(Ve).width+Re)};return t.save(),t.font=_.string,Xn(n.title,Je),t.font=f.string,Xn(n.beforeBody.concat(n.afterBody),Je),Re=e.displayColors?c+2+e.boxPadding:0,Xn(r,Ve=>{Xn(Ve.before,Je),Xn(Ve.lines,Je),Xn(Ve.after,Je)}),Re=0,t.font=w.string,Xn(n.footer,Je),t.restore(),ee+=B.width,{width:ee,height:j}}function mH(n,e,t,r){const{x:i,width:o}=t,{width:c,chartArea:{left:u,right:f}}=n;let _="center";return"center"===r?_=i<=(u+f)/2?"left":"right":i<=o/2?_="left":i>=c-o/2&&(_="right"),function gH(n,e,t,r){const{x:i,width:o}=r,c=t.caretSize+t.caretPadding;if("left"===n&&i+o+c>e.width||"right"===n&&i-o-c<0)return!0}(_,n,e,t)&&(_="center"),_}function Zk(n,e,t){const r=t.yAlign||e.yAlign||function pH(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||mH(n,e,t,r),yAlign:r}}function Yk(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:f}=t,_=i+o,{topLeft:w,topRight:I,bottomLeft:S,bottomRight:N}=Wy(c);let B=function yH(n,e){let{x:t,width:r}=n;return"right"===e?t-=r:"center"===e&&(t-=r/2),t}(e,u);const j=function _H(n,e,t){let{y:r,height:i}=n;return"top"===e?r+=t:r-="bottom"===e?i+t:i/2,r}(e,f,_);return"center"===f?"left"===u?B+=_:"right"===u&&(B-=_):"left"===u?B-=Math.max(w,S)+i:"right"===u&&(B+=Math.max(I,N)+i),{x:Ds(B,0,r.width-e.width),y:Ds(j,0,r.height-e.height)}}function AD(n,e,t){const r=io(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-r.right:n.x+r.left}function Qk(n){return mu([],Dd(n))}function Xk(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let Jk=(()=>{class n extends uc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,c=new BR(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=function vH(n,e,t){return Jh(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:i}=r,o=i.beforeTitle.apply(this,[t]),c=i.title.apply(this,[t]),u=i.afterTitle.apply(this,[t]);let f=[];return f=mu(f,Dd(o)),f=mu(f,Dd(c)),f=mu(f,Dd(u)),f}getBeforeBody(t,r){return Qk(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:i}=r,o=[];return Xn(t,c=>{const u={before:[],lines:[],after:[]},f=Xk(i,c);mu(u.before,Dd(f.beforeLabel.call(this,c))),mu(u.lines,f.label.call(this,c)),mu(u.after,Dd(f.afterLabel.call(this,c))),o.push(u)}),o}getAfterBody(t,r){return Qk(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:i}=r,o=i.beforeFooter.apply(this,[t]),c=i.footer.apply(this,[t]),u=i.afterFooter.apply(this,[t]);let f=[];return f=mu(f,Dd(o)),f=mu(f,Dd(c)),f=mu(f,Dd(u)),f}_createItems(t){const r=this._active,i=this.chart.data,o=[],c=[],u=[];let _,w,f=[];for(_=0,w=r.length;_<w;++_)f.push(fH(this.chart,r[_]));return t.filter&&(f=f.filter((I,S,N)=>t.filter(I,S,N,i))),t.itemSort&&(f=f.sort((I,S)=>t.itemSort(I,S,i))),Xn(f,I=>{const S=Xk(t.callbacks,I);o.push(S.labelColor.call(this,I)),c.push(S.labelPointStyle.call(this,I)),u.push(S.labelTextColor.call(this,I))}),this.labelColors=o,this.labelPointStyles=c,this.labelTextColors=u,this.dataPoints=f,f}update(t,r){const i=this.options.setContext(this.getContext()),o=this._active;let c,u=[];if(o.length){const f=K0[i.position].call(this,o,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const _=this._size=Kk(this,i),w=Object.assign({},f,_),I=Zk(this.chart,i,w),S=Yk(i,w,I,this.chart);this.xAlign=I.xAlign,this.yAlign=I.yAlign,c={opacity:1,x:S.x,y:S.y,width:_.width,height:_.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=u,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){const c=this.getCaretPosition(t,i,o);r.lineTo(c.x1,c.y1),r.lineTo(c.x2,c.y2),r.lineTo(c.x3,c.y3)}getCaretPosition(t,r,i){const{xAlign:o,yAlign:c}=this,{caretSize:u,cornerRadius:f}=i,{topLeft:_,topRight:w,bottomLeft:I,bottomRight:S}=Wy(f),{x:N,y:B}=t,{width:j,height:ee}=r;let fe,Re,Je,Ve,Be,lt;return"center"===c?(Be=B+ee/2,"left"===o?(fe=N,Re=fe-u,Ve=Be+u,lt=Be-u):(fe=N+j,Re=fe+u,Ve=Be-u,lt=Be+u),Je=fe):(Re="left"===o?N+Math.max(_,I)+u:"right"===o?N+j-Math.max(w,S)-u:this.caretX,"top"===c?(Ve=B,Be=Ve-u,fe=Re-u,Je=Re+u):(Ve=B+ee,Be=Ve+u,fe=Re+u,Je=Re-u),lt=Ve),{x1:fe,x2:Re,x3:Je,y1:Ve,y2:Be,y3:lt}}drawTitle(t,r,i){const o=this.title,c=o.length;let u,f,_;if(c){const w=Zy(i.rtl,this.x,this.width);for(t.x=AD(this,i.titleAlign,i),r.textAlign=w.textAlign(i.titleAlign),r.textBaseline="middle",u=rs(i.titleFont),f=i.titleSpacing,r.fillStyle=i.titleColor,r.font=u.string,_=0;_<c;++_)r.fillText(o[_],w.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+f,_+1===c&&(t.y+=i.titleMarginBottom-f)}}_drawColorBox(t,r,i,o,c){const u=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:_,boxWidth:w,boxPadding:I}=c,S=rs(c.bodyFont),N=AD(this,"left",c),B=o.x(N),ee=r.y+(_<S.lineHeight?(S.lineHeight-_)/2:0);if(c.usePointStyle){const fe={radius:Math.min(w,_)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},Re=o.leftForLtr(B,w)+w/2,Je=ee+_/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,hD(t,fe,Re,Je),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,hD(t,fe,Re,Je)}else{t.lineWidth=u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const fe=o.leftForLtr(B,w-I),Re=o.leftForLtr(o.xPlus(B,1),w-I-2),Je=Wy(u.borderRadius);Object.values(Je).some(Ve=>0!==Ve)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,gD(t,{x:fe,y:ee,w,h:_,radius:Je}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),gD(t,{x:Re,y:ee+1,w:w-2,h:_-2,radius:Je}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(fe,ee,w,_),t.strokeRect(fe,ee,w,_),t.fillStyle=u.backgroundColor,t.fillRect(Re,ee+1,w-2,_-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){const{body:o}=this,{bodySpacing:c,bodyAlign:u,displayColors:f,boxHeight:_,boxWidth:w,boxPadding:I}=i,S=rs(i.bodyFont);let N=S.lineHeight,B=0;const j=Zy(i.rtl,this.x,this.width),ee=function(Ft){r.fillText(Ft,j.x(t.x+B),t.y+N/2),t.y+=N+c},fe=j.textAlign(u);let Re,Je,Ve,Be,lt,pt,Rt;for(r.textAlign=u,r.textBaseline="middle",r.font=S.string,t.x=AD(this,fe,i),r.fillStyle=i.bodyColor,Xn(this.beforeBody,ee),B=f&&"right"!==fe?"center"===u?w/2+I:w+2+I:0,Be=0,pt=o.length;Be<pt;++Be){for(Re=o[Be],Je=this.labelTextColors[Be],r.fillStyle=Je,Xn(Re.before,ee),Ve=Re.lines,f&&Ve.length&&(this._drawColorBox(r,t,Be,j,i),N=Math.max(S.lineHeight,_)),lt=0,Rt=Ve.length;lt<Rt;++lt)ee(Ve[lt]),N=S.lineHeight;Xn(Re.after,ee)}B=0,N=S.lineHeight,Xn(this.afterBody,ee),t.y-=c}drawFooter(t,r,i){const o=this.footer,c=o.length;let u,f;if(c){const _=Zy(i.rtl,this.x,this.width);for(t.x=AD(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=_.textAlign(i.footerAlign),r.textBaseline="middle",u=rs(i.footerFont),r.fillStyle=i.footerColor,r.font=u.string,f=0;f<c;++f)r.fillText(o[f],_.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){const{xAlign:c,yAlign:u}=this,{x:f,y:_}=t,{width:w,height:I}=i,{topLeft:S,topRight:N,bottomLeft:B,bottomRight:j}=Wy(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(f+S,_),"top"===u&&this.drawCaret(t,r,i,o),r.lineTo(f+w-N,_),r.quadraticCurveTo(f+w,_,f+w,_+N),"center"===u&&"right"===c&&this.drawCaret(t,r,i,o),r.lineTo(f+w,_+I-j),r.quadraticCurveTo(f+w,_+I,f+w-j,_+I),"bottom"===u&&this.drawCaret(t,r,i,o),r.lineTo(f+B,_+I),r.quadraticCurveTo(f,_+I,f,_+I-B),"center"===u&&"left"===c&&this.drawCaret(t,r,i,o),r.lineTo(f,_+S),r.quadraticCurveTo(f,_,f+S,_),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,i=this.$animations,o=i&&i.x,c=i&&i.y;if(o||c){const u=K0[t.position].call(this,this._active,this._eventPosition);if(!u)return;const f=this._size=Kk(this,t),_=Object.assign({},u,this._size),w=Zk(r,t,_),I=Yk(t,_,w,r);(o._to!==I.x||c._to!==I.y)&&(this.xAlign=w.xAlign,this.yAlign=w.yAlign,this.width=f.width,this.height=f.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,I))}}draw(t){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const o={width:this.width,height:this.height},c={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=io(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(c,t,o,r),MR(t,r.textDirection),c.y+=u.top,this.drawTitle(c,t,r),this.drawBody(c,t,r),this.drawFooter(c,t,r),OR(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const i=this._active,o=t.map(({datasetIndex:f,index:_})=>{const w=this.chart.getDatasetMeta(f);if(!w)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:w.data[_],index:_}}),c=!nD(i,o),u=this._positionChanged(o,r);(c||u)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,c=this._active||[],u=this._getActiveElements(t,c,r,i),f=this._positionChanged(u,t),_=r||!nD(u,c)||f;return _&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),_}_getActiveElements(t,r,i,o){const c=this.options;if("mouseout"===t.type)return[];if(!o)return r;const u=this.chart.getElementsAtEventForMode(t,c.mode,c,i);return c.reverse&&u.reverse(),u}_positionChanged(t,r){const{caretX:i,caretY:o,options:c}=this,u=K0[c.position].call(this,t,r);return!1!==u&&(i!==u.x||o!==u.y)}}return n.positioners=K0,n})();var eN={id:"tooltip",_element:Jk,positioners:K0,afterInit(n,e,t){t&&(n.tooltip=new Jk({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip,t={tooltip:e};!1!==n.notifyPlugins("beforeTooltipDraw",t)&&(e&&e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t))},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:vd,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:vd,beforeBody:vd,beforeLabel:vd,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Un(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vd,afterBody:vd,beforeFooter:vd,footer:vd,afterFooter:vd}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class Z0 extends wg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:o}of t)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Un(e))return null;const r=this.getLabels();return((n,e)=>null===n?null:Ds(Math.round(n),0,e))(t=isFinite(t)&&r[t]===e?t:function EH(n,e,t,r){const i=n.indexOf(e);return-1===i?((n,e,t,r)=>("string"==typeof e?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,r):i!==n.lastIndexOf(e)?t:i}(r,e,cn(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=t;c++)i.push({value:c});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tN(n,e,{horizontal:t,minRotation:r}){const i=cc(r),o=(t?Math.sin(i):Math.cos(i))||.001;return Math.min(e/o,.75*e*(""+n).length)}Z0.id="category",Z0.defaults={ticks:{callback:Z0.prototype.getLabelForValue}};class SD extends wg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Un(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const c=f=>i=t?i:f,u=f=>o=r?o:f;if(e){const f=gu(i),_=gu(o);f<0&&_<0?u(0):f>0&&_>0&&c(0)}if(i===o){let f=1;(o>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*o)),u(o+f),e||c(i-f)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:t,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const c=function IH(n,e){const t=[],{bounds:i,step:o,min:c,max:u,precision:f,count:_,maxTicks:w,maxDigits:I,includeBounds:S}=n,N=o||1,B=w-1,{min:j,max:ee}=e,fe=!Un(c),Re=!Un(u),Je=!Un(_),Ve=(ee-j)/(I+1);let lt,pt,Rt,Ft,Be=QP((ee-j)/B/N)*N;if(Be<1e-14&&!fe&&!Re)return[{value:j},{value:ee}];Ft=Math.ceil(ee/Be)-Math.floor(j/Be),Ft>B&&(Be=QP(Ft*Be/B/N)*N),Un(f)||(lt=Math.pow(10,f),Be=Math.ceil(Be*lt)/lt),"ticks"===i?(pt=Math.floor(j/Be)*Be,Rt=Math.ceil(ee/Be)*Be):(pt=j,Rt=ee),fe&&Re&&o&&function vV(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((u-c)/o,Be/1e3)?(Ft=Math.round(Math.min((u-c)/Be,w)),Be=(u-c)/Ft,pt=c,Rt=u):Je?(pt=fe?c:pt,Rt=Re?u:Rt,Ft=_-1,Be=(Rt-pt)/Ft):(Ft=(Rt-pt)/Be,Ft=x0(Ft,Math.round(Ft),Be/1e3)?Math.round(Ft):Math.ceil(Ft));const Jn=Math.max(JP(Be),JP(pt));lt=Math.pow(10,Un(f)?Jn:f),pt=Math.round(pt*lt)/lt,Rt=Math.round(Rt*lt)/lt;let Rn=0;for(fe&&(S&&pt!==c?(t.push({value:c}),pt<c&&Rn++,x0(Math.round((pt+Rn*Be)*lt)/lt,c,tN(c,Ve,n))&&Rn++):pt<c&&Rn++);Rn<Ft;++Rn)t.push({value:Math.round((pt+Rn*Be)*lt)/lt});return Re&&S&&Rt!==u?t.length&&x0(t[t.length-1].value,u,tN(u,Ve,n))?t[t.length-1].value=u:t.push({value:u}):(!Re||Rt===u)&&t.push({value:Rt}),t}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&XP(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return N0(e,this.chart.options.locale,this.options.ticks.format)}}class MD extends SD{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ai(e)?e:0,this.max=Ai(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=cc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function nN(n){return n/Math.pow(10,Math.floor(ml(n)))==1}MD.id="linear",MD.defaults={ticks:{callback:ED.formatters.numeric}};class UM extends wg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=SD.prototype.parse.apply(this,[e,t]);if(0!==r)return Ai(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ai(e)?Math.max(0,e):null,this.max=Ai(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const o=f=>r=e?r:f,c=f=>i=t?i:f,u=(f,_)=>Math.pow(10,Math.floor(ml(f))+_);r===i&&(r<=0?(o(1),c(10)):(o(u(r,-1)),c(u(i,1)))),r<=0&&o(u(i,-1)),i<=0&&c(u(r,1)),this._zero&&this.min!==this._suggestedMin&&r===u(this.min,0)&&o(u(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function DH(n,e){const t=Math.floor(ml(e.max)),r=Math.ceil(e.max/Math.pow(10,t)),i=[];let o=pl(n.min,Math.pow(10,Math.floor(ml(e.min)))),c=Math.floor(ml(o)),u=Math.floor(o/Math.pow(10,c)),f=c<0?Math.pow(10,Math.abs(c)):1;do{i.push({value:o,major:nN(o)}),++u,10===u&&(u=1,++c,f=c>=0?1:f),o=Math.round(u*Math.pow(10,c)*f)/f}while(c<t||c===t&&u<r);const _=pl(n.max,o);return i.push({value:_,major:nN(o)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&XP(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":N0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ml(e),this._valueRange=ml(this.max)-ml(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ml(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function jM(n){const e=n.ticks;if(e.display&&n.display){const t=io(e.backdropPadding);return cn(e.font&&e.font.size,Dn.font.size)+t.height}return 0}function TH(n,e,t){return t=Ir(t)?t:[t],{w:$V(n,e.string,t),h:t.length*e.lineHeight}}function rN(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function AH(n,e,t,r,i){const o=Math.abs(Math.sin(t)),c=Math.abs(Math.cos(t));let u=0,f=0;r.start<e.l?(u=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-u)):r.end>e.r&&(u=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+u)),i.start<e.t?(f=(e.t-i.start)/c,n.t=Math.min(n.t,e.t-f)):i.end>e.b&&(f=(i.end-e.b)/c,n.b=Math.max(n.b,e.b+f))}function MH(n){return 0===n||180===n?"center":n<180?"left":"right"}function OH(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function PH(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function iN(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,pr);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let c=1;c<r;c++)o=n.getPointPosition(c,e),i.lineTo(o.x,o.y)}}UM.id="logarithmic",UM.defaults={ticks:{callback:ED.formatters.logarithmic,major:{enabled:!0}}};class Qy extends SD{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=io(jM(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ai(e)&&!isNaN(e)?e:0,this.max=Ai(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jM(this.options))}generateTickLabels(e){SD.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=Dr(this.options.pointLabels.callback,[t,r],this);return i||0===i?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function xH(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,c=n.options.pointLabels,u=c.centerPointLabels?Gr/o:0;for(let f=0;f<o;f++){const _=c.setContext(n.getPointLabelContext(f));i[f]=_.padding;const w=n.getPointPosition(f,n.drawingArea+i[f],u),I=rs(_.font),S=TH(n.ctx,I,n._pointLabels[f]);r[f]=S;const N=La(n.getIndexAngle(f)+u),B=Math.round(iM(N));AH(t,e,N,rN(B,w.x,S.w,0,180),rN(B,w.y,S.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function SH(n,e,t){const r=[],i=n._pointLabels.length,o=n.options,c=jM(o)/2,u=n.drawingArea,f=o.pointLabels.centerPointLabels?Gr/i:0;for(let _=0;_<i;_++){const w=n.getPointPosition(_,u+c+t[_],f),I=Math.round(iM(La(w.angle+di))),S=e[_],N=PH(w.y,S.h,I),B=MH(I),j=OH(w.x,S.w,B);r.push({x:w.x,y:N,textAlign:B,left:j,top:N,right:j+S.w,bottom:N+S.h})}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return La(e*(pr/(this._pointLabels.length||1))+cc(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Un(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Un(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function NH(n,e,t){return Jh(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-di+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),iN(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i}=t,o=this._pointLabels.length;let c,u,f;if(t.pointLabels.display&&function RH(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const o=r.setContext(n.getPointLabelContext(i)),c=rs(o.font),{x:u,y:f,textAlign:_,left:w,top:I,right:S,bottom:N}=n._pointLabelItems[i],{backdropColor:B}=o;if(!Un(B)){const j=io(o.backdropPadding);t.fillStyle=B,t.fillRect(w-j.left,I-j.top,S-w+j.width,N-I+j.height)}yg(t,n._pointLabels[i],u,f+c.lineHeight/2,c,{color:o.color,textAlign:_,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach((_,w)=>{0!==w&&(u=this.getDistanceFromCenterForValue(_.value),function kH(n,e,t,r){const i=n.ctx,o=e.circular,{color:c,lineWidth:u}=e;!o&&!r||!c||!u||t<0||(i.save(),i.strokeStyle=c,i.lineWidth=u,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),iN(n,t,o,r),i.closePath(),i.stroke(),i.restore())}(this,i.setContext(this.getContext(w-1)),u,o))}),r.display){for(e.save(),c=o-1;c>=0;c--){const _=r.setContext(this.getPointLabelContext(c)),{color:w,lineWidth:I}=_;!I||!w||(e.lineWidth=I,e.strokeStyle=w,e.setLineDash(_.borderDash),e.lineDashOffset=_.borderDashOffset,u=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),f=this.getPointPosition(c,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,f)=>{if(0===f&&!t.reverse)return;const _=r.setContext(this.getContext(f)),w=rs(_.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),_.showLabelBackdrop){e.font=w.string,c=e.measureText(u.label).width,e.fillStyle=_.backdropColor;const I=io(_.backdropPadding);e.fillRect(-c/2-I.left,-o-w.size/2-I.top,c+I.width,w.size+I.height)}yg(e,u.label,0,-o,w,{color:_.color})}),e.restore()}drawTitle(){}}Qy.id="radialLinear",Qy.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ED.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},Qy.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Qy.descriptors={angleLines:{_fallback:"grid"}};const OD={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(OD);function LH(n,e){return n-e}function sN(n,e){if(Un(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let c=e;return"function"==typeof r&&(c=r(c)),Ai(c)||(c="string"==typeof r?t.parse(c,r):t.parse(c)),null===c?null:(i&&(c="week"!==i||!T0(o)&&!0!==o?t.startOf(c,i):t.startOf(c,"isoWeek",o)),+c)}function oN(n,e,t,r){const i=aa.length;for(let o=aa.indexOf(n);o<i-1;++o){const c=OD[aa[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(u*c.size))<=r)return aa[o]}return aa[i-1]}function aN(n,e,t){if(t){if(t.length){const{lo:r,hi:i}=gM(t,e);n[t[r]>=e?t[r]:t[i]]=!0}}else n[e]=!0}function lN(n,e,t){const r=[],i={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],i[u]=c,r.push({value:u,major:!1});return 0!==o&&t?function BH(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+i.add(u,1,r))f=t[u],f>=0&&(e[f].major=!0);return e}(n,r,i,t):r}let HM=(()=>{class n extends wg{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const i=t.time||(t.time={}),o=this._adapter=new fU._date(t.adapters.date);I0(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return void 0===t?null:sN(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,i=t.time.unit||"day";let{min:o,max:c,minDefined:u,maxDefined:f}=this.getUserBounds();function _(w){!u&&!isNaN(w.min)&&(o=Math.min(o,w.min)),!f&&!isNaN(w.max)&&(c=Math.max(c,w.max))}(!u||!f)&&(_(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&_(this.getMinMax(!1))),o=Ai(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),c=Ai(c)&&!isNaN(c)?c:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,c-1),this.max=Math.max(o+1,c)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){const t=this.options,r=t.time,i=t.ticks,o="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const c=this.min,f=function eB(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}(o,c,this.max);return this._unit=r.unit||(i.autoSkip?oN(r.minUnit,this.min,this.max,this._getLabelCapacity(c)):function FH(n,e,t,r,i){for(let o=aa.length-1;o>=aa.indexOf(t);o--){const c=aa[o];if(OD[c].common&&n._adapter.diff(i,r,c)>=e-1)return c}return aa[t?aa.indexOf(t):0]}(this,f.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function VH(n){for(let e=aa.indexOf(n)+1,t=aa.length;e<t;++e)if(OD[aa[e]].common)return aa[e]}(this._unit):void 0,this.initOffsets(o),t.reverse&&f.reverse(),lN(this,f,this._majorUnit)}initOffsets(t){let o,c,r=0,i=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),r=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,c=this.getDecimalForValue(t[t.length-1]),i=1===t.length?c:(c-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;r=Ds(r,0,u),i=Ds(i,0,u),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,r=this.min,i=this.max,o=this.options,c=o.time,u=c.unit||oN(c.minUnit,r,i,this._getLabelCapacity(r)),f=cn(c.stepSize,1),_="week"===u&&c.isoWeekday,w=T0(_)||!0===_,I={};let N,B,S=r;if(w&&(S=+t.startOf(S,"isoWeek",_)),S=+t.startOf(S,w?"day":u),t.diff(i,r,u)>1e5*f)throw new Error(r+" and "+i+" are too far apart with stepSize of "+f+" "+u);const j="data"===o.ticks.source&&this.getDataTimestamps();for(N=S,B=0;N<i;N=+t.add(N,f,u),B++)aN(I,N,j);return(N===i||"ticks"===o.bounds||1===B)&&aN(I,N,j),Object.keys(I).sort((ee,fe)=>ee-fe).map(ee=>+ee)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,r,i,o){const c=this.options,u=c.time.displayFormats,f=this._unit,_=this._majorUnit,I=_&&u[_],S=i[r],B=this._adapter.format(t,o||(_&&I&&S&&S.major?I:f&&u[f])),j=c.ticks.callback;return j?Dr(j,[B,r,i],this):B}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,i=this.ctx.measureText(t).width,o=cc(this.isHorizontal()?r.maxRotation:r.minRotation),c=Math.cos(o),u=Math.sin(o),f=this._resolveTickFontOptions(0).size;return{w:i*c+f*u,h:i*u+f*c}}_getLabelCapacity(t){const r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,c=this._tickFormatFunction(t,0,lN(this,[t],this._majorUnit),o),u=this._getLabelSize(c),f=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return f>0?f:1}getDataTimestamps(){let r,i,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,i;if(t.length)return t;const o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(sN(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yR(t.sort(LH))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function PD(n,e,t){let o,c,u,f,r=0,i=n.length-1;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=wd(n,"pos",e)),({pos:o,time:u}=n[r]),({pos:c,time:f}=n[i])):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=wd(n,"time",e)),({time:o,pos:u}=n[r]),({time:c,pos:f}=n[i]));const _=c-o;return _?u+(f-u)*(e-o)/_:u}class RD extends HM{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=PD(t,this.min),this._tableRange=PD(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let c,u,f,_,w;for(c=0,u=e.length;c<u;++c)_=e[c],_>=t&&_<=r&&i.push(_);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(c=0,u=i.length;c<u;++c)w=i[c+1],f=i[c-1],_=i[c],Math.round((w+f)/2)!==_&&o.push({time:_,pos:c/(u-1)});return o}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(PD(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return PD(this._table,r*this._tableRange+this._minPos,!0)}}RD.id="timeseries",RD.defaults=HM.defaults;const kD=function $H(n,e){return n===e||n!=n&&e!=e},ND=function zH(n,e){for(var t=n.length;t--;)if(kD(n[t][0],e))return t;return-1};var WH=Array.prototype.splice;function Xy(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Xy.prototype.clear=function jH(){this.__data__=[],this.size=0},Xy.prototype.delete=function qH(n){var e=this.__data__,t=ND(e,n);return!(t<0||(t==e.length-1?e.pop():WH.call(e,t,1),--this.size,0))},Xy.prototype.get=function ZH(n){var e=this.__data__,t=ND(e,n);return t<0?void 0:e[t][1]},Xy.prototype.has=function QH(n){return ND(this.__data__,n)>-1},Xy.prototype.set=function JH(n,e){var t=this.__data__,r=ND(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const LD=Xy,cN="object"==typeof global&&global&&global.Object===Object&&global;var u$="object"==typeof self&&self&&self.Object===Object&&self;const Jy=cN||u$||Function("return this")();var h$=Jy.Symbol,uN=Object.prototype,f$=uN.hasOwnProperty,p$=uN.toString,Y0=h$?h$.toStringTag:void 0;var _$=Object.prototype.toString;var dN=h$?h$.toStringTag:void 0;const VD=function C$(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":dN&&dN in Object(n)?function g$(n){var e=f$.call(n,Y0),t=n[Y0];try{n[Y0]=void 0;var r=!0}catch(o){}var i=p$.call(n);return r&&(e?n[Y0]=t:delete n[Y0]),i}(n):function v$(n){return _$.call(n)}(n)},Eg=function I$(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},$M=function S$(n){if(!Eg(n))return!1;var e=VD(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},zM=Jy["__core-js_shared__"];var hN=function(){var n=/[^.]+$/.exec(zM&&zM.keys&&zM.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var k$=Function.prototype.toString;var V$=/^\[object .+?Constructor\]$/,$$=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const G$=function z$(n){return!(!Eg(n)||function O$(n){return!!hN&&hN in n}(n))&&($M(n)?$$:V$).test(function N$(n){if(null!=n){try{return k$.call(n)}catch(e){}try{return n+""}catch(e){}}return""}(n))},GM=function K$(n,e){var t=function W$(n,e){return null==n?void 0:n[e]}(n,e);return G$(t)?t:void 0},fN=GM(Jy,"Map"),Q0=GM(Object,"create");var r3=Object.prototype.hasOwnProperty;var a3=Object.prototype.hasOwnProperty;function e_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}e_.prototype.clear=function Q$(){this.__data__=Q0?Q0(null):{},this.size=0},e_.prototype.delete=function J$(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},e_.prototype.get=function i3(n){var e=this.__data__;if(Q0){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return r3.call(e,n)?e[n]:void 0},e_.prototype.has=function l3(n){var e=this.__data__;return Q0?void 0!==e[n]:a3.call(e,n)},e_.prototype.set=function d3(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Q0&&void 0===e?"__lodash_hash_undefined__":e,this};const pN=e_,BD=function y3(n,e){var t=n.__data__;return function g3(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function t_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}t_.prototype.clear=function f3(){this.size=0,this.__data__={hash:new pN,map:new(fN||LD),string:new pN}},t_.prototype.delete=function _3(n){var e=BD(this,n).delete(n);return this.size-=e?1:0,e},t_.prototype.get=function b3(n){return BD(this,n).get(n)},t_.prototype.has=function E3(n){return BD(this,n).has(n)},t_.prototype.set=function I3(n,e){var t=BD(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const T3=t_;function n_(n){var e=this.__data__=new LD(n);this.size=e.size}n_.prototype.clear=function t$(){this.__data__=new LD,this.size=0},n_.prototype.delete=function r$(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},n_.prototype.get=function s$(n){return this.__data__.get(n)},n_.prototype.has=function a$(n){return this.__data__.has(n)},n_.prototype.set=function A3(n,e){var t=this.__data__;if(t instanceof LD){var r=t.__data__;if(!fN||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new T3(r)}return t.set(n,e),this.size=t.size,this};const M3=n_;var O3=function(){try{var n=GM(Object,"defineProperty");return n({},"",{}),n}catch(e){}}();const UD=O3,WM=function P3(n,e,t){"__proto__"==e&&UD?UD(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t},qM=function R3(n,e,t){(void 0!==t&&!kD(n[e],t)||void 0===t&&!(e in n))&&WM(n,e,t)};var N3=function k3(n){return function(e,t,r){for(var i=-1,o=Object(e),c=r(e),u=c.length;u--;){var f=c[n?u:++i];if(!1===t(o[f],f,o))break}return e}}();const L3=N3;var gN="object"==typeof exports&&exports&&!exports.nodeType&&exports,mN=gN&&"object"==typeof module&&module&&!module.nodeType&&module,yN=mN&&mN.exports===gN?Jy.Buffer:void 0,_N=yN?yN.allocUnsafe:void 0;const vN=Jy.Uint8Array,z3=function $3(n,e){var t=e?function j3(n){var e=new n.constructor(n.byteLength);return new vN(e).set(new vN(n)),e}(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)};var bN=Object.create,q3=function(){function n(){}return function(e){if(!Eg(e))return{};if(bN)return bN(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const K3=q3;var Y3=function Z3(n,e){return function(t){return n(e(t))}}(Object.getPrototypeOf,Object);const wN=Y3;var Q3=Object.prototype;const EN=function X3(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||Q3)},X0=function t5(n){return null!=n&&"object"==typeof n},CN=function r5(n){return X0(n)&&"[object Arguments]"==VD(n)};var IN=Object.prototype,i5=IN.hasOwnProperty,s5=IN.propertyIsEnumerable,o5=CN(function(){return arguments}())?CN:function(n){return X0(n)&&i5.call(n,"callee")&&!s5.call(n,"callee")};const KM=o5,ZM=Array.isArray,DN=function c5(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},YM=function u5(n){return null!=n&&DN(n.length)&&!$M(n)};var TN="object"==typeof exports&&exports&&!exports.nodeType&&exports,xN=TN&&"object"==typeof module&&module&&!module.nodeType&&module,AN=xN&&xN.exports===TN?Jy.Buffer:void 0;const SN=(AN?AN.isBuffer:void 0)||function f5(){return!1};var MN=Function.prototype.toString,w5=Object.prototype.hasOwnProperty,E5=MN.call(Object);var Nr={};Nr["[object Float32Array]"]=Nr["[object Float64Array]"]=Nr["[object Int8Array]"]=Nr["[object Int16Array]"]=Nr["[object Int32Array]"]=Nr["[object Uint8Array]"]=Nr["[object Uint8ClampedArray]"]=Nr["[object Uint16Array]"]=Nr["[object Uint32Array]"]=!0,Nr["[object Arguments]"]=Nr["[object Array]"]=Nr["[object ArrayBuffer]"]=Nr["[object Boolean]"]=Nr["[object DataView]"]=Nr["[object Date]"]=Nr["[object Error]"]=Nr["[object Function]"]=Nr["[object Map]"]=Nr["[object Number]"]=Nr["[object Object]"]=Nr["[object RegExp]"]=Nr["[object Set]"]=Nr["[object String]"]=Nr["[object WeakMap]"]=!1;var ON="object"==typeof exports&&exports&&!exports.nodeType&&exports,J0=ON&&"object"==typeof module&&module&&!module.nodeType&&module,QM=J0&&J0.exports===ON&&cN.process,ez=function(){try{return J0&&J0.require&&J0.require("util").types||QM&&QM.binding&&QM.binding("util")}catch(e){}}(),RN=ez&&ez.isTypedArray;const kN=RN?function Q5(n){return function(e){return n(e)}}(RN):function Z5(n){return X0(n)&&DN(n.length)&&!!Nr[VD(n)]},XM=function nz(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]};var iz=Object.prototype.hasOwnProperty;const oz=function sz(n,e,t){var r=n[e];(!iz.call(n,e)||!kD(r,t)||void 0===t&&!(e in n))&&WM(n,e,t)};var hz=/^(?:0|[1-9]\d*)$/;const NN=function fz(n,e){var t=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&hz.test(n))&&n>-1&&n%1==0&&n<e};var gz=Object.prototype.hasOwnProperty;const yz=function mz(n,e){var t=ZM(n),r=!t&&KM(n),i=!t&&!r&&SN(n),o=!t&&!r&&!i&&kN(n),c=t||r||i||o,u=c?function cz(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}(n.length,String):[],f=u.length;for(var _ in n)(e||gz.call(n,_))&&(!c||!("length"==_||i&&("offset"==_||"parent"==_)||o&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||NN(_,f)))&&u.push(_);return u};var wz=Object.prototype.hasOwnProperty;const Cz=function Ez(n){if(!Eg(n))return function _z(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=EN(n),t=[];for(var r in n)"constructor"==r&&(e||!wz.call(n,r))||t.push(r);return t},LN=function Iz(n){return YM(n)?yz(n,!0):Cz(n)},Tz=function Dz(n){return function az(n,e,t,r){var i=!t;t||(t={});for(var o=-1,c=e.length;++o<c;){var u=e[o],f=r?r(t[u],n[u],u,t,n):void 0;void 0===f&&(f=n[u]),i?WM(t,u,f):oz(t,u,f)}return t}(n,LN(n))},Az=function xz(n,e,t,r,i,o,c){var u=XM(n,t),f=XM(e,t),_=c.get(f);if(_)qM(n,t,_);else{var w=o?o(u,f,t+"",n,e,c):void 0,I=void 0===w;if(I){var S=ZM(f),N=!S&&SN(f),B=!S&&!N&&kN(f);w=f,S||N||B?ZM(u)?w=u:function d5(n){return X0(n)&&YM(n)}(u)?w=function G3(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}(u):N?(I=!1,w=function V3(n,e){if(e)return n.slice();var t=n.length,r=_N?_N(t):new n.constructor(t);return n.copy(r),r}(f,!0)):B?(I=!1,w=z3(f,!0)):w=[]:function C5(n){if(!X0(n)||"[object Object]"!=VD(n))return!1;var e=wN(n);if(null===e)return!0;var t=w5.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&MN.call(t)==E5}(f)||KM(f)?(w=u,KM(u)?w=Tz(u):(!Eg(u)||$M(u))&&(w=function J3(n){return"function"!=typeof n.constructor||EN(n)?{}:K3(wN(n))}(f))):I=!1}I&&(c.set(f,w),i(w,f,r,o,c),c.delete(f)),qM(n,t,w)}},Sz=function FN(n,e,t,r,i){n!==e&&L3(e,function(o,c){if(i||(i=new M3),Eg(o))Az(n,e,c,t,FN,r,i);else{var u=r?r(XM(n,c),o,c+"",n,e,i):void 0;void 0===u&&(u=o),qM(n,c,u)}},LN)},VN=function Mz(n){return n},Pz=function Oz(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var BN=Math.max;const Lz=function Nz(n){return function(){return n}};var Fz=UD?function(n,e){return UD(n,"toString",{configurable:!0,enumerable:!1,value:Lz(e),writable:!0})}:VN,jz=Date.now,$z=function Hz(n){var e=0,t=0;return function(){var r=jz(),i=16-(r-t);if(t=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(Fz);const zz=$z,Wz=function Gz(n,e){return zz(function Rz(n,e,t){return e=BN(void 0===e?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=BN(r.length-e,0),c=Array(o);++i<o;)c[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=t(c),Pz(n,this,u)}}(n,e,VN),n+"")};var Yz=function Zz(n){return Wz(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,c=i>2?t[2]:void 0;for(o=n.length>3&&"function"==typeof o?(i--,o):void 0,c&&function qz(n,e,t){if(!Eg(t))return!1;var r=typeof e;return!!("number"==r?YM(t)&&NN(e,t.length):"string"==r&&e in t)&&kD(t[e],n)}(t[0],t[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var u=t[r];u&&n(e,u,r,o)}return e})}(function(n,e,t){Sz(n,e,t)});const UN=Yz;let Qz=(()=>{class n{constructor(){this.colorschemesOptions=new k.X(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xz=(()=>{class n{constructor(t,r,i){this.element=t,this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new p.vpe,this.chartHover=new p.vpe,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,jE.x)()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(t){const r=["type"],i=Object.getOwnPropertyNames(t);if(i.some(o=>r.includes(o))||i.every(o=>t[o].isFirstChange()))this.render();else{const o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),Object.assign(this.chart.config.plugins,o.plugins),Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new z0(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>{var r;return null===(r=this.chart)||void 0===r?void 0:r.update(t)})}hideDataset(t,r){this.chart&&(this.chart.getDatasetMeta(t).hidden=r,this.update())}isDatasetHidden(t){var r,i;return null===(i=null===(r=this.chart)||void 0===r?void 0:r.getDatasetMeta(t))||void 0===i?void 0:i.hidden}toBase64Image(){var t;return null===(t=this.chart)||void 0===t?void 0:t.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return UN({onHover:(t,r)=>{this.chartHover.observed&&r&&!r.length||this.zone.run(()=>this.chartHover.emit({event:t,active:r}))},onClick:(t,r)=>{!this.chartClick.observed||this.zone.run(()=>this.chartClick.emit({event:t,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(Qz))},n.\u0275dir=p.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[p.TTD]}),n})();const Jz=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],e6={datasets:{line:{backgroundColor:n=>Ro(ko(n.datasetIndex),.4),borderColor:n=>Ro(ko(n.datasetIndex),1),pointBackgroundColor:n=>Ro(ko(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>Ro(ko(n.datasetIndex),.8)},bar:{backgroundColor:n=>Ro(ko(n.datasetIndex),.6),borderColor:n=>Ro(ko(n.datasetIndex),1),hoverBackgroundColor:n=>Ro(ko(n.datasetIndex),.8),hoverBorderColor:n=>Ro(ko(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Ro(ko(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>Ro(ko(n.dataIndex),1),hoverBorderColor:n=>Ro(ko(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Ro(ko(n.dataIndex),.6),borderColor:n=>Ro(ko(n.dataIndex),1),hoverBackgroundColor:n=>Ro(ko(n.dataIndex),.8),hoverBorderColor:n=>Ro(ko(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ro(n,e){return"rgba("+n.concat(e).join(",")+")"}function JM(n,e){return Math.floor(Math.random()*(e-n+1))+n}function ko(n=0){return Jz[n]||function t6(){return[JM(0,255),JM(0,255),JM(0,255)]}()}z0.register(qk,eN,$k,Wk,DM,W0,Rk,MD,Z0,QR,q0,IM,G0,tk,Qy,ek,JR,XR,nk,RD);let jN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n6=(()=>{class n{constructor(t){(null==t?void 0:t.plugins)&&z0.register(...null==t?void 0:t.plugins);const r=UN(e6,(null==t?void 0:t.defaults)||{});Dn.set(r)}static forRoot(t){return{ngModule:n,providers:[{provide:jN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(jN,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[]]}),n})();function r6(n,e){if(1&n&&(p.TgZ(0,"div",18)(1,"div",19)(2,"div",3)(3,"h1",20),p._uU(4,"Gr\xe1fica"),p.qZA(),p.TgZ(5,"div",21),p._UZ(6,"canvas",22),p.qZA()()()()),2&n){const t=p.oxw();p.xp6(6),p.Q6J("data",t.doughnutChartData)("type",t.doughnutChartType)("options",t.doughnutChartOptions)}}let i6=(()=>{class n{constructor(t){this.store=t,this.ingresosTotal=0,this.egresosTotal=0,this.ingresos=0,this.egresos=0,this.doughnutChartLabels=["Ingresos","Egresos"],this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[]},this.doughnutChartType="doughnut",this.doughnutChartOptions={responsive:!0,maintainAspectRatio:!1}}ngOnInit(){this.store.select("ingresoEgreso").subscribe(t=>{this.ingresos=0,this.ingresosTotal=0,this.egresos=0,this.egresosTotal=0,t.items.forEach(r=>{"Ingreso"===r.tipo?(this.ingresosTotal+=r.total,this.ingresos++):(this.egresosTotal+=r.total,this.egresos++)}),this.doughnutChartData.datasets.push({data:[this.ingresosTotal,this.egresosTotal],backgroundColor:["green","red"],borderColor:"black"})})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-estadistica"]],decls:48,vars:25,consts:[[1,"row"],[1,"col-6"],[1,"card","card-statistics"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"fa","fa-money-bill-alt","text-success","icon-lg"],[1,"float-right"],[1,"mb-0","text-right"],[1,"fluid-container"],[1,"font-weight-medium","text-right","mb-0"],[1,"text-muted","mt-3","mb-0"],["aria-hidden","true",1,"mdi","mdi-alert-octagon","mr-1"],[1,"fa","fa-shipping-fast","text-danger","icon-lg"],[1,"row","m-5"],[1,"col-12"],[1,"fa","fa-building","text-info","icon-lg"],["class","col-12 p-5",4,"ngIf"],[1,"col-12","p-5"],[1,"card","card-statistics",2,"width","400px","height","400px"],[1,"card-title"],[2,"display","block"],["baseChart","",3,"data","type","options"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),p._UZ(6,"i",6),p.qZA(),p.TgZ(7,"div",7)(8,"p",8),p._uU(9,"Ingresos"),p.qZA(),p.TgZ(10,"div",9)(11,"h3",10),p._uU(12),p.ALo(13,"currency"),p.qZA()()()(),p.TgZ(14,"p",11),p._UZ(15,"i",12),p._uU(16),p.qZA()()()(),p.TgZ(17,"div",1)(18,"div",2)(19,"div",3)(20,"div",4)(21,"div",5),p._UZ(22,"i",13),p.qZA(),p.TgZ(23,"div",7)(24,"p",8),p._uU(25,"Egresos"),p.qZA(),p.TgZ(26,"div",9)(27,"h3",10),p._uU(28),p.ALo(29,"currency"),p.qZA()()()(),p.TgZ(30,"p",11),p._UZ(31,"i",12),p._uU(32),p.qZA()()()()(),p.TgZ(33,"div",14)(34,"div",15)(35,"div",2)(36,"div",3)(37,"div",4)(38,"div",5),p._UZ(39,"i",16),p.qZA(),p.TgZ(40,"div",7)(41,"p",8),p._uU(42,"Diferencia"),p.qZA(),p.TgZ(43,"div",9)(44,"h3",10),p._uU(45),p.ALo(46,"currency"),p.qZA()()()()()()(),p.YNc(47,r6,7,3,"div",17),p.qZA()),2&t&&(p.xp6(12),p.Oqu(p.gM2(13,10,r.ingresosTotal,"EUR","symbol","1.0-0")),p.xp6(4),p.hij("",r.ingresos," ingresos "),p.xp6(12),p.Oqu(p.gM2(29,15,r.egresosTotal,"EUR","symbol","1.0-0")),p.xp6(4),p.hij("",r.egresos," egresos "),p.xp6(12),p.ekj("text-success",r.ingresosTotal-r.egresosTotal>=0)("text-danger",r.ingresosTotal-r.egresosTotal<0),p.xp6(1),p.hij(" ",p.gM2(46,20,r.ingresosTotal-r.egresosTotal,"EUR","symbol","1.0-0")," "),p.xp6(2),p.Q6J("ngIf",r.ingresos>0||r.egresos>0))},directives:[et,Xz],pipes:[Ms],styles:[""]}),n})();class s6{constructor(e,t,r,i){this.descripcion=e,this.total=t,this.tipo=r,this.uid=i}}function o6(n,e){1&n&&p._UZ(0,"i",15)}function a6(n,e){1&n&&p._UZ(0,"i",16)}const l6=[{path:"login",component:q2},{path:"register",component:J2},{path:"",component:rV,children:[{path:"",component:i6},{path:"ingreso-egreso",component:(()=>{class n{constructor(t,r,i){this.fb=t,this.ingresoEgresoService=r,this.store=i,this.tipo="Ingreso",this.cargando=!1,this.formIngresoEgreso=this.fb.group({descripcion:["",Eo.required],total:["",[Eo.required,Eo.min(1)]]})}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(t=>this.cargando=t.isLoading)}ngOnDestroy(){var t;null===(t=this.uiSubscription)||void 0===t||t.unsubscribe()}toggleIngresoEgresoButton(){this.tipo="Ingreso"===this.tipo?"Egreso":"Ingreso"}agregar(){if(this.formIngresoEgreso.invalid)return;this.store.dispatch(ch());const{descripcion:t,total:r}=this.formIngresoEgreso.value,i=new s6(t,r,this.tipo);this.ingresoEgresoService.crearIngresoEgreso(i).then(()=>{this.formIngresoEgreso.reset(),this.store.dispatch(Qc()),qu().fire("Registro guardado",t,"success")}).catch(o=>{this.store.dispatch(Qc()),qu().fire("Error",o.mesagge,"error")})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Cv),p.Y36(tM),p.Y36(_n.yh))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-ingreso-egreso"]],decls:32,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","descripcion","placeholder","Descripci\xf3n","name","descripcion",1,"form-control"],["type","number","formControlName","total","placeholder","total","name","total",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["type","submit",1,"btn","btn-success","mr-2",3,"disabled"],["class","fa fa-save",4,"ngIf"],["class","fa fa-spin fa-sync",4,"ngIf"],["type","reset",1,"btn","btn-light"],[1,"fa","fa-save"],[1,"fa","fa-spin","fa-sync"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),p._uU(5,"Agregar Ingreso / Egreso"),p.qZA(),p.TgZ(6,"p",5),p._uU(7," Especifique el monto y el tipo "),p.qZA(),p.TgZ(8,"form",6),p.NdJ("ngSubmit",function(){return r.agregar()}),p.TgZ(9,"div",7)(10,"label"),p._uU(11,"Descripci\xf3n"),p.qZA(),p._UZ(12,"input",8),p.qZA(),p.TgZ(13,"div",7)(14,"label"),p._uU(15,"Total"),p.qZA(),p._UZ(16,"input",9),p.TgZ(17,"p"),p._uU(18," Debe de ser un total positivo "),p.qZA()(),p.TgZ(19,"div",7)(20,"label"),p._uU(21,"Tipo"),p.qZA(),p._UZ(22,"br"),p.TgZ(23,"button",10),p.NdJ("click",function(){return r.toggleIngresoEgresoButton()}),p._uU(24),p.qZA()(),p._UZ(25,"hr"),p.TgZ(26,"button",11),p.YNc(27,o6,1,0,"i",12),p.YNc(28,a6,1,0,"i",13),p._uU(29," Agregar "),p.qZA(),p.TgZ(30,"button",14),p._uU(31,"Cancelar"),p.qZA()()()()()()),2&t&&(p.xp6(8),p.Q6J("formGroup",r.formIngresoEgreso),p.xp6(16),p.Oqu(r.tipo),p.xp6(2),p.Q6J("disabled",r.formIngresoEgreso.invalid),p.xp6(1),p.Q6J("ngIf",!r.cargando),p.xp6(1),p.Q6J("ngIf",r.cargando))},directives:[Wf,Yg,ah,nh,Zg,Gu,lv,et],styles:[""]}),n})()},{path:"detalle",component:oV}],canActivate:[(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(){return this.authService.isAuth().pipe((0,Li.b)(t=>{t||this.router.navigate(["/login"])}))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Gy),p.LFG(Ci))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",redirectTo:""}];let c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Vf.forRoot(l6)],Vf]}),n})();var u6=O(9565);const h6=(0,_n.Lq)({isLoading:!1},(0,_n.on)(ch,n=>Object.assign(Object.assign({},n),{isLoading:!0})),(0,_n.on)(Qc,n=>Object.assign(Object.assign({},n),{isLoading:!1}))),g6=(0,_n.Lq)({user:null},(0,_n.on)(Iv,(n,{user:e})=>Object.assign(Object.assign({},n),{user:Object.assign({},e)})),(0,_n.on)(nE,n=>Object.assign(Object.assign({},n),{user:null}))),_6=(0,_n.Lq)({items:[]},(0,_n.on)(rE,(n,{items:e})=>Object.assign(Object.assign({},n),{items:[...e]})),(0,_n.on)(iE,n=>Object.assign(Object.assign({},n),{items:[]}))),b6={ui:function f6(n,e){return h6(n,e)},auth:function m6(n,e){return g6(n,e)},ingresoEgreso:function v6(n,e){return _6(n,e)}};let w6=(()=>{class n{constructor(t){this.authService=t,this.authService.initAuthListener()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Gy))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p._UZ(1,"router-outlet"),p.qZA())},directives:[zc],styles:[""]}),n})(),E6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[w6]}),n.\u0275inj=p.cJS({providers:[],imports:[[Il,c6,eE,ka.hO.initializeApp(Ka_firebase),H2,XT,_n.Aw.forRoot(b6),u6.FT.instrument({maxAge:25,logOnly:true}),n6]]}),n})();(0,p.G48)(),Ec().bootstrapModule(E6).catch(n=>console.error(n))},5867:(ce,G,O)=>{"use strict";O.d(G,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=O(9681);(0,p.registerVersion)("firebase","9.6.8","app")},127:(ce,G,O)=>{"use strict";O.d(G,{Z:()=>p.Z});var p=O(3942);p.Z.registerVersion("firebase","9.6.8","app-compat")},3059:(ce,G,O)=>{"use strict";O.r(G);var p=O(5861),q=O(3942),F=O(2090),oe=O(9681),W=O(655),ue=O(1877),re=O(4859);const Ue=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ue.Yd("@firebase/auth");function je(v,...g){Pe.logLevel<=ue.in.ERROR&&Pe.error(`Auth (${oe.SDK_VERSION}): ${v}`,...g)}function ve(v,...g){throw ie(v,...g)}function Ie(v,...g){return ie(v,...g)}function ke(v,g,y){const E=Object.assign(Object.assign({},Ke()),{[g]:y});return new F.LL("auth","Firebase",E).create(g,{appName:v.name})}function ot(v,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&ve(v,"argument-error"),ke(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ie(v,...g){if("string"!=typeof v){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(y,...E)}return ae.create(v,...g)}function we(v,g,...y){if(!v)throw ie(g,...y)}function de(v){const g="INTERNAL ASSERTION FAILED: "+v;throw je(g),new Error(g)}function De(v,g){v||de(g)}const Se=new Map;function _e(v){De(v instanceof Function,"Expected a class definition");let g=Se.get(v);return g?(De(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Se.set(v,g),g)}function kt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function an(){return"http:"===er()||"https:"===er()}function er(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class pn{constructor(g,y){this.shortDelay=g,this.longDelay=y,De(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function yt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(an()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(v,g){De(v.emulator,"Emulator should always be set here");const{url:y}=v.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Tn{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tr=new pn(3e4,6e4);function un(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Wt(v,g,y,E){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(v,g,y,E,R={}){return ei(v,R,(0,p.Z)(function*(){let U={},he={};E&&("GET"===g?he=E:U={body:JSON.stringify(E)});const Ne=(0,F.xO)(Object.assign({key:v.config.apiKey},he)).slice(1),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/json",v.languageCode&&(at["X-Firebase-Locale"]=v.languageCode),Tn.fetch()(hi(v,v.config.apiHost,y,Ne),Object.assign({method:g,headers:at,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function ei(v,g,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(v,g,y){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},tn),g);try{const R=new cr(v),U=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const he=yield U.json();if("needConfirmation"in he)throw vn(v,"account-exists-with-different-credential",he);if(U.ok&&!("errorMessage"in he))return he;{const Ne=U.ok?he.errorMessage:he.error.message,[at,Ct]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw vn(v,"credential-already-in-use",he);if("EMAIL_EXISTS"===at)throw vn(v,"email-already-in-use",he);const $t=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw ke(v,$t,Ct);ve(v,$t)}}catch(R){if(R instanceof F.ZR)throw R;ve(v,"network-request-failed")}})).apply(this,arguments)}function nr(v,g,y,E){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,p.Z)(function*(v,g,y,E,R={}){const U=yield Wt(v,g,y,E,R);return"mfaPendingCredential"in U&&ve(v,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function hi(v,g,y,E){const R=`${g}${y}?${E}`;return v.config.emulator?ln(v.config,R):`${v.config.apiScheme}://${R}`}class cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Ie(this.auth,"network-request-failed")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(v,g,y){const E={appName:v.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const R=Ie(v,g,E);return R.customData._tokenResponse=y,R}function Fr(){return(Fr=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rn(v,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function is(v,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Pt(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Wr(){return(Wr=(0,p.Z)(function*(v,g=!1){const y=(0,F.m9)(v),E=yield y.getIdToken(g),R=ct(E);we(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const U="object"==typeof R.firebase?R.firebase:void 0,he=null==U?void 0:U.sign_in_provider;return{claims:R,token:E,authTime:Pt(Nt(R.auth_time)),issuedAtTime:Pt(Nt(R.iat)),expirationTime:Pt(Nt(R.exp)),signInProvider:he||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function Nt(v){return 1e3*Number(v)}function ct(v){const[g,y,E]=v.split(".");if(void 0===g||void 0===y||void 0===E)return je("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,F.tV)(y);return R?JSON.parse(R):(je("Failed to decode base64 JWT payload"),null)}catch(R){return je("Caught error parsing JWT payload as JSON",R),null}}function rr(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(v,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof F.ZR&&Yt(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Yt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class fi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,p.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,p.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class yr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pt(this.lastLoginAt),this.creationTime=Pt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(v){return Q.apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(v){var g;const y=v.auth,E=yield v.getIdToken(),R=yield rr(v,is(y,{idToken:E}));we(null==R?void 0:R.users.length,y,"internal-error");const U=R.users[0];v._notifyReloadListener(U);const he=(null===(g=U.providerUserInfo)||void 0===g?void 0:g.length)?Ee(U.providerUserInfo):[],Ne=be(v.providerData,he),$t=!!v.isAnonymous&&!(v.email&&U.passwordHash||(null==Ne?void 0:Ne.length)),At={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Ne,metadata:new yr(U.createdAt,U.lastLoginAt),isAnonymous:$t};Object.assign(v,At)})).apply(this,arguments)}function le(){return(le=(0,p.Z)(function*(v){const g=(0,F.m9)(v);yield ur(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function be(v,g){return[...v.filter(E=>!g.some(R=>R.providerId===E.providerId)),...g]}function Ee(v){return v.map(g=>{var{providerId:y}=g,E=(0,W._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ze(){return(ze=(0,p.Z)(function*(v,g){const y=yield ei(v,{},(0,p.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:R,apiKey:U}=v.config,he=hi(v,R,"/v1/token",`key=${U}`),Ne=yield v._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(he,{method:"POST",headers:Ne,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){we(g.idToken,"internal-error"),we(void 0!==g.idToken,"internal-error"),we(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Mt(v){const g=ct(v);return we(g,"internal-error"),we(void 0!==g.exp,"internal-error"),we(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,p.Z)(function*(){return we(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,p.Z)(function*(){const{accessToken:R,refreshToken:U,expiresIn:he}=yield function dt(v,g){return ze.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(R,U,Number(he))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:R,expirationTime:U}=y,he=new He;return E&&(we("string"==typeof E,"internal-error",{appName:g}),he.refreshToken=E),R&&(we("string"==typeof R,"internal-error",{appName:g}),he.accessToken=R),U&&(we("number"==typeof U,"internal-error",{appName:g}),he.expirationTime=U),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return de("not implemented")}}function rt(v,g){we("string"==typeof v||void 0===v,"internal-error",{appName:g})}class gt{constructor(g){var{uid:y,auth:E,stsTokenManager:R}=g,U=(0,W._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new yr(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,p.Z)(function*(){const E=yield rr(y,y.stsTokenManager.getToken(y.auth,g));return we(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function qn(v){return Wr.apply(this,arguments)}(this,g)}reload(){return function se(v){return le.apply(this,arguments)}(this)}_assign(g){this!==g&&(we(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new gt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,p.Z)(function*(){let R=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),R=!0),y&&(yield ur(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,p.Z)(function*(){const y=yield g.getIdToken();return yield rr(g,function Et(v,g){return Fr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,R,U,he,Ne,at,Ct,$t;const At=null!==(E=y.displayName)&&void 0!==E?E:void 0,hr=null!==(R=y.email)&&void 0!==R?R:void 0,Js=null!==(U=y.phoneNumber)&&void 0!==U?U:void 0,Hu=null!==(he=y.photoURL)&&void 0!==he?he:void 0,Wc=null!==(Ne=y.tenantId)&&void 0!==Ne?Ne:void 0,qc=null!==(at=y._redirectEventId)&&void 0!==at?at:void 0,kf=null!==(Ct=y.createdAt)&&void 0!==Ct?Ct:void 0,P_=null!==($t=y.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:tl,emailVerified:Yd,isAnonymous:Qd,providerData:Nf,stsTokenManager:Xd}=y;we(tl&&Xd,g,"internal-error");const Ci=He.fromJSON(this.name,Xd);we("string"==typeof tl,g,"internal-error"),rt(At,g.name),rt(hr,g.name),we("boolean"==typeof Yd,g,"internal-error"),we("boolean"==typeof Qd,g,"internal-error"),rt(Js,g.name),rt(Hu,g.name),rt(Wc,g.name),rt(qc,g.name),rt(kf,g.name),rt(P_,g.name);const Lf=new gt({uid:tl,auth:g,email:hr,emailVerified:Yd,displayName:At,isAnonymous:Qd,photoURL:Hu,phoneNumber:Js,tenantId:Wc,stsTokenManager:Ci,createdAt:kf,lastLoginAt:P_});return Nf&&Array.isArray(Nf)&&(Lf.providerData=Nf.map(Jd=>Object.assign({},Jd))),qc&&(Lf._redirectEventId=qc),Lf}static _fromIdTokenResponse(g,y,E=!1){return(0,p.Z)(function*(){const R=new He;R.updateFromServerResponse(y);const U=new gt({uid:y.localId,auth:g,stsTokenManager:R,isAnonymous:E});return yield ur(U),U})()}}const Tt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(y,E){var R=this;return(0,p.Z)(function*(){R.storage[y]=E})()}_get(y){var E=this;return(0,p.Z)(function*(){const R=E.storage[y];return void 0===R?null:R})()}_remove(y){var E=this;return(0,p.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return v.type="NONE",v})();function gn(v,g,y){return`firebase:${v}:${g}:${y}`}class Ln{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:R,name:U}=this.auth;this.fullUserKey=gn(this.userKey,R.apiKey,U),this.fullPersistenceKey=gn("persistence",R.apiKey,U),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,p.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?gt._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,p.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,p.Z)(function*(){if(!y.length)return new Ln(_e(Tt),g,E);const R=(yield Promise.all(y.map(function(){var Ct=(0,p.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let U=R[0]||_e(Tt);const he=gn(E,g.config.apiKey,g.name);let Ne=null;for(const Ct of y)try{const $t=yield Ct._get(he);if($t){const At=gt._fromJSON(g,$t);Ct!==U&&(Ne=At),U=Ct;break}}catch($t){}const at=R.filter(Ct=>Ct._shouldAllowMigration);return U._shouldAllowMigration&&at.length?(U=at[0],Ne&&(yield U._set(he,Ne.toJSON())),yield Promise.all(y.map(function(){var Ct=(0,p.Z)(function*($t){if($t!==U)try{yield $t._remove(he)}catch(At){}});return function($t){return Ct.apply(this,arguments)}}())),new Ln(U,g,E)):new Ln(U,g,E)})()}}function oo(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(zn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ao(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(pi(g))return"Blackberry";if(Kn(g))return"Webos";if(Lo(g))return"Safari";if((g.includes("chrome/")||Wi(g))&&!g.includes("edge/"))return"Chrome";if(Vr(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ao(v=(0,F.z$)()){return/firefox\//i.test(v)}function Lo(v=(0,F.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Wi(v=(0,F.z$)()){return/crios\//i.test(v)}function zn(v=(0,F.z$)()){return/iemobile/i.test(v)}function Vr(v=(0,F.z$)()){return/android/i.test(v)}function pi(v=(0,F.z$)()){return/blackberry/i.test(v)}function Kn(v=(0,F.z$)()){return/webos/i.test(v)}function Tr(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function Si(v=(0,F.z$)()){return Tr(v)||Vr(v)||Kn(v)||pi(v)||/windows phone/i.test(v)||zn(v)}function Gs(v,g=[]){let y;switch(v){case"Browser":y=oo((0,F.z$)());break;case"Worker":y=`${oo((0,F.z$)())}-${v}`;break;default:y=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${oe.SDK_VERSION}/${E}`}class Br{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qt(this),this.idTokenSubscription=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=_e(y)),this._initializationPromise=this.queue((0,p.Z)(function*(){var R,U;if(!E._deleted&&(E.persistenceManager=yield Ln.create(E,g),!E._deleted)){if(null===(R=E._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(he){}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(U=E.currentUser)||void 0===U?void 0:U.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,p.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,p.Z)(function*(){var E;let R=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const U=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,he=null==R?void 0:R._redirectEventId,Ne=yield y.tryRedirectSignIn(g);(!U||U===he)&&(null==Ne?void 0:Ne.user)&&(R=Ne.user)}return R?R._redirectEventId?(we(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===R._redirectEventId?y.directlySetCurrentUser(R):y.reloadAndSetCurrentUserOrClear(R)):y.reloadAndSetCurrentUserOrClear(R):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,p.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(R){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,p.Z)(function*(){try{yield ur(g)}catch(E){if("auth/network-request-failed"!==E.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Dt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,p.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,p.Z)(function*(){const E=g?(0,F.m9)(g):null;return E&&we(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,p.Z)(function*(){if(!y._deleted)return g&&we(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,p.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,p.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,p.Z)(function*(){yield y.assertedPersistence.setPersistence(_e(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,p.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(y);return null===g?R.removeCurrentUser():R.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,p.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&_e(g)||y._popupRedirectResolver;we(E,y,"argument-error"),y.redirectPersistenceManager=yield Ln.create(y,[_e(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,p.Z)(function*(){var E,R;return y._isInitialized&&(yield y.queue((0,p.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,p.Z)(function*(){if(g===y.currentUser)return y.queue((0,p.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,R){if(this._deleted)return()=>{};const U="function"==typeof y?y:y.next.bind(y),he=this._isInitialized?Promise.resolve():this._initializationPromise;return we(he,this,"internal-error"),he.then(()=>U(this.currentUser)),"function"==typeof y?g.addObserver(y,E,R):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,p.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,p.Z)(function*(){const y={"X-Client-Version":g.clientVersion};return g.app.options.appId&&(y["X-Firebase-gmpid"]=g.app.options.appId),y})()}}function nt(v){return(0,F.m9)(v)}class qt{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(y=>this.observer=y)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ur(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function On(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class jt{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,y){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function ss(v,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:resetPassword",un(v,g))})).apply(this,arguments)}function Gt(v,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xs(v,g){return X.apply(this,arguments)}function X(){return(X=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:update",un(v,g))})).apply(this,arguments)}function ge(){return(ge=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithPassword",un(v,g))})).apply(this,arguments)}function Te(v,g){return it.apply(this,arguments)}function it(){return(it=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:sendOobCode",un(v,g))})).apply(this,arguments)}function et(v,g){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(v,g){return Te(v,g)})).apply(this,arguments)}function ir(v,g){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(v,g){return Te(v,g)})).apply(this,arguments)}function Vn(v,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,p.Z)(function*(v,g){return Te(v,g)})).apply(this,arguments)}function ti(v,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(v,g){return Te(v,g)})).apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithEmailLink",un(v,g))})).apply(this,arguments)}function _l(){return(_l=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithEmailLink",un(v,g))})).apply(this,arguments)}class la extends jt{constructor(g,y,E,R=null){super("password",E),this._email=g,this._password=y,this._tenantId=R}static _fromEmailAndPassword(g,y){return new la(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new la(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,p.Z)(function*(){switch(y.signInMethod){case"password":return function $e(v,g){return ge.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Oi(v,g){return sr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:ve(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return Gt(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function yu(v,g){return _l.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:ve(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function dr(v,g){return dc.apply(this,arguments)}function dc(){return(dc=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithIdp",un(v,g))})).apply(this,arguments)}class As extends jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new As(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):ve("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:R}=y,U=(0,W._T)(y,["providerId","signInMethod"]);if(!E||!R)return null;const he=new As(E,R);return he.idToken=U.idToken||void 0,he.accessToken=U.accessToken||void 0,he.secret=U.secret,he.nonce=U.nonce,he.pendingToken=U.pendingToken||null,he}_getIdTokenResponse(g){return dr(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,dr(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,dr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,F.xO)(y)}return g}}function xd(v,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:sendVerificationCode",un(v,g))})).apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,g))})).apply(this,arguments)}function vl(){return(vl=(0,p.Z)(function*(v,g){const y=yield nr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,g));if(y.temporaryProof)throw vn(v,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Sd={USER_NOT_FOUND:"user-not-found"};function fc(){return(fc=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Sd)})).apply(this,arguments)}class Vo extends jt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Vo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Vo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Ad(v,g){return ca.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Pi(v,g){return vl.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Md(v,g){return fc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:R}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:R}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:U}=g;return E||y||R||U?new Vo({verificationId:y,verificationCode:E,phoneNumber:R,temporaryProof:U}):null}}class Ss{constructor(g){var y,E,R,U,he,Ne;const at=(0,F.zd)((0,F.pd)(g)),Ct=null!==(y=at.apiKey)&&void 0!==y?y:null,$t=null!==(E=at.oobCode)&&void 0!==E?E:null,At=function Od(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=at.mode)&&void 0!==R?R:null);we(Ct&&$t&&At,"argument-error"),this.apiKey=Ct,this.operation=At,this.code=$t,this.continueUrl=null!==(U=at.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(he=at.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(Ne=at.tenantId)&&void 0!==Ne?Ne:null}static parseLink(g){const y=function _u(v){const g=(0,F.zd)((0,F.pd)(v)).link,y=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||y||g||v}(g);try{return new Ss(y)}catch(E){return null}}}let ua=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(y,E){return la._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const R=Ss.parseLink(E);return we(R,"argument-error"),la._fromEmailAndCode(y,R.code,R.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class qs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ri extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ms extends Ri{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return we("providerId"in y&&"signInMethod"in y,"argument-error"),As._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return we(g.idToken||g.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ms.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ms.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:U,nonce:he,providerId:Ne}=g;if(!E&&!R&&!y&&!U||!Ne)return null;try{return new Ms(Ne)._credential({idToken:y,accessToken:E,nonce:he,pendingToken:U})}catch(at){return null}}}let Bo=(()=>{class v extends Ri{constructor(){super("facebook.com")}static credential(y){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),co=(()=>{class v extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:R}=y;if(!E&&!R)return null;try{return v.credential(E,R)}catch(U){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),pc=(()=>{class v extends Ri{constructor(){super("github.com")}static credential(y){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class uo extends jt{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return dr(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,dr(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,dr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:R,pendingToken:U}=y;return E&&R&&U&&E===R?new uo(E,U):null}static _create(g,y){return new uo(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends qs{constructor(g){we(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Os.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Os.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=uo.fromJSON(g);return we(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return uo._create(E,y)}catch(R){return null}}}let xr=(()=>{class v extends Ri{constructor(){super("twitter.com")}static credential(y,E){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=y;if(!E||!R)return null;try{return v.credential(E,R)}catch(U){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function mc(v,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signUp",un(v,g))})).apply(this,arguments)}class Kr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,R=!1){return(0,p.Z)(function*(){const U=yield gt._fromIdTokenResponse(g,E,R),he=yc(E);return new Kr({user:U,providerId:he,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,p.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const R=yc(E);return new Kr({user:g,providerId:R,_tokenResponse:E,operationType:y})})()}}function yc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Va(){return(Va=(0,p.Z)(function*(v){var g;const y=nt(v);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Kr({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield mc(y,{returnSecureToken:!0}),R=yield Kr._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ba extends F.ZR{constructor(g,y,E,R){var U;super(y.code,y.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,Ba.prototype),this.customData={appName:g.name,tenantId:null!==(U=g.tenantId)&&void 0!==U?U:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,R){return new Ba(g,y,E,R)}}function Ua(v,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(v):y._getIdTokenResponse(v)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?Ba._fromErrorAndOperation(v,U,g,E):U})}function bl(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function ja(){return(ja=(0,p.Z)(function*(v,g){const y=(0,F.m9)(v);yield Ks(!0,y,g);const{providerUserInfo:E}=yield rn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),R=bl(E||[]);return y.providerData=y.providerData.filter(U=>R.has(U.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function xn(v,g){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(v,g,y=!1){const E=yield rr(v,g._linkToIdToken(v.auth,yield v.getIdToken()),y);return Kr._forOperation(v,"link",E)})).apply(this,arguments)}function Ks(v,g,y){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(v,g,y){yield ur(g);const R=!1===v?"provider-already-linked":"no-such-provider";we(bl(g.providerData).has(y)===v,g.auth,R)})).apply(this,arguments)}function ha(v,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,p.Z)(function*(v,g,y=!1){const{auth:E}=v,R="reauthenticate";try{const U=yield rr(v,Ua(E,R,g,v),y);we(U.idToken,E,"internal-error");const he=ct(U.idToken);we(he,E,"internal-error");const{sub:Ne}=he;return we(v.uid===Ne,E,"user-mismatch"),Kr._forOperation(v,R,U)}catch(U){throw"auth/user-not-found"===(null==U?void 0:U.code)&&ve(E,"user-mismatch"),U}})).apply(this,arguments)}function os(v,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(v,g,y=!1){const E="signIn",R=yield Ua(v,E,g),U=yield Kr._fromIdTokenResponse(v,E,R);return y||(yield v._updateCurrentUser(U.user)),U})).apply(this,arguments)}function Ha(v,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(v,g){return os(nt(v),g)})).apply(this,arguments)}function mi(v,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(v,g){const y=(0,F.m9)(v);return yield Ks(!1,y,g.providerId),xn(y,g)})).apply(this,arguments)}function Uo(v,g){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(v,g){return ha((0,F.m9)(v),g)})).apply(this,arguments)}function $a(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,p.Z)(function*(v,g){return nr(v,"POST","/v1/accounts:signInWithCustomToken",un(v,g))})).apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(v,g){const y=nt(v),E=yield $a(y,{token:g,returnSecureToken:!0}),R=yield Kr._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ot{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?pa._fromServerResponse(g,y):ve(g,"internal-error")}}class pa extends Ot{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new pa(y)}}function ga(v,g,y){var E;we((null===(E=y.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),we(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(we(y.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(we(y.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function ma(){return(ma=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v),R={requestType:"PASSWORD_RESET",email:g};y&&ga(E,R,y),yield ir(E,R)})).apply(this,arguments)}function ya(){return(ya=(0,p.Z)(function*(v,g,y){yield ss((0,F.m9)(v),{oobCode:g,newPassword:y})})).apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(v,g){yield xs((0,F.m9)(v),{oobCode:g})})).apply(this,arguments)}function Jt(v,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,p.Z)(function*(v,g){const y=(0,F.m9)(v),E=yield ss(y,{oobCode:g}),R=E.requestType;switch(we(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(E.mfaInfo,y,"internal-error");default:we(E.email,y,"internal-error")}let U=null;return E.mfaInfo&&(U=Ot._fromServerResponse(nt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:U},operation:R}})).apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(v,g){const{data:y}=yield Jt((0,F.m9)(v),g);return y.email})).apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(v,g,y){const E=nt(v),R=yield mc(E,{returnSecureToken:!0,email:g,password:y}),U=yield Kr._fromIdTokenResponse(E,"signIn",R);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}function bc(){return(bc=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v),R={requestType:"EMAIL_SIGNIN",email:g};we(y.handleCodeInApp,E,"argument-error"),y&&ga(E,R,y),yield Vn(E,R)})).apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v),R=ua.credentialWithLink(g,y||kt());return we(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ha(E,R)})).apply(this,arguments)}function or(v,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:createAuthUri",un(v,g))})).apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(v,g){const E={identifier:g,continueUri:an()?kt():"http://localhost"},{signinMethods:R}=yield or((0,F.m9)(v),E);return R||[]})).apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(v,g){const y=(0,F.m9)(v),R={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&ga(y.auth,R,g);const{email:U}=yield et(y.auth,R);U!==v.email&&(yield v.reload())})).apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};y&&ga(E.auth,U,y);const{email:he}=yield ti(E.auth,U);he!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ec(v,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(v,g){return Wt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wa(){return(wa=(0,p.Z)(function*(v,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,F.m9)(v),U={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},he=yield rr(E,Ec(E.auth,U));E.displayName=he.displayName||null,E.photoURL=he.photoUrl||null;const Ne=E.providerData.find(({providerId:at})=>"password"===at);Ne&&(Ne.displayName=E.displayName,Ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(he)})).apply(this,arguments)}function Ea(v,g,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(v,g,y){const{auth:E}=v,U={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(U.email=g),y&&(U.password=y);const he=yield rr(v,Gt(E,U));yield v._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class po{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class Ic extends po{constructor(g,y,E,R){super(g,y,E),this.username=R}}class wu extends po{constructor(g,y){super(g,"facebook.com",y)}}class $o extends Ic{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class cs extends po{constructor(g,y){super(g,"google.com",y)}}class Dc extends Ic{constructor(g,y,E){super(g,"twitter.com",y,E)}}function Mr(v){const{user:g,_tokenResponse:y}=v;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Tl(v){var g,y;if(!v)return null;const{providerId:E}=v,R=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},U=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const he=null===(y=null===(g=ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(he)return new po(U,"anonymous"!==he&&"custom"!==he?he:null)}if(!E)return null;switch(E){case"facebook.com":return new wu(U,R);case"github.com":return new $o(U,R);case"google.com":return new cs(U,R);case"twitter.com":return new Dc(U,R,v.screenName||null);case"custom":case"anonymous":return new po(U,null);default:return new po(U,E,R)}}(y)}class us{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new us("enroll",g)}static _fromMfaPendingCredential(g){return new us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class go{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=nt(g),R=y.customData._serverResponse,U=(R.mfaInfo||[]).map(Ne=>Ot._fromServerResponse(E,Ne));we(R.mfaPendingCredential,E,"internal-error");const he=us._fromMfaPendingCredential(R.mfaPendingCredential);return new go(he,U,function(){var Ne=(0,p.Z)(function*(at){const Ct=yield at._process(E,he);delete R.mfaInfo,delete R.mfaPendingCredential;const $t=Object.assign(Object.assign({},R),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(y.operationType){case"signIn":const At=yield Kr._fromIdTokenResponse(E,y.operationType,$t);return yield E._updateCurrentUser(At.user),At;case"reauthenticate":return we(y.user,E,"internal-error"),Kr._forOperation(y.user,y.operationType,$t);default:ve(E,"internal-error")}});return function(at){return Ne.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,p.Z)(function*(){return y.signInResolver(g)})()}}function Wa(v,g){return Wt(v,"POST","/v2/accounts/mfaEnrollment:start",un(v,g))}class ii{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Ot._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new ii(g)}getSession(){var g=this;return(0,p.Z)(function*(){return us._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,p.Z)(function*(){const R=g,U=yield E.getSession(),he=yield rr(E.user,R._process(E.user.auth,U,y));return yield E.user._updateTokensIfNecessary(he),E.user.reload()})()}unenroll(g){var y=this;return(0,p.Z)(function*(){const E="string"==typeof g?g:g.uid,R=yield y.user.getIdToken(),U=yield rr(y.user,function Sl(v,g){return Wt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",un(v,g))}(y.user.auth,{idToken:R,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:he})=>he!==E),yield y.user._updateTokensIfNecessary(U);try{yield y.user.reload()}catch(he){if("auth/user-token-expired"!==he.code)throw he}})()}}const zo=new WeakMap,Ca="__sak";class Ia{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ca,"1"),this.storage.removeItem(Ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const T=(()=>{class v extends Ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qa(){const v=(0,F.z$)();return Lo(v)||Tr(v)}()&&function xt(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),U=this.localCache[E];R!==U&&y(E,U,R)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Ne,at,Ct)=>{this.notifyListeners(Ne,Ct)});const R=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(R);if(y.newValue!==Ne)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!E)return}const U=()=>{const Ne=this.storage.getItem(R);!E&&this.localCache[R]===Ne||this.notifyListeners(R,Ne)},he=this.storage.getItem(R);!function lo(){return(0,F.w1)()&&10===document.documentMode}()||he===y.newValue||y.newValue===y.oldValue?U():setTimeout(U,10)}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const U of Array.from(R))U(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var R=()=>super._set,U=this;return(0,p.Z)(function*(){yield R().call(U,y,E),U.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,R=this;return(0,p.Z)(function*(){const U=yield E().call(R,y);return R.localCache[y]=JSON.stringify(U),U})()}_remove(y){var E=()=>super._remove,R=this;return(0,p.Z)(function*(){yield E().call(R,y),delete R.localCache[y]})()}}return v.type="LOCAL",v})(),k=(()=>{class v extends Ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return v.type="SESSION",v})();let qe=(()=>{class v{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(U=>U.isListeningto(y));if(E)return E;const R=new v(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,p.Z)(function*(){const R=y,{eventId:U,eventType:he,data:Ne}=R.data,at=E.handlersMap[he];if(!(null==at?void 0:at.size))return;R.ports[0].postMessage({status:"ack",eventId:U,eventType:he});const Ct=Array.from(at).map(function(){var At=(0,p.Z)(function*(hr){return hr(R.origin,Ne)});return function(hr){return At.apply(this,arguments)}}()),$t=yield function Z(v){return Promise.all(v.map(function(){var g=(0,p.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(Ct);R.ports[0].postMessage({status:"done",eventId:U,eventType:he,response:$t})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function _t(v="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return v+y}class Gn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var R=this;return(0,p.Z)(function*(){const U="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let he,Ne;return new Promise((at,Ct)=>{const $t=_t("",20);U.port1.start();const At=setTimeout(()=>{Ct(new Error("unsupported_event"))},E);Ne={messageChannel:U,onMessage(hr){const Js=hr;if(Js.data.eventId===$t)switch(Js.data.status){case"ack":clearTimeout(At),he=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),at(Js.data.response);break;default:clearTimeout(At),clearTimeout(he),Ct(new Error("invalid_response"))}}},R.handlers.add(Ne),U.port1.addEventListener("message",Ne.onMessage),R.target.postMessage({eventType:g,eventId:$t,data:y},[U.port2])}).finally(()=>{Ne&&R.removeMessageHandler(Ne)})})()}}function nn(){return window}function yi(){return void 0!==nn().WorkerGlobalScope&&"function"==typeof nn().importScripts}function Ht(){return(Ht=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ac="firebaseLocalStorageDb",Ol="firebaseLocalStorage",_i="fbase_key";class Da{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Go(v,g){return v.transaction([Ol],g?"readwrite":"readonly").objectStore(Ol)}function vi(){const v=indexedDB.open(Ac,1);return new Promise((g,y)=>{v.addEventListener("error",()=>{y(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Ol,{keyPath:_i})}catch(R){y(R)}}),v.addEventListener("success",(0,p.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Ol)?g(E):(E.close(),yield function Sc(){const v=indexedDB.deleteDatabase(Ac);return new Da(v).toPromise()}(),g(yield vi()))}))})}function Mc(v,g,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,p.Z)(function*(v,g,y){const E=Go(v,!0).put({[_i]:g,value:y});return new Da(E).toPromise()})).apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(v,g){const y=Go(v,!1).get(g),E=yield new Da(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ta(v,g){const y=Go(v,!0).delete(g);return new Da(y).toPromise()}const Ns=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,p.Z)(function*(){return y.db||(y.db=yield vi()),y.db})()}_withRetries(y){var E=this;return(0,p.Z)(function*(){let R=0;for(;;)try{const U=yield E._openDb();return yield y(U)}catch(U){if(R++>3)throw U;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,p.Z)(function*(){return yi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,p.Z)(function*(){y.receiver=qe._getInstance(function Nd(){return yi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(R,U){return{keyProcessed:(yield y._poll()).includes(U.key)}});return function(R,U){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(R,U){return["keyChanged"]});return function(R,U){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,p.Z)(function*(){var E,R;if(y.activeServiceWorker=yield function ds(){return Ht.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Gn(y.activeServiceWorker);const U=yield y.sender._send("ping",{},800);!U||(null===(E=U[0])||void 0===E?void 0:E.fulfilled)&&(null===(R=U[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function kd(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const y=yield vi();return yield Mc(y,Ca,"1"),yield Ta(y,Ca),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var R=this;return(0,p.Z)(function*(){return R._withPendingWrite((0,p.Z)(function*(){return yield R._withRetries(U=>Mc(U,y,E)),R.localCache[y]=E,R.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,p.Z)(function*(){const R=yield E._withRetries(U=>function Pl(v,g){return qo.apply(this,arguments)}(U,y));return E.localCache[y]=R,R})()}_remove(y){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(R=>Ta(R,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,p.Z)(function*(){const E=yield y._withRetries(he=>{const Ne=Go(he,!1).getAll();return new Da(Ne).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const R=[],U=new Set;for(const{fbase_key:he,value:Ne}of E)U.add(he),JSON.stringify(y.localCache[he])!==JSON.stringify(Ne)&&(y.notifyListeners(he,Ne),R.push(he));for(const he of Object.keys(y.localCache))y.localCache[he]&&!U.has(he)&&(y.notifyListeners(he,null),R.push(he));return R})()}notifyListeners(y,E){this.localCache[y]=E;const R=this.listeners[y];if(R)for(const U of Array.from(R))U(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Za(v,g){return Wt(v,"POST","/v2/accounts/mfaSignIn:start",un(v,g))}function mo(){return(mo=(0,p.Z)(function*(v){return(yield Wt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yo(v){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=R=>{const U=Ie("internal-error");U.customData=R,y(U)},E.type="text/javascript",E.charset="UTF-8",function Oc(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function vr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class bi{constructor(g){this.auth=g,this.counter=Zi,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Zo(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||Zi;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Zi))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,p.Z)(function*(){var E;return null===(E=y._widgets.get(g||Zi))||void 0===E||E.execute(),""})()}}class Zo{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof g?document.getElementById(g):g;we(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qs(v){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pc=vr("rcb"),Rc=new pn(3e4,6e4);class of{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nn().grecaptcha}load(g,y=""){return we(function i_(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(nn().grecaptcha):new Promise((E,R)=>{const U=nn().setTimeout(()=>{R(Ie(g,"network-request-failed"))},Rc.get());nn()[Pc]=()=>{nn().clearTimeout(U),delete nn()[Pc];const Ne=nn().grecaptcha;if(!Ne)return void R(Ie(g,"internal-error"));const at=Ne.render;Ne.render=(Ct,$t)=>{const At=at(Ct,$t);return this.counter++,At},this.hostLanguage=y,E(Ne)},yo(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Pc,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(U),R(Ie(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!nn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nl{load(g){return(0,p.Z)(function*(){return new bi(g)})()}clearedOneInstance(){}}const Ni="recaptcha",Li={theme:"light",type:"image"};class af{constructor(g,y=Object.assign({},Li),E){this.parameters=y,this.type=Ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nt(E),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof g?document.getElementById(g):g;we(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nl:new of,this.validateStartingState()}verify(){var g=this;return(0,p.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(U=>{const he=Ne=>{!Ne||(g.tokenChangeListeners.delete(he),U(Ne))};g.tokenChangeListeners.add(he),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=nn()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,p.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,p.Z)(function*(){we(an()&&!yi(),g.auth,"internal-error"),yield function Yo(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Ls(v){return mo.apply(this,arguments)}(g.auth);we(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Vo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ar(){return(ar=(0,p.Z)(function*(v,g,y){const E=nt(v),R=yield Zr(E,g,(0,F.m9)(y));return new _o(R,U=>Ha(E,U))})).apply(this,arguments)}function xa(){return(xa=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v);yield Ks(!1,E,"phone");const R=yield Zr(E.auth,g,(0,F.m9)(y));return new _o(R,U=>mi(E,U))})).apply(this,arguments)}function Ll(){return(Ll=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v),R=yield Zr(E.auth,g,(0,F.m9)(y));return new _o(R,U=>Uo(E,U))})).apply(this,arguments)}function Zr(v,g,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(v,g,y){var E;const R=yield y.verify();try{let U;if(we("string"==typeof R,v,"argument-error"),we(y.type===Ni,v,"argument-error"),U="string"==typeof g?{phoneNumber:g}:g,"session"in U){const he=U.session;if("phoneNumber"in U)return we("enroll"===he.type,v,"internal-error"),(yield Wa(v,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{we("signin"===he.type,v,"internal-error");const Ne=(null===(E=U.multiFactorHint)||void 0===E?void 0:E.uid)||U.multiFactorUid;return we(Ne,v,"missing-multi-factor-info"),(yield Za(v,{mfaPendingCredential:he.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield xd(v,{phoneNumber:U.phoneNumber,recaptchaToken:R});return he}}finally{y._reset()}})).apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(v,g){yield xn((0,F.m9)(v),g)})).apply(this,arguments)}let Vs=(()=>{class v{constructor(y){this.providerId=v.PROVIDER_ID,this.auth=nt(y)}verifyPhoneNumber(y,E){return Zr(this.auth,y,(0,F.m9)(E))}static credential(y,E){return Vo._fromVerification(y,E)}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:R}=y;return E&&R?Vo._fromTokenResponse(E,R):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Xs(v,g){return g?_e(g):(we(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ld extends jt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return dr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return dr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return dr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Tg(v){return os(v.auth,new Ld(v),v.bypassAuthState)}function xg(v){const{auth:g,user:y}=v;return we(y,g,"internal-error"),ha(y,new Ld(v),v.bypassAuthState)}function sn(v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,p.Z)(function*(v){const{auth:g,user:y}=v;return we(y,g,"internal-error"),xn(y,new Ld(v),v.bypassAuthState)})).apply(this,arguments)}class Wn{constructor(g,y,E,R,U=!1){this.auth=g,this.resolver=E,this.user=R,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,p.Z)(function*(E,R){g.pendingPromise={resolve:E,reject:R};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(U){g.reject(U)}});return function(E,R){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:U,tenantId:he,error:Ne,type:at}=g;if(Ne)return void y.reject(Ne);const Ct={auth:y.auth,requestUri:E,sessionId:R,tenantId:he||void 0,postBody:U||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(at)(Ct))}catch($t){y.reject($t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tg;case"linkViaPopup":case"linkViaRedirect":return sn;case"reauthViaPopup":case"reauthViaRedirect":return xg;default:ve(this.auth,"internal-error")}}resolve(g){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vl=new pn(2e3,1e4);function Fd(){return(Fd=(0,p.Z)(function*(v,g,y){const E=nt(v);ot(v,g,qs);const R=Xs(E,y);return new Au(E,"signInViaPopup",g,R).executeNotNull()})).apply(this,arguments)}function Tu(){return(Tu=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v);ot(E.auth,g,qs);const R=Xs(E.auth,y);return new Au(E.auth,"reauthViaPopup",g,R,E).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v);ot(E.auth,g,qs);const R=Xs(E.auth,y);return new Au(E.auth,"linkViaPopup",g,R,E).executeNotNull()})).apply(this,arguments)}let Au=(()=>{class v extends Wn{constructor(y,E,R,U,he){super(y,E,U,he),this.provider=R,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var y=this;return(0,p.Z)(function*(){const E=yield y.execute();return we(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,p.Z)(function*(){De(1===y.filter.length,"Popup operations only handle one event");const E=_t();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(Ie(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,R;this.pollId=(null===(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Vl.get())};y()}}return v.currentPopupAction=null,v})();const Lc=new Map;class Pr extends Wn{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,p.Z)(function*(){let E=Lc.get(y.auth._key());if(!E){try{const U=(yield function hs(v,g){return A.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(U)}catch(R){E=()=>Promise.reject(R)}Lc.set(y.auth._key(),E)}return y.bypassAuthState||Lc.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const R=yield E.auth._redirectUserForId(g.eventId);if(R)return E.user=R,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function A(){return(A=(0,p.Z)(function*(v,g){const y=xe(g),E=ye(v);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(y));return yield E._remove(y),R})).apply(this,arguments)}function M(v,g){return V.apply(this,arguments)}function V(){return(V=(0,p.Z)(function*(v,g){return ye(v)._set(xe(g),"true")})).apply(this,arguments)}function ye(v){return _e(v._redirectPersistence)}function xe(v){return gn("pendingRedirect",v.config.apiKey,v.name)}function mt(){return(mt=(0,p.Z)(function*(v,g,y){const E=nt(v);ot(v,g,qs);const R=Xs(E,y);return yield M(R,E),R._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v);ot(E.auth,g,qs);const R=Xs(E.auth,y);yield M(R,E.auth);const U=yield Ya(E);return R._openRedirect(E.auth,g,"reauthViaRedirect",U)})).apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(v,g,y){const E=(0,F.m9)(v);ot(E.auth,g,qs);const R=Xs(E.auth,y);yield Ks(!1,E,g.providerId),yield M(R,E.auth);const U=yield Ya(E);return R._openRedirect(E.auth,g,"linkViaRedirect",U)})).apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(v,g){return yield nt(v)._initializationPromise,Bs(v,g,!1)})).apply(this,arguments)}function Bs(v,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,p.Z)(function*(v,g,y=!1){const E=nt(v),R=Xs(E,g),he=yield new Pr(E,R,y).execute();return he&&!y&&(delete he.user._redirectEventId,yield E._persistUserIfCurrent(he.user),yield E._setRedirectUser(null,g)),he})).apply(this,arguments)}function Ya(v){return ea.apply(this,arguments)}function ea(){return(ea=(0,p.Z)(function*(v){const g=_t(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Vc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Mu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vd(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Vd(g)){const R=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Ie(this.auth,R))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bc(g))}saveEventToCache(g){this.cachedEventUids.add(Bc(g)),this.lastProcessedEventTime=Date.now()}}function Bc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Vd({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ou(v){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,p.Z)(function*(v,g={}){return Wt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Ag=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s_=/^https?/;function bo(){return(bo=(0,p.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Ou(v);for(const y of g)try{if(Pu(y))return}catch(E){}ve(v,"unauthorized-domain")})).apply(this,arguments)}function Pu(v){const g=kt(),{protocol:y,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const he=new URL(v);return""===he.hostname&&""===E?"chrome-extension:"===y&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&he.hostname===E}if(!s_.test(y))return!1;if(Ag.test(v))return E===v;const R=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const a_=new pn(3e4,6e4);function l_(){const v=nn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let y=0;y<v.CP.length;y++)v.CP[y]=null}let Bd=null;function c_(v){return Bd=Bd||function Sg(v){return new Promise((g,y)=>{var E,R,U;function he(){l_(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{l_(),y(Ie(v,"network-request-failed"))},timeout:a_.get()})}if(null===(R=null===(E=nn().gapi)||void 0===E?void 0:E.iframes)||void 0===R?void 0:R.Iframe)g(gapi.iframes.getContext());else{if(!(null===(U=nn().gapi)||void 0===U?void 0:U.load)){const Ne=vr("iframefcb");return nn()[Ne]=()=>{gapi.load?he():y(Ie(v,"network-request-failed"))},yo(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(at=>y(at))}he()}}).catch(g=>{throw Bd=null,g})}(v),Bd}const lf=new pn(5e3,15e3),Sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(v){const g=v.config;we(g.authDomain,v,"auth-domain-config-required");const y=g.emulator?ln(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:oe.SDK_VERSION},R=Ud.get(v.config.apiHost);R&&(E.eid=R);const U=v._getFrameworks();return U.length&&(E.fw=U.join(",")),`${y}?${(0,F.xO)(E).slice(1)}`}function Qa(){return Qa=(0,p.Z)(function*(v){const g=yield c_(v),y=nn().gapi;return we(y,v,"internal-error"),g.open({where:document.body,url:jl(v),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sa,dontclear:!0},E=>new Promise(function(){var R=(0,p.Z)(function*(U,he){yield E.restyle({setHideOnLeave:!1});const Ne=Ie(v,"network-request-failed"),at=nn().setTimeout(()=>{he(Ne)},lf.get());function Ct(){nn().clearTimeout(at),U(E)}E.ping(Ct).then(Ct,()=>{he(Ne)})});return function(U,he){return R.apply(this,arguments)}}()))}),Qa.apply(this,arguments)}const d_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $d{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function hf(v,g,y,E,R,U){we(v.config.authDomain,v,"auth-domain-config-required"),we(v.config.apiKey,v,"invalid-api-key");const he={apiKey:v.config.apiKey,appName:v.name,authType:y,redirectUrl:E,v:oe.SDK_VERSION,eventId:R};if(g instanceof qs){g.setDefaultLanguage(v.languageCode),he.providerId=g.providerId||"",(0,F.xb)(g.getCustomParameters())||(he.customParameters=JSON.stringify(g.getCustomParameters()));for(const[at,Ct]of Object.entries(U||{}))he[at]=Ct}if(g instanceof Ri){const at=g.getScopes().filter(Ct=>""!==Ct);at.length>0&&(he.scopes=at.join(","))}v.tenantId&&(he.tid=v.tenantId);const Ne=he;for(const at of Object.keys(Ne))void 0===Ne[at]&&delete Ne[at];return`${function f_({config:v}){return v.emulator?ln(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(Ne).slice(1)}`}const ta="webStorageSupport";class ff extends class Mg{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ff(g)}_finalizeEnroll(g,y,E){return function Or(v,g){return Wt(v,"POST","/v2/accounts/mfaEnrollment:finalize",un(v,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Iu(v,g){return Wt(v,"POST","/v2/accounts/mfaSignIn:finalize",un(v,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let p_=(()=>{class v{constructor(){}static assertion(y){return ff._fromCredential(y)}}return v.FACTOR_ID="phone",v})();var g_="@firebase/auth";class Og{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,p.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var R;g((null===(R=E)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function na(){return window}function Hc(){return(Hc=(0,p.Z)(function*(v,g,y){var E;const{BuildInfo:R}=na();De(g.sessionId,"AuthEvent did not contain a session ID");const U=yield Hl(g.sessionId),he={};return Tr()?he.ibi=R.packageName:Vr()?he.apn=R.packageName:ve(v,"operation-not-supported-in-this-environment"),R.displayName&&(he.appDisplayName=R.displayName),he.sessionId=U,hf(v,y,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,he)})).apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(v){const{BuildInfo:g}=na(),y={};Tr()?y.iosBundleId=g.packageName:Vr()?y.androidPackageName=g.packageName:ve(v,"operation-not-supported-in-this-environment"),yield Ou(v,y)})).apply(this,arguments)}function Gd(){return(Gd=(0,p.Z)(function*(v,g,y){const{cordova:E}=na();let R=()=>{};try{yield new Promise((U,he)=>{let Ne=null;function at(){var At;U();const hr=null===(At=E.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof hr&&hr(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Ct(){Ne||(Ne=window.setTimeout(()=>{he(Ie(v,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===(null==document?void 0:document.visibilityState)&&Ct()}g.addPassiveListener(at),document.addEventListener("resume",Ct,!1),Vr()&&document.addEventListener("visibilitychange",$t,!1),R=()=>{g.removePassiveListener(at),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",$t,!1),Ne&&window.clearTimeout(Ne)}})}finally{R()}})).apply(this,arguments)}function Hl(v){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,p.Z)(function*(v){const g=$c(v),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $c(v){if(De(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),y=new Uint8Array(g);for(let E=0;E<v.length;E++)y[E]=v.charCodeAt(E);return y}!function y_(v){(0,oe._registerComponent)(new re.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),{apiKey:R,authDomain:U}=E.options;return(he=>{we(R&&!R.includes(":"),"invalid-api-key",{appName:he.name}),we(!(null==U?void 0:U.includes(":")),"argument-error",{appName:he.name});const Ne={apiKey:R,authDomain:U,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gs(v)},at=new Br(he,Ne);return function Me(v,g){const y=(null==g?void 0:g.persistence)||[],E=(Array.isArray(y)?y:[y]).map(_e);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(at,y),at})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",g=>{const y=nt(g.getProvider("auth").getImmediate());return new Og(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(g_,"0.19.9",function m_(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,oe.registerVersion)(g_,"0.19.9","esm2017")}("Browser");class _f extends Vc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,p.Z)(function*(){yield g.initPromise})()}}function Nu(v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,p.Z)(function*(v){const g=yield zc()._get(bf(v));return g&&(yield zc()._remove(bf(v))),g})).apply(this,arguments)}function Lu(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const E=Math.floor(Math.random()*g.length);v.push(g.charAt(E))}return v.join("")}function zc(){return _e(T)}function bf(v){return gn("authEvent",v.config.apiKey,v.name)}function qd(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...y]=v.split("?");return(0,F.zd)(y.join("?"))}function If(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function Kd(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Ng(v=(0,F.z$)()){return!("file:"!==Kd()&&"ionic:"!==Kd()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function wi(){try{const v=self.localStorage,g=_t();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Ma(v=(0,F.z$)()){return function E_(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function C_(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return el()&&(0,F.hl)()}return!1}function el(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bu(){return(function w_(){return"http:"===Kd()||"https:"===Kd()}()||(0,F.ru)()||Ng())&&!function Zd(){return(0,F.b$)()||(0,F.UG)()}()&&wi()&&!el()}function Df(){return Ng()&&"undefined"!=typeof document}function $l(){return($l=(0,p.Z)(function*(){return!!Df()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const js={LOCAL:"local",NONE:"none",SESSION:"session"},zl=we,xf="persistence";function Gl(v){return Af.apply(this,arguments)}function Af(){return(Af=(0,p.Z)(function*(v){yield v._initializationPromise;const g=Uu(),y=gn(xf,v.config.apiKey,v.name);g&&g.setItem(y,v._getPersistence())})).apply(this,arguments)}function Uu(){var v;try{return(null===(v=function Tf(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const I_=we;class gs{constructor(){this.browserResolver=_e(class Xa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k,this._completeRedirectFn=Bs}_openPopup(g,y,E,R){var U=this;return(0,p.Z)(function*(){var he;De(null===(he=U.eventManagers[g._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const Ne=hf(g,y,E,kt(),R);return function zd(v,g,y,E=500,R=600){const U=Math.max((window.screen.availHeight-R)/2,0).toString(),he=Math.max((window.screen.availWidth-E)/2,0).toString();let Ne="";const at=Object.assign(Object.assign({},d_),{width:E.toString(),height:R.toString(),top:U,left:he}),Ct=(0,F.z$)().toLowerCase();y&&(Ne=Wi(Ct)?"_blank":y),ao(Ct)&&(g=g||"http://localhost",at.scrollbars="yes");const $t=Object.entries(at).reduce((hr,[Js,Hu])=>`${hr}${Js}=${Hu},`,"");if(function Ts(v=(0,F.z$)()){var g;return Tr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ct)&&"_self"!==Ne)return function df(v,g){const y=document.createElement("a");y.href=v,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",Ne),new $d(null);const At=window.open(g||"",Ne,$t);we(At,v,"popup-blocked");try{At.focus()}catch(hr){}return new $d(At)}(g,Ne,_t())})()}_openRedirect(g,y,E,R){var U=this;return(0,p.Z)(function*(){return yield U._originValidation(g),function _r(v){nn().location.href=v}(hf(g,y,E,kt(),R)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:R,promise:U}=this.eventManagers[y];return R?Promise.resolve(R):(De(U,"If manager is not set, promise should be"),U)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,p.Z)(function*(){const E=yield function u_(v){return Qa.apply(this,arguments)}(g),R=new Vc(g);return E.register("authEvent",U=>(we(null==U?void 0:U.authEvent,g,"invalid-auth-event"),{status:R.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:R},y.iframes[g._key()]=E,R})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(ta,{type:ta},R=>{var U;const he=null===(U=null==R?void 0:R[0])||void 0===U?void 0:U[ta];void 0!==he&&y(!!he),ve(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function o_(v){return bo.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Si()||Lo()||Tr()}}),this.cordovaResolver=_e(class Cf{constructor(){this._redirectPersistence=k,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bs}_initialize(g){var y=this;return(0,p.Z)(function*(){const E=g._key();let R=y.eventManagers.get(E);return R||(R=new _f(g),y.eventManagers.set(E,R),y.attachCallbackListeners(g,R)),R})()}_openPopup(g){ve(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,E,R){var U=this;return(0,p.Z)(function*(){!function Wd(v){var g,y,E,R,U,he,Ne,at,Ct,$t;const At=na();we("function"==typeof(null===(g=null==At?void 0:At.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(y=null==At?void 0:At.BuildInfo)||void 0===y?void 0:y.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(U=null===(R=null===(E=null==At?void 0:At.cordova)||void 0===E?void 0:E.plugins)||void 0===R?void 0:R.browsertab)||void 0===U?void 0:U.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(at=null===(Ne=null===(he=null==At?void 0:At.cordova)||void 0===he?void 0:he.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===at?void 0:at.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===($t=null===(Ct=null==At?void 0:At.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===$t?void 0:$t.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const he=yield U._initialize(g);yield he.initialized(),he.resetRedirect(),function K(){Lc.clear()}(),yield U._originValidation(g);const Ne=function vf(v,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:Lu(),postBody:null,tenantId:v.tenantId,error:Ie(v,"no-auth-event")}}(g,E,R);yield function sw(v,g){return zc()._set(bf(v),g)}(g,Ne);const at=yield function gf(v,g,y){return Hc.apply(this,arguments)}(g,Ne,y),Ct=yield function ku(v){const{cordova:g}=na();return new Promise(y=>{g.plugins.browsertab.isAvailable(E=>{let R=null;E?g.plugins.browsertab.openUrl(v):R=g.InAppBrowser.open(v,function Fa(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),y(R)})})}(at);return function Pg(v,g,y){return Gd.apply(this,arguments)}(g,he,Ct)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function mf(v){return Us.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:E,handleOpenURL:R,BuildInfo:U}=na(),he=setTimeout((0,p.Z)(function*(){yield Nu(g),y.onEvent(If())}),500),Ne=function(){var $t=(0,p.Z)(function*(At){clearTimeout(he);const hr=yield Nu(g);let Js=null;hr&&(null==At?void 0:At.url)&&(Js=function v_(v,g){var y,E;const R=function Fu(v){const g=qd(v),y=g.link?decodeURIComponent(g.link):void 0,E=qd(y).link,R=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return qd(R).link||R||E||y||v}(g);if(R.includes("/__/auth/callback")){const U=qd(R),he=U.firebaseError?function wf(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(U.firebaseError)):null,Ne=null===(E=null===(y=null==he?void 0:he.code)||void 0===y?void 0:y.split("auth/"))||void 0===E?void 0:E[1],at=Ne?Ie(Ne):null;return at?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:at,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:R,postBody:null}}return null}(hr,At.url)),y.onEvent(Js||If())});return function(hr){return $t.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,Ne);const at=R,Ct=`${U.packageName.toLowerCase()}://`;na().handleOpenURL=function(){var $t=(0,p.Z)(function*(At){if(At.toLowerCase().startsWith(Ct)&&Ne({url:At}),"function"==typeof at)try{at(At)}catch(hr){console.error(hr)}});return function(At){return $t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k,this._completeRedirectFn=Bs}_initialize(g){var y=this;return(0,p.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,E,R){var U=this;return(0,p.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(g,y,E,R)})()}_openRedirect(g,y,E,R){var U=this;return(0,p.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(g,y,E,R)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Df()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return I_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,p.Z)(function*(){if(g.underlyingResolver)return;const y=yield function Vi(){return $l.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Vg(v){return v.unwrap()}function Wl(v){return Bg(v)}function Bg(v){const{_tokenResponse:g}=v instanceof F.ZR?v.customData:v;if(!g)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Vs.credentialFromResult(v);const y=g.providerId;if(!y||"password"===y)return null;let E;switch(y){case"google.com":E=co;break;case"facebook.com":E=Bo;break;case"github.com":E=pc;break;case"twitter.com":E=xr;break;default:const{oauthIdToken:R,oauthAccessToken:U,oauthTokenSecret:he,pendingToken:Ne,nonce:at}=g;return U||he||R||Ne?Ne?y.startsWith("saml.")?uo._create(y,Ne):As._fromParams({providerId:y,signInMethod:y,pendingToken:Ne,idToken:R,accessToken:U}):new Ms(y).credential({idToken:R,accessToken:U,rawNonce:at}):null}return v instanceof F.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function Ei(v,g){return g.catch(y=>{throw y instanceof F.ZR&&function T_(v,g){var y;const E=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new x_(v,function Al(v,g){var y;const E=(0,F.m9)(v),R=g;return we(g.customData.operationType,E,"argument-error"),we(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),go._fromError(E,R)}(v,g));else if(E){const R=Bg(g),U=g;R&&(U.credential=R,U.tenantId=E.tenantId||void 0,U.email=E.email||void 0,U.phoneNumber=E.phoneNumber||void 0)}}(v,y),y}).then(y=>{const R=y.user;return{operationType:y.operationType,credential:Wl(y),additionalUserInfo:Mr(y),user:Oa.getOrCreate(R)}})}function Sf(v,g){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,p.Z)(function*(v,g){const y=yield g;return{verificationId:y.verificationId,confirm:E=>Ei(v,y.confirm(E))}})).apply(this,arguments)}class x_{constructor(g,y){this.resolver=y,this.auth=function D_(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ei(Vg(this.auth),this.resolver.resolveSignIn(g))}}class Oa{constructor(g){this._delegate=g,this.multiFactor=function Pd(v){const g=(0,F.m9)(v);return zo.has(g)||zo.set(g,ii._fromUser(g)),zo.get(g)}(g)}static getOrCreate(g){return Oa.USER_MAP.has(g)||Oa.USER_MAP.set(g,new Oa(g)),Oa.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,p.Z)(function*(){return Ei(y.auth,mi(y._delegate,g))})()}linkWithPhoneNumber(g,y){var E=this;return(0,p.Z)(function*(){return Sf(E.auth,function Du(v,g,y){return xa.apply(this,arguments)}(E._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,p.Z)(function*(){return Ei(y.auth,function si(v,g,y){return xu.apply(this,arguments)}(y._delegate,g,gs))})()}linkWithRedirect(g){var y=this;return(0,p.Z)(function*(){return yield Gl(nt(y.auth)),function yn(v,g,y){return function jr(v,g,y){return fs.apply(this,arguments)}(v,g,y)}(y._delegate,g,gs)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,p.Z)(function*(){return Ei(y.auth,Uo(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return Sf(this.auth,function Dg(v,g,y){return Ll.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return Ei(this.auth,function Xo(v,g,y){return Tu.apply(this,arguments)}(this._delegate,g,gs))}reauthenticateWithRedirect(g){var y=this;return(0,p.Z)(function*(){return yield Gl(nt(y.auth)),function en(v,g,y){return function mn(v,g,y){return Vt.apply(this,arguments)}(v,g,y)}(y._delegate,g,gs)})()}sendEmailVerification(g){return function ki(v,g){return va.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,p.Z)(function*(){return yield function qi(v,g){return ja.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function Dl(v,g){return Ea((0,F.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Cc(v,g){return Ea((0,F.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Fl(v,g){return vo.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Il(v,g){return wa.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function wc(v,g,y){return ba.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oa.USER_MAP=new WeakMap;const ju=we;let Of=(()=>{class v{constructor(y,E){if(this.app=y,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=y.options;ju(R,"invalid-api-key",{appName:y.name}),ju(R,"invalid-api-key",{appName:y.name});const U="undefined"!=typeof window?gs:void 0;this._delegate=E.initialize({options:{persistence:A_(R,y.name),popupRedirectResolver:U}}),this._delegate._updateErrorMap(Ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,E){!function wn(v,g,y){const E=nt(v);we(E._canInitEmulator,E,"emulator-config-failed"),we(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),U=Ur(g),{host:he,port:Ne}=function gi(v){const g=Ur(v),y=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const U=R[1];return{host:U,port:On(E.substr(U.length+1))}}{const[U,he]=E.split(":");return{host:U,port:On(he)}}}(g);E.config.emulator={url:`${U}//${he}${null===Ne?"":`:${Ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:he,port:Ne,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Mi(){function v(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,y,E)}applyActionCode(y){return function bu(v,g){return We.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Jt(this._delegate,y)}confirmPasswordReset(y,E){return function wl(v,g,y){return ya.apply(this,arguments)}(this._delegate,y,E)}createUserWithEmailAndPassword(y,E){var R=this;return(0,p.Z)(function*(){return Ei(R._delegate,function _a(v,g,y){return ri.apply(this,arguments)}(R._delegate,y,E))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Cl(v,g){return ls.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Ga(v,g){const y=Ss.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,p.Z)(function*(){ju(Bu(),y._delegate,"operation-not-supported-in-this-environment");const E=yield function Bl(v,g){return ps.apply(this,arguments)}(y._delegate,gs);return E?Ei(y._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function kg(v,g){nt(v)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,E,R){const{next:U,error:he,complete:Ne}=Pf(y,E,R);return this._delegate.onAuthStateChanged(U,he,Ne)}onIdTokenChanged(y,E,R){const{next:U,error:he,complete:Ne}=Pf(y,E,R);return this._delegate.onIdTokenChanged(U,he,Ne)}sendSignInLinkToEmail(y,E){return function za(v,g,y){return bc.apply(this,arguments)}(this._delegate,y,E)}sendPasswordResetEmail(y,E){return function vc(v,g,y){return ma.apply(this,arguments)}(this._delegate,y,E||void 0)}setPersistence(y){var E=this;return(0,p.Z)(function*(){let R;switch(function Lg(v,g){zl(Object.values(js).includes(g),v,"invalid-persistence-type"),(0,F.b$)()?zl(g!==js.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?zl(g===js.NONE,v,"unsupported-persistence-type"):el()?zl(g===js.NONE||g===js.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):zl(g===js.NONE||wi(),v,"unsupported-persistence-type")}(E._delegate,y),y){case js.SESSION:R=k;break;case js.LOCAL:R=(yield _e(Ns)._isAvailable())?Ns:T;break;case js.NONE:R=Tt;break;default:return ve("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Ei(this._delegate,function _c(v){return Va.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Ei(this._delegate,Ha(this._delegate,y))}signInWithCustomToken(y){return Ei(this._delegate,function Ps(v,g){return Zs.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,E){return Ei(this._delegate,function El(v,g,y){return Ha((0,F.m9)(v),ua.credential(g,y))}(this._delegate,y,E))}signInWithEmailLink(y,E){return Ei(this._delegate,function Ho(v,g,y){return ho.apply(this,arguments)}(this._delegate,y,E))}signInWithPhoneNumber(y,E){return Sf(this._delegate,function kc(v,g,y){return ar.apply(this,arguments)}(this._delegate,y,E))}signInWithPopup(y){var E=this;return(0,p.Z)(function*(){return ju(Bu(),E._delegate,"operation-not-supported-in-this-environment"),Ei(E._delegate,function Qo(v,g,y){return Fd.apply(this,arguments)}(E._delegate,y,gs))})()}signInWithRedirect(y){var E=this;return(0,p.Z)(function*(){return ju(Bu(),E._delegate,"operation-not-supported-in-this-environment"),yield Gl(E._delegate),function tt(v,g,y){return function ft(v,g,y){return mt.apply(this,arguments)}(v,g,y)}(E._delegate,y,gs)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function $n(v,g){return Rs.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=js,v})();function Pf(v,g,y){let E=v;"function"!=typeof v&&({next:E,error:g,complete:y}=v);const R=E;return{next:he=>R(he&&Oa.getOrCreate(he)),error:g,complete:y}}function A_(v,g){const y=function Fg(v,g){const y=Uu();if(!y)return[];const E=gn(xf,v,g);switch(y.getItem(E)){case js.NONE:return[Tt];case js.LOCAL:return[Ns,k];case js.SESSION:return[k];default:return[]}}(v,g);if("undefined"!=typeof self&&!y.includes(Ns)&&y.push(Ns),"undefined"!=typeof window)for(const E of[T,k])y.includes(E)||y.push(E);return y.includes(Tt)||y.push(Tt),y}class Rf{constructor(){this.providerId="phone",this._delegate=new Vs(Vg(q.Z.auth()))}static credential(g,y){return Vs.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}Rf.PHONE_SIGN_IN_METHOD=Vs.PHONE_SIGN_IN_METHOD,Rf.PROVIDER_ID=Vs.PROVIDER_ID;const S_=we;class M_{constructor(g,y,E=q.Z.app()){var R;S_(null===(R=E.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new af(g,y,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ug(v){v.INTERNAL.registerComponent(new re.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new Of(y,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ua,FacebookAuthProvider:Bo,GithubAuthProvider:pc,GoogleAuthProvider:co,OAuthProvider:Ms,SAMLAuthProvider:Os,PhoneAuthProvider:Rf,PhoneMultiFactorGenerator:p_,RecaptchaVerifier:M_,TwitterAuthProvider:xr,Auth:Of,AuthCredential:jt,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.9")}(q.Z)},2940:function(ce,G){!function(O){"use strict";function p(ae){return Array.prototype.slice.call(ae)}function q(ae){return new Promise(function(me,Pe){ae.onsuccess=function(){me(ae.result)},ae.onerror=function(){Pe(ae.error)}})}function F(ae,me,Pe){var je,ve=new Promise(function(Ie,ke){q(je=ae[me].apply(ae,Pe)).then(Ie,ke)});return ve.request=je,ve}function oe(ae,me,Pe){var je=F(ae,me,Pe);return je.then(function(ve){if(ve)return new $(ve,je.request)})}function W(ae,me,Pe){Pe.forEach(function(je){Object.defineProperty(ae.prototype,je,{get:function(){return this[me][je]},set:function(ve){this[me][je]=ve}})})}function ue(ae,me,Pe,je){je.forEach(function(ve){ve in Pe.prototype&&(ae.prototype[ve]=function(){return F(this[me],ve,arguments)})})}function re(ae,me,Pe,je){je.forEach(function(ve){ve in Pe.prototype&&(ae.prototype[ve]=function(){return this[me][ve].apply(this[me],arguments)})})}function ne(ae,me,Pe,je){je.forEach(function(ve){ve in Pe.prototype&&(ae.prototype[ve]=function(){return oe(this[me],ve,arguments)})})}function Y(ae){this._index=ae}function $(ae,me){this._cursor=ae,this._request=me}function z(ae){this._store=ae}function J(ae){this._tx=ae,this.complete=new Promise(function(me,Pe){ae.oncomplete=function(){me()},ae.onerror=function(){Pe(ae.error)},ae.onabort=function(){Pe(ae.error)}})}function Oe(ae,me,Pe){this._db=ae,this.oldVersion=me,this.transaction=new J(Pe)}function Ae(ae){this._db=ae}W(Y,"_index",["name","keyPath","multiEntry","unique"]),ue(Y,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ne(Y,"_index",IDBIndex,["openCursor","openKeyCursor"]),W($,"_cursor",["direction","key","primaryKey","value"]),ue($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ae){ae in IDBCursor.prototype&&($.prototype[ae]=function(){var me=this,Pe=arguments;return Promise.resolve().then(function(){return me._cursor[ae].apply(me._cursor,Pe),q(me._request).then(function(je){if(je)return new $(je,me._request)})})})}),z.prototype.createIndex=function(){return new Y(this._store.createIndex.apply(this._store,arguments))},z.prototype.index=function(){return new Y(this._store.index.apply(this._store,arguments))},W(z,"_store",["name","keyPath","indexNames","autoIncrement"]),ue(z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ne(z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(z,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new z(this._tx.objectStore.apply(this._tx,arguments))},W(J,"_tx",["objectStoreNames","mode"]),re(J,"_tx",IDBTransaction,["abort"]),Oe.prototype.createObjectStore=function(){return new z(this._db.createObjectStore.apply(this._db,arguments))},W(Oe,"_db",["name","version","objectStoreNames"]),re(Oe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ae.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},W(Ae,"_db",["name","version","objectStoreNames"]),re(Ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ae){[z,Y].forEach(function(me){ae in me.prototype&&(me.prototype[ae.replace("open","iterate")]=function(){var Pe=p(arguments),je=Pe[Pe.length-1],ve=this._store||this._index,Ie=ve[ae].apply(ve,Pe.slice(0,-1));Ie.onsuccess=function(){je(Ie.result)}})})}),[Y,z].forEach(function(ae){ae.prototype.getAll||(ae.prototype.getAll=function(me,Pe){var je=this,ve=[];return new Promise(function(Ie){je.iterateCursor(me,function(ke){ke?(ve.push(ke.value),void 0===Pe||ve.length!=Pe?ke.continue():Ie(ve)):Ie(ve)})})})}),O.openDb=function Ue(ae,me,Pe){var je=F(indexedDB,"open",[ae,me]),ve=je.request;return ve&&(ve.onupgradeneeded=function(Ie){Pe&&Pe(new Oe(ve.result,Ie.oldVersion,ve.transaction))}),je.then(function(Ie){return new Ae(Ie)})},O.deleteDb=function Ke(ae){return F(indexedDB,"deleteDatabase",[ae])},Object.defineProperty(O,"__esModule",{value:!0})}(G)},1135:(ce,G,O)=>{"use strict";O.d(G,{X:()=>q});var p=O(7579);class q extends p.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const W=super._subscribe(oe);return!W.closed&&oe.next(this._value),W}getValue(){const{hasError:oe,thrownError:W,_value:ue}=this;if(oe)throw W;return this._throwIfClosed(),ue}next(oe){super.next(this._value=oe)}}},8306:(ce,G,O)=>{"use strict";O.d(G,{y:()=>$});var p=O(930),q=O(727),F=O(8822),oe=O(4671);var re=O(2416),ne=O(576),Y=O(2806);let $=(()=>{class Ae{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const ae=new Ae;return ae.source=this,ae.operator=Ke,ae}subscribe(Ke,ae,me){const Pe=function Oe(Ae){return Ae&&Ae instanceof p.Lv||function J(Ae){return Ae&&(0,ne.m)(Ae.next)&&(0,ne.m)(Ae.error)&&(0,ne.m)(Ae.complete)}(Ae)&&(0,q.Nn)(Ae)}(Ke)?Ke:new p.Hp(Ke,ae,me);return(0,Y.x)(()=>{const{operator:je,source:ve}=this;Pe.add(je?je.call(Pe,ve):ve?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(ae){Ke.error(ae)}}forEach(Ke,ae){return new(ae=z(ae))((me,Pe)=>{const je=new p.Hp({next:ve=>{try{Ke(ve)}catch(Ie){Pe(Ie),je.unsubscribe()}},error:Pe,complete:me});this.subscribe(je)})}_subscribe(Ke){var ae;return null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(Ke)}[F.L](){return this}pipe(...Ke){return function ue(Ae){return 0===Ae.length?oe.y:1===Ae.length?Ae[0]:function(Ke){return Ae.reduce((ae,me)=>me(ae),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=z(Ke))((ae,me)=>{let Pe;this.subscribe(je=>Pe=je,je=>me(je),()=>ae(Pe))})}}return Ae.create=Ue=>new Ae(Ue),Ae})();function z(Ae){var Ue;return null!==(Ue=null!=Ae?Ae:re.v.Promise)&&void 0!==Ue?Ue:Promise}},4707:(ce,G,O)=>{"use strict";O.d(G,{t:()=>F});var p=O(7579),q=O(6063);class F extends p.x{constructor(W=1/0,ue=1/0,re=q.l){super(),this._bufferSize=W,this._windowTime=ue,this._timestampProvider=re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,ue)}next(W){const{isStopped:ue,_buffer:re,_infiniteTimeWindow:ne,_timestampProvider:Y,_windowTime:$}=this;ue||(re.push(W),!ne&&re.push(Y.now()+$)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(W),{_infiniteTimeWindow:re,_buffer:ne}=this,Y=ne.slice();for(let $=0;$<Y.length&&!W.closed;$+=re?1:2)W.next(Y[$]);return this._checkFinalizedStatuses(W),ue}_trimBuffer(){const{_bufferSize:W,_timestampProvider:ue,_buffer:re,_infiniteTimeWindow:ne}=this,Y=(ne?1:2)*W;if(W<1/0&&Y<re.length&&re.splice(0,re.length-Y),!ne){const $=ue.now();let z=0;for(let J=1;J<re.length&&re[J]<=$;J+=2)z=J;z&&re.splice(0,z+1)}}}},7579:(ce,G,O)=>{"use strict";O.d(G,{x:()=>re});var p=O(8306),q=O(727);const oe=(0,O(3888).d)(Y=>function(){Y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=O(8737),ue=O(2806);let re=(()=>{class Y extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const J=new ne(this,this);return J.operator=z,J}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(z)}})}error(z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:J}=this;for(;J.length;)J.shift().error(z)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:J,isStopped:Oe,observers:Ae}=this;return J||Oe?q.Lc:(this.currentObservers=null,Ae.push(z),new q.w0(()=>{this.currentObservers=null,(0,W.P)(Ae,z)}))}_checkFinalizedStatuses(z){const{hasError:J,thrownError:Oe,isStopped:Ae}=this;J?z.error(Oe):Ae&&z.complete()}asObservable(){const z=new p.y;return z.source=this,z}}return Y.create=($,z)=>new ne($,z),Y})();class ne extends re{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,J;null===(J=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===J||J.call(z,$)}error($){var z,J;null===(J=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===J||J.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,J;return null!==(J=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==J?J:q.Lc}}},930:(ce,G,O)=>{"use strict";O.d(G,{Hp:()=>Ke,Lv:()=>J});var p=O(576),q=O(727),F=O(2416),oe=O(7849),W=O(5032);const ue=Y("C",void 0,void 0);function Y(ve,Ie,ke){return{kind:ve,value:Ie,error:ke}}var $=O(3410),z=O(2806);class J extends q.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,q.Nn)(Ie)&&Ie.add(this)):this.destination=je}static create(Ie,ke,ot){return new Ke(Ie,ke,ot)}next(Ie){this.isStopped?Pe(function ne(ve){return Y("N",ve,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Pe(function re(ve){return Y("E",void 0,ve)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Pe(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ae(ve,Ie){return Oe.call(ve,Ie)}class Ue{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Ie)}catch(ot){ae(ot)}}error(Ie){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Ie)}catch(ot){ae(ot)}else ae(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(ke){ae(ke)}}}class Ke extends J{constructor(Ie,ke,ot){let ie;if(super(),(0,p.m)(Ie)||!Ie)ie={next:null!=Ie?Ie:void 0,error:null!=ke?ke:void 0,complete:null!=ot?ot:void 0};else{let we;this&&F.v.useDeprecatedNextContext?(we=Object.create(Ie),we.unsubscribe=()=>this.unsubscribe(),ie={next:Ie.next&&Ae(Ie.next,we),error:Ie.error&&Ae(Ie.error,we),complete:Ie.complete&&Ae(Ie.complete,we)}):ie=Ie}this.destination=new Ue(ie)}}function ae(ve){F.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(ve):(0,oe.h)(ve)}function Pe(ve,Ie){const{onStoppedNotification:ke}=F.v;ke&&$.z.setTimeout(()=>ke(ve,Ie))}const je={closed:!0,next:W.Z,error:function me(ve){throw ve},complete:W.Z}},727:(ce,G,O)=>{"use strict";O.d(G,{Lc:()=>ue,w0:()=>W,Nn:()=>re});var p=O(576);const F=(0,O(3888).d)(Y=>function(z){Y(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((J,Oe)=>`${Oe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=O(8737);class W{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ae of z)Ae.remove(this);else z.remove(this);const{initialTeardown:J}=this;if((0,p.m)(J))try{J()}catch(Ae){$=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ae of Oe)try{ne(Ae)}catch(Ue){$=null!=$?$:[],Ue instanceof F?$=[...$,...Ue.errors]:$.push(Ue)}}if($)throw new F($)}}add($){var z;if($&&$!==this)if(this.closed)ne($);else{if($ instanceof W){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,oe.P)(z,$),$ instanceof W&&$._removeParent(this)}}W.EMPTY=(()=>{const Y=new W;return Y.closed=!0,Y})();const ue=W.EMPTY;function re(Y){return Y instanceof W||Y&&"closed"in Y&&(0,p.m)(Y.remove)&&(0,p.m)(Y.add)&&(0,p.m)(Y.unsubscribe)}function ne(Y){(0,p.m)(Y)?Y():Y.unsubscribe()}},2416:(ce,G,O)=>{"use strict";O.d(G,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ce,G,O)=>{"use strict";O.d(G,{E:()=>q});const q=new(O(8306).y)(W=>W.complete())},8996:(ce,G,O)=>{"use strict";O.d(G,{D:()=>Ie});var p=O(8421),q=O(5363),F=O(9468),ue=O(8306),ne=O(2202),Y=O(576),$=O(9672);function J(ke,ot){if(!ke)throw new Error("Iterable cannot be null");return new ue.y(ie=>{(0,$.f)(ie,ot,()=>{const we=ke[Symbol.asyncIterator]();(0,$.f)(ie,ot,()=>{we.next().then(de=>{de.done?ie.complete():ie.next(de.value)})},0,!0)})})}var Oe=O(3670),Ae=O(8239),Ue=O(1144),Ke=O(6495),ae=O(2206),me=O(4532),Pe=O(3260);function Ie(ke,ot){return ot?function ve(ke,ot){if(null!=ke){if((0,Oe.c)(ke))return function oe(ke,ot){return(0,p.Xf)(ke).pipe((0,F.R)(ot),(0,q.Q)(ot))}(ke,ot);if((0,Ue.z)(ke))return function re(ke,ot){return new ue.y(ie=>{let we=0;return ot.schedule(function(){we===ke.length?ie.complete():(ie.next(ke[we++]),ie.closed||this.schedule())})})}(ke,ot);if((0,Ae.t)(ke))return function W(ke,ot){return(0,p.Xf)(ke).pipe((0,F.R)(ot),(0,q.Q)(ot))}(ke,ot);if((0,ae.D)(ke))return J(ke,ot);if((0,Ke.T)(ke))return function z(ke,ot){return new ue.y(ie=>{let we;return(0,$.f)(ie,ot,()=>{we=ke[ne.h](),(0,$.f)(ie,ot,()=>{let de,De;try{({value:de,done:De}=we.next())}catch(Se){return void ie.error(Se)}De?ie.complete():ie.next(de)},0,!0)}),()=>(0,Y.m)(null==we?void 0:we.return)&&we.return()})}(ke,ot);if((0,Pe.L)(ke))return function je(ke,ot){return J((0,Pe.Q)(ke),ot)}(ke,ot)}throw(0,me.z)(ke)}(ke,ot):(0,p.Xf)(ke)}},8421:(ce,G,O)=>{"use strict";O.d(G,{Xf:()=>Oe});var p=O(655),q=O(1144),F=O(8239),oe=O(8306),W=O(3670),ue=O(2206),re=O(4532),ne=O(6495),Y=O(3260),$=O(576),z=O(7849),J=O(8822);function Oe(ve){if(ve instanceof oe.y)return ve;if(null!=ve){if((0,W.c)(ve))return function Ae(ve){return new oe.y(Ie=>{const ke=ve[J.L]();if((0,$.m)(ke.subscribe))return ke.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,q.z)(ve))return function Ue(ve){return new oe.y(Ie=>{for(let ke=0;ke<ve.length&&!Ie.closed;ke++)Ie.next(ve[ke]);Ie.complete()})}(ve);if((0,F.t)(ve))return function Ke(ve){return new oe.y(Ie=>{ve.then(ke=>{Ie.closed||(Ie.next(ke),Ie.complete())},ke=>Ie.error(ke)).then(null,z.h)})}(ve);if((0,ue.D)(ve))return me(ve);if((0,ne.T)(ve))return function ae(ve){return new oe.y(Ie=>{for(const ke of ve)if(Ie.next(ke),Ie.closed)return;Ie.complete()})}(ve);if((0,Y.L)(ve))return function Pe(ve){return me((0,Y.Q)(ve))}(ve)}throw(0,re.z)(ve)}function me(ve){return new oe.y(Ie=>{(function je(ve,Ie){var ke,ot,ie,we;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ke=(0,p.KL)(ve);!(ot=yield ke.next()).done;)if(Ie.next(ot.value),Ie.closed)return}catch(de){ie={error:de}}finally{try{ot&&!ot.done&&(we=ke.return)&&(yield we.call(ke))}finally{if(ie)throw ie.error}}Ie.complete()})})(ve,Ie).catch(ke=>Ie.error(ke))})}},6451:(ce,G,O)=>{"use strict";O.d(G,{T:()=>ue});var p=O(8189),q=O(8421),F=O(515),oe=O(7669),W=O(8996);function ue(...re){const ne=(0,oe.yG)(re),Y=(0,oe._6)(re,1/0),$=re;return $.length?1===$.length?(0,q.Xf)($[0]):(0,p.J)(Y)((0,W.D)($,ne)):F.E}},9646:(ce,G,O)=>{"use strict";O.d(G,{of:()=>F});var p=O(7669),q=O(8996);function F(...oe){const W=(0,p.yG)(oe);return(0,q.D)(oe,W)}},5403:(ce,G,O)=>{"use strict";O.d(G,{x:()=>q});var p=O(930);function q(oe,W,ue,re,ne){return new F(oe,W,ue,re,ne)}class F extends p.Lv{constructor(W,ue,re,ne,Y,$){super(W),this.onFinalize=Y,this.shouldUnsubscribe=$,this._next=ue?function(z){try{ue(z)}catch(J){W.error(J)}}:super._next,this._error=ne?function(z){try{ne(z)}catch(J){W.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){W.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},262:(ce,G,O)=>{"use strict";O.d(G,{K:()=>oe});var p=O(8421),q=O(5403),F=O(4482);function oe(W){return(0,F.e)((ue,re)=>{let $,ne=null,Y=!1;ne=ue.subscribe((0,q.x)(re,void 0,void 0,z=>{$=(0,p.Xf)(W(z,oe(W)(ue))),ne?(ne.unsubscribe(),ne=null,$.subscribe(re)):Y=!0})),Y&&(ne.unsubscribe(),ne=null,$.subscribe(re))})}},4351:(ce,G,O)=>{"use strict";O.d(G,{b:()=>F});var p=O(5577),q=O(576);function F(oe,W){return(0,q.m)(W)?(0,p.z)(oe,W,1):(0,p.z)(oe,1)}},8372:(ce,G,O)=>{"use strict";O.d(G,{b:()=>oe});var p=O(4986),q=O(4482),F=O(5403);function oe(W,ue=p.z){return(0,q.e)((re,ne)=>{let Y=null,$=null,z=null;const J=()=>{if(Y){Y.unsubscribe(),Y=null;const Ae=$;$=null,ne.next(Ae)}};function Oe(){const Ae=z+W,Ue=ue.now();if(Ue<Ae)return Y=this.schedule(void 0,Ae-Ue),void ne.add(Y);J()}re.subscribe((0,F.x)(ne,Ae=>{$=Ae,z=ue.now(),Y||(Y=ue.schedule(Oe,W),ne.add(Y))},()=>{J(),ne.complete()},void 0,()=>{$=Y=null}))})}},1884:(ce,G,O)=>{"use strict";O.d(G,{x:()=>oe});var p=O(4671),q=O(4482),F=O(5403);function oe(ue,re=p.y){return ue=null!=ue?ue:W,(0,q.e)((ne,Y)=>{let $,z=!0;ne.subscribe((0,F.x)(Y,J=>{const Oe=re(J);(z||!ue($,Oe))&&(z=!1,$=Oe,Y.next(J))}))})}function W(ue,re){return ue===re}},9300:(ce,G,O)=>{"use strict";O.d(G,{h:()=>F});var p=O(4482),q=O(5403);function F(oe,W){return(0,p.e)((ue,re)=>{let ne=0;ue.subscribe((0,q.x)(re,Y=>oe.call(W,Y,ne++)&&re.next(Y)))})}},4004:(ce,G,O)=>{"use strict";O.d(G,{U:()=>F});var p=O(4482),q=O(5403);function F(oe,W){return(0,p.e)((ue,re)=>{let ne=0;ue.subscribe((0,q.x)(re,Y=>{re.next(oe.call(W,Y,ne++))}))})}},8189:(ce,G,O)=>{"use strict";O.d(G,{J:()=>F});var p=O(5577),q=O(4671);function F(oe=1/0){return(0,p.z)(q.y,oe)}},5577:(ce,G,O)=>{"use strict";O.d(G,{z:()=>ne});var p=O(4004),q=O(8421),F=O(4482),oe=O(9672),W=O(5403),re=O(576);function ne(Y,$,z=1/0){return(0,re.m)($)?ne((J,Oe)=>(0,p.U)((Ae,Ue)=>$(J,Ae,Oe,Ue))((0,q.Xf)(Y(J,Oe))),z):("number"==typeof $&&(z=$),(0,F.e)((J,Oe)=>function ue(Y,$,z,J,Oe,Ae,Ue,Ke){const ae=[];let me=0,Pe=0,je=!1;const ve=()=>{je&&!ae.length&&!me&&$.complete()},Ie=ot=>me<J?ke(ot):ae.push(ot),ke=ot=>{Ae&&$.next(ot),me++;let ie=!1;(0,q.Xf)(z(ot,Pe++)).subscribe((0,W.x)($,we=>{null==Oe||Oe(we),Ae?Ie(we):$.next(we)},()=>{ie=!0},void 0,()=>{if(ie)try{for(me--;ae.length&&me<J;){const we=ae.shift();Ue?(0,oe.f)($,Ue,()=>ke(we)):ke(we)}ve()}catch(we){$.error(we)}}))};return Y.subscribe((0,W.x)($,Ie,()=>{je=!0,ve()})),()=>{null==Ke||Ke()}}(J,Oe,Y,z)))}},5363:(ce,G,O)=>{"use strict";O.d(G,{Q:()=>oe});var p=O(9672),q=O(4482),F=O(5403);function oe(W,ue=0){return(0,q.e)((re,ne)=>{re.subscribe((0,F.x)(ne,Y=>(0,p.f)(ne,W,()=>ne.next(Y),ue),()=>(0,p.f)(ne,W,()=>ne.complete(),ue),Y=>(0,p.f)(ne,W,()=>ne.error(Y),ue)))})}},5026:(ce,G,O)=>{"use strict";O.d(G,{R:()=>oe});var p=O(4482),q=O(5403);function F(W,ue,re,ne,Y){return($,z)=>{let J=re,Oe=ue,Ae=0;$.subscribe((0,q.x)(z,Ue=>{const Ke=Ae++;Oe=J?W(Oe,Ue,Ke):(J=!0,Ue),ne&&z.next(Oe)},Y&&(()=>{J&&z.next(Oe),z.complete()})))}}function oe(W,ue){return(0,p.e)(F(W,ue,arguments.length>=2,!0))}},3099:(ce,G,O)=>{"use strict";O.d(G,{B:()=>ue});var p=O(8996),q=O(5698),F=O(7579),oe=O(930),W=O(4482);function ue(ne={}){const{connector:Y=(()=>new F.x),resetOnError:$=!0,resetOnComplete:z=!0,resetOnRefCountZero:J=!0}=ne;return Oe=>{let Ae=null,Ue=null,Ke=null,ae=0,me=!1,Pe=!1;const je=()=>{null==Ue||Ue.unsubscribe(),Ue=null},ve=()=>{je(),Ae=Ke=null,me=Pe=!1},Ie=()=>{const ke=Ae;ve(),null==ke||ke.unsubscribe()};return(0,W.e)((ke,ot)=>{ae++,!Pe&&!me&&je();const ie=Ke=null!=Ke?Ke:Y();ot.add(()=>{ae--,0===ae&&!Pe&&!me&&(Ue=re(Ie,J))}),ie.subscribe(ot),Ae||(Ae=new oe.Hp({next:we=>ie.next(we),error:we=>{Pe=!0,je(),Ue=re(ve,$,we),ie.error(we)},complete:()=>{me=!0,je(),Ue=re(ve,z),ie.complete()}}),(0,p.D)(ke).subscribe(Ae))})(Oe)}}function re(ne,Y,...$){return!0===Y?(ne(),null):!1===Y?null:Y(...$).pipe((0,q.q)(1)).subscribe(()=>ne())}},5684:(ce,G,O)=>{"use strict";O.d(G,{T:()=>q});var p=O(9300);function q(F){return(0,p.h)((oe,W)=>F<=W)}},9468:(ce,G,O)=>{"use strict";O.d(G,{R:()=>q});var p=O(4482);function q(F,oe=0){return(0,p.e)((W,ue)=>{ue.add(F.schedule(()=>W.subscribe(ue),oe))})}},3900:(ce,G,O)=>{"use strict";O.d(G,{w:()=>oe});var p=O(8421),q=O(4482),F=O(5403);function oe(W,ue){return(0,q.e)((re,ne)=>{let Y=null,$=0,z=!1;const J=()=>z&&!Y&&ne.complete();re.subscribe((0,F.x)(ne,Oe=>{null==Y||Y.unsubscribe();let Ae=0;const Ue=$++;(0,p.Xf)(W(Oe,Ue)).subscribe(Y=(0,F.x)(ne,Ke=>ne.next(ue?ue(Oe,Ke,Ue,Ae++):Ke),()=>{Y=null,J()}))},()=>{z=!0,J()}))})}},5698:(ce,G,O)=>{"use strict";O.d(G,{q:()=>oe});var p=O(515),q=O(4482),F=O(5403);function oe(W){return W<=0?()=>p.E:(0,q.e)((ue,re)=>{let ne=0;ue.subscribe((0,F.x)(re,Y=>{++ne<=W&&(re.next(Y),W<=ne&&re.complete())}))})}},2722:(ce,G,O)=>{"use strict";O.d(G,{R:()=>W});var p=O(4482),q=O(5403),F=O(8421),oe=O(5032);function W(ue){return(0,p.e)((re,ne)=>{(0,F.Xf)(ue).subscribe((0,q.x)(ne,()=>ne.complete(),oe.Z)),!ne.closed&&re.subscribe(ne)})}},8505:(ce,G,O)=>{"use strict";O.d(G,{b:()=>W});var p=O(576),q=O(4482),F=O(5403),oe=O(4671);function W(ue,re,ne){const Y=(0,p.m)(ue)||re||ne?{next:ue,error:re,complete:ne}:ue;return Y?(0,q.e)(($,z)=>{var J;null===(J=Y.subscribe)||void 0===J||J.call(Y);let Oe=!0;$.subscribe((0,F.x)(z,Ae=>{var Ue;null===(Ue=Y.next)||void 0===Ue||Ue.call(Y,Ae),z.next(Ae)},()=>{var Ae;Oe=!1,null===(Ae=Y.complete)||void 0===Ae||Ae.call(Y),z.complete()},Ae=>{var Ue;Oe=!1,null===(Ue=Y.error)||void 0===Ue||Ue.call(Y,Ae),z.error(Ae)},()=>{var Ae,Ue;Oe&&(null===(Ae=Y.unsubscribe)||void 0===Ae||Ae.call(Y)),null===(Ue=Y.finalize)||void 0===Ue||Ue.call(Y)}))}):oe.y}},1749:(ce,G,O)=>{"use strict";O.d(G,{V:()=>Y});var p=O(4986),F=O(4482),oe=O(8421),W=O(3888),ue=O(5403),re=O(9672);const ne=(0,W.d)(z=>function(Oe=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Oe});function Y(z,J){const{first:Oe,each:Ae,with:Ue=$,scheduler:Ke=(null!=J?J:p.z),meta:ae=null}=function q(z){return z instanceof Date&&!isNaN(z)}(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==Oe&&null==Ae)throw new TypeError("No timeout provided.");return(0,F.e)((me,Pe)=>{let je,ve,Ie=null,ke=0;const ot=ie=>{ve=(0,re.f)(Pe,Ke,()=>{try{je.unsubscribe(),(0,oe.Xf)(Ue({meta:ae,lastValue:Ie,seen:ke})).subscribe(Pe)}catch(we){Pe.error(we)}},ie)};je=me.subscribe((0,ue.x)(Pe,ie=>{null==ve||ve.unsubscribe(),ke++,Pe.next(Ie=ie),Ae>0&&ot(Ae)},void 0,void 0,()=>{(null==ve?void 0:ve.closed)||null==ve||ve.unsubscribe(),Ie=null})),!ke&&ot(null!=Oe?"number"==typeof Oe?Oe:+Oe-Ke.now():Ae)})}function $(z){throw new ne(z)}},1365:(ce,G,O)=>{"use strict";O.d(G,{M:()=>re});var p=O(4482),q=O(5403),F=O(8421),oe=O(4671),W=O(5032),ue=O(7669);function re(...ne){const Y=(0,ue.jO)(ne);return(0,p.e)(($,z)=>{const J=ne.length,Oe=new Array(J);let Ae=ne.map(()=>!1),Ue=!1;for(let Ke=0;Ke<J;Ke++)(0,F.Xf)(ne[Ke]).subscribe((0,q.x)(z,ae=>{Oe[Ke]=ae,!Ue&&!Ae[Ke]&&(Ae[Ke]=!0,(Ue=Ae.every(oe.y))&&(Ae=null))},W.Z));$.subscribe((0,q.x)(z,Ke=>{if(Ue){const ae=[Ke,...Oe];z.next(Y?Y(...ae):ae)}}))})}},4408:(ce,G,O)=>{"use strict";O.d(G,{o:()=>W});var p=O(727);class q extends p.w0{constructor(re,ne){super()}schedule(re,ne=0){return this}}const F={setInterval(ue,re,...ne){const{delegate:Y}=F;return(null==Y?void 0:Y.setInterval)?Y.setInterval(ue,re,...ne):setInterval(ue,re,...ne)},clearInterval(ue){const{delegate:re}=F;return((null==re?void 0:re.clearInterval)||clearInterval)(ue)},delegate:void 0};var oe=O(8737);class W extends q{constructor(re,ne){super(re,ne),this.scheduler=re,this.work=ne,this.pending=!1}schedule(re,ne=0){if(this.closed)return this;this.state=re;const Y=this.id,$=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId($,Y,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId($,this.id,ne),this}requestAsyncId(re,ne,Y=0){return F.setInterval(re.flush.bind(re,this),Y)}recycleAsyncId(re,ne,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return ne;F.clearInterval(ne)}execute(re,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(re,ne);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ne){let $,Y=!1;try{this.work(re)}catch(z){Y=!0,$=z||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:ne}=this,{actions:Y}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(Y,this),null!=re&&(this.id=this.recycleAsyncId(ne,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ce,G,O)=>{"use strict";O.d(G,{v:()=>F});var p=O(6063);class q{constructor(W,ue=q.now){this.schedulerActionCtor=W,this.now=ue}schedule(W,ue=0,re){return new this.schedulerActionCtor(this,W).schedule(re,ue)}}q.now=p.l.now;class F extends q{constructor(W,ue=q.now){super(W,ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(W){const{actions:ue}=this;if(this._active)return void ue.push(W);let re;this._active=!0;do{if(re=W.execute(W.state,W.delay))break}while(W=ue.shift());if(this._active=!1,re){for(;W=ue.shift();)W.unsubscribe();throw re}}}},4986:(ce,G,O)=>{"use strict";O.d(G,{z:()=>F});var p=O(4408);const F=new(O(7565).v)(p.o)},6063:(ce,G,O)=>{"use strict";O.d(G,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},233:(ce,G,O)=>{"use strict";O.d(G,{N:()=>W});var p=O(4408),F=O(7565);const W=new class oe extends F.v{}(class q extends p.o{constructor(ne,Y){super(ne,Y),this.scheduler=ne,this.work=Y}schedule(ne,Y=0){return Y>0?super.schedule(ne,Y):(this.delay=Y,this.state=ne,this.scheduler.flush(this),this)}execute(ne,Y){return Y>0||this.closed?super.execute(ne,Y):this._execute(ne,Y)}requestAsyncId(ne,Y,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(ne,Y,$):ne.flush(this)}})},3410:(ce,G,O)=>{"use strict";O.d(G,{z:()=>p});const p={setTimeout(q,F,...oe){const{delegate:W}=p;return(null==W?void 0:W.setTimeout)?W.setTimeout(q,F,...oe):setTimeout(q,F,...oe)},clearTimeout(q){const{delegate:F}=p;return((null==F?void 0:F.clearTimeout)||clearTimeout)(q)},delegate:void 0}},2202:(ce,G,O)=>{"use strict";O.d(G,{h:()=>q});const q=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ce,G,O)=>{"use strict";O.d(G,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ce,G,O)=>{"use strict";O.d(G,{_6:()=>ue,jO:()=>oe,yG:()=>W});var p=O(576);function F(re){return re[re.length-1]}function oe(re){return(0,p.m)(F(re))?re.pop():void 0}function W(re){return function q(re){return re&&(0,p.m)(re.schedule)}(F(re))?re.pop():void 0}function ue(re,ne){return"number"==typeof F(re)?re.pop():ne}},8737:(ce,G,O)=>{"use strict";function p(q,F){if(q){const oe=q.indexOf(F);0<=oe&&q.splice(oe,1)}}O.d(G,{P:()=>p})},3888:(ce,G,O)=>{"use strict";function p(q){const oe=q(W=>{Error.call(W),W.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}O.d(G,{d:()=>p})},2806:(ce,G,O)=>{"use strict";O.d(G,{x:()=>F,O:()=>oe});var p=O(2416);let q=null;function F(W){if(p.v.useDeprecatedSynchronousErrorHandling){const ue=!q;if(ue&&(q={errorThrown:!1,error:null}),W(),ue){const{errorThrown:re,error:ne}=q;if(q=null,re)throw ne}}else W()}function oe(W){p.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=W)}},9672:(ce,G,O)=>{"use strict";function p(q,F,oe,W=0,ue=!1){const re=F.schedule(function(){oe(),ue?q.add(this.schedule(null,W)):this.unsubscribe()},W);if(q.add(re),!ue)return re}O.d(G,{f:()=>p})},4671:(ce,G,O)=>{"use strict";function p(q){return q}O.d(G,{y:()=>p})},1144:(ce,G,O)=>{"use strict";O.d(G,{z:()=>p});const p=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(ce,G,O)=>{"use strict";O.d(G,{D:()=>q});var p=O(576);function q(F){return Symbol.asyncIterator&&(0,p.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(ce,G,O)=>{"use strict";function p(q){return"function"==typeof q}O.d(G,{m:()=>p})},3670:(ce,G,O)=>{"use strict";O.d(G,{c:()=>F});var p=O(8822),q=O(576);function F(oe){return(0,q.m)(oe[p.L])}},6495:(ce,G,O)=>{"use strict";O.d(G,{T:()=>F});var p=O(2202),q=O(576);function F(oe){return(0,q.m)(null==oe?void 0:oe[p.h])}},8239:(ce,G,O)=>{"use strict";O.d(G,{t:()=>q});var p=O(576);function q(F){return(0,p.m)(null==F?void 0:F.then)}},3260:(ce,G,O)=>{"use strict";O.d(G,{Q:()=>F,L:()=>oe});var p=O(655),q=O(576);function F(W){return(0,p.FC)(this,arguments,function*(){const re=W.getReader();try{for(;;){const{value:ne,done:Y}=yield(0,p.qq)(re.read());if(Y)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ne)}}finally{re.releaseLock()}})}function oe(W){return(0,q.m)(null==W?void 0:W.getReader)}},4482:(ce,G,O)=>{"use strict";O.d(G,{A:()=>q,e:()=>F});var p=O(576);function q(oe){return(0,p.m)(null==oe?void 0:oe.lift)}function F(oe){return W=>{if(q(W))return W.lift(function(ue){try{return oe(ue,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ce,G,O)=>{"use strict";function p(){}O.d(G,{Z:()=>p})},7849:(ce,G,O)=>{"use strict";O.d(G,{h:()=>F});var p=O(2416),q=O(3410);function F(oe){q.z.setTimeout(()=>{const{onUnhandledError:W}=p.v;if(!W)throw oe;W(oe)})}},4532:(ce,G,O)=>{"use strict";function p(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(G,{z:()=>p})},5226:function(ce){ce.exports=function(){"use strict";const G="SweetAlert2:",p=T=>T.charAt(0).toUpperCase()+T.slice(1),q=T=>Array.prototype.slice.call(T),F=T=>{console.warn("".concat(G," ").concat("object"==typeof T?T.join(" "):T))},oe=T=>{console.error("".concat(G," ").concat(T))},W=[],re=(T,D)=>{(T=>{W.includes(T)||(W.push(T),F(T))})('"'.concat(T,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},ne=T=>"function"==typeof T?T():T,Y=T=>T&&"function"==typeof T.toPromise,$=T=>Y(T)?T.toPromise():Promise.resolve(T),z=T=>T&&Promise.resolve(T)===T,J={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Oe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ae={},Ue=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ke=T=>Object.prototype.hasOwnProperty.call(J,T),ae=T=>-1!==Oe.indexOf(T),me=T=>Ae[T],Pe=T=>{Ke(T)||F('Unknown parameter "'.concat(T,'"'))},je=T=>{Ue.includes(T)&&F('The parameter "'.concat(T,'" is incompatible with toasts'))},ve=T=>{me(T)&&re(T,me(T))},ot=T=>{const D={};for(const k in T)D[T[k]]="swal2-"+T[k];return D},ie=ot(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),we=ot(["success","warning","info","question","error"]),de=()=>document.body.querySelector(".".concat(ie.container)),De=T=>{const D=de();return D?D.querySelector(T):null},Se=T=>De(".".concat(T)),_e=()=>Se(ie.popup),Qe=()=>Se(ie.icon),Me=()=>Se(ie.title),kt=()=>Se(ie["html-container"]),an=()=>Se(ie.image),er=()=>Se(ie["progress-steps"]),yt=()=>Se(ie["validation-message"]),Dt=()=>De(".".concat(ie.actions," .").concat(ie.confirm)),pn=()=>De(".".concat(ie.actions," .").concat(ie.deny)),Tn=()=>De(".".concat(ie.loader)),tn=()=>De(".".concat(ie.actions," .").concat(ie.cancel)),tr=()=>Se(ie.actions),un=()=>Se(ie.footer),Wt=()=>Se(ie["timer-progress-bar"]),Jr=()=>Se(ie.close),jn=()=>{const T=q(_e().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((k,Z)=>{const qe=parseInt(k.getAttribute("tabindex")),_t=parseInt(Z.getAttribute("tabindex"));return qe>_t?1:qe<_t?-1:0}),D=q(_e().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(k=>"-1"!==k.getAttribute("tabindex"));return(T=>{const D=[];for(let k=0;k<T.length;k++)-1===D.indexOf(T[k])&&D.push(T[k]);return D})(T.concat(D)).filter(k=>Nn(k))},nr=()=>Et(document.body,ie.shown)&&!Et(document.body,ie["toast-shown"])&&!Et(document.body,ie["no-backdrop"]),Lr=()=>_e()&&Et(_e(),ie.toast),cr={previousBodyPadding:null},vn=(T,D)=>{if(T.textContent="",D){const Z=(new DOMParser).parseFromString(D,"text/html");q(Z.querySelector("head").childNodes).forEach(qe=>{T.appendChild(qe)}),q(Z.querySelector("body").childNodes).forEach(qe=>{T.appendChild(qe)})}},Et=(T,D)=>{if(!D)return!1;const k=D.split(/\s+/);for(let Z=0;Z<k.length;Z++)if(!T.classList.contains(k[Z]))return!1;return!0},rn=(T,D,k)=>{if(((T,D)=>{q(T.classList).forEach(k=>{!Object.values(ie).includes(k)&&!Object.values(we).includes(k)&&!Object.values(D.showClass).includes(k)&&T.classList.remove(k)})})(T,D),D.customClass&&D.customClass[k]){if("string"!=typeof D.customClass[k]&&!D.customClass[k].forEach)return F("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(typeof D.customClass[k],'"'));Pt(T,D.customClass[k])}},Fn=(T,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return T.querySelector(".".concat(ie.popup," > .").concat(ie[D]));case"checkbox":return T.querySelector(".".concat(ie.popup," > .").concat(ie.checkbox," input"));case"radio":return T.querySelector(".".concat(ie.popup," > .").concat(ie.radio," input:checked"))||T.querySelector(".".concat(ie.popup," > .").concat(ie.radio," input:first-child"));case"range":return T.querySelector(".".concat(ie.popup," > .").concat(ie.range," input"));default:return T.querySelector(".".concat(ie.popup," > .").concat(ie.input))}},is=T=>{if(T.focus(),"file"!==T.type){const D=T.value;T.value="",T.value=D}},mr=(T,D,k)=>{!T||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(Z=>{Array.isArray(T)?T.forEach(qe=>{k?qe.classList.add(Z):qe.classList.remove(Z)}):k?T.classList.add(Z):T.classList.remove(Z)}))},Pt=(T,D)=>{mr(T,D,!0)},dn=(T,D)=>{mr(T,D,!1)},qn=(T,D)=>{const k=q(T.childNodes);for(let Z=0;Z<k.length;Z++)if(Et(k[Z],D))return k[Z]},Wr=(T,D,k)=>{k==="".concat(parseInt(k))&&(k=parseInt(k)),k||0===parseInt(k)?T.style[D]="number"==typeof k?"".concat(k,"px"):k:T.style.removeProperty(D)},Nt=function(T){T.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ct=T=>{T.style.display="none"},Mt=(T,D,k,Z)=>{const qe=T.querySelector(D);qe&&(qe.style[k]=Z)},rr=(T,D,k)=>{D?Nt(T,k):ct(T)},Nn=T=>!(!T||!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)),fi=T=>T.scrollHeight>T.clientHeight,yr=T=>{const D=window.getComputedStyle(T),k=parseFloat(D.getPropertyValue("animation-duration")||"0"),Z=parseFloat(D.getPropertyValue("transition-duration")||"0");return k>0||Z>0},ur=function(T){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=Wt();Nn(k)&&(D&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition="width ".concat(T/1e3,"s linear"),k.style.width="0%"},10))},se=()=>"undefined"==typeof window||"undefined"==typeof document,be={},dt=T=>new Promise(D=>{if(!T)return D();const k=window.scrollX,Z=window.scrollY;be.restoreFocusTimeout=setTimeout(()=>{be.previousActiveElement&&be.previousActiveElement.focus?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(k,Z)}),ze='\n <div aria-labelledby="'.concat(ie.title,'" aria-describedby="').concat(ie["html-container"],'" class="').concat(ie.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ie.close,'"></button>\n   <ul class="').concat(ie["progress-steps"],'"></ul>\n   <div class="').concat(ie.icon,'"></div>\n   <img class="').concat(ie.image,'" />\n   <h2 class="').concat(ie.title,'" id="').concat(ie.title,'"></h2>\n   <div class="').concat(ie["html-container"],'" id="').concat(ie["html-container"],'"></div>\n   <input class="').concat(ie.input,'" />\n   <input type="file" class="').concat(ie.file,'" />\n   <div class="').concat(ie.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ie.select,'"></select>\n   <div class="').concat(ie.radio,'"></div>\n   <label for="').concat(ie.checkbox,'" class="').concat(ie.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ie.label,'"></span>\n   </label>\n   <textarea class="').concat(ie.textarea,'"></textarea>\n   <div class="').concat(ie["validation-message"],'" id="').concat(ie["validation-message"],'"></div>\n   <div class="').concat(ie.actions,'">\n     <div class="').concat(ie.loader,'"></div>\n     <button type="button" class="').concat(ie.confirm,'"></button>\n     <button type="button" class="').concat(ie.deny,'"></button>\n     <button type="button" class="').concat(ie.cancel,'"></button>\n   </div>\n   <div class="').concat(ie.footer,'"></div>\n   <div class="').concat(ie["timer-progress-bar-container"],'">\n     <div class="').concat(ie["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),rt=()=>{be.currentInstance.resetValidationMessage()},Ln=T=>{const D=(()=>{const T=de();return!!T&&(T.remove(),dn([document.documentElement,document.body],[ie["no-backdrop"],ie["toast-shown"],ie["has-column"]]),!0)})();if(se())return void oe("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=ie.container,D&&Pt(k,ie["no-transition"]),vn(k,ze);const Z=(T=>"string"==typeof T?document.querySelector(T):T)(T.target);Z.appendChild(k),(T=>{const D=_e();D.setAttribute("role",T.toast?"alert":"dialog"),D.setAttribute("aria-live",T.toast?"polite":"assertive"),T.toast||D.setAttribute("aria-modal","true")})(T),(T=>{"rtl"===window.getComputedStyle(T).direction&&Pt(de(),ie.rtl)})(Z),(()=>{const T=_e(),D=qn(T,ie.input),k=qn(T,ie.file),Z=T.querySelector(".".concat(ie.range," input")),qe=T.querySelector(".".concat(ie.range," output")),_t=qn(T,ie.select),Gn=T.querySelector(".".concat(ie.checkbox," input")),nn=qn(T,ie.textarea);D.oninput=rt,k.onchange=rt,_t.onchange=rt,Gn.onchange=rt,nn.oninput=rt,Z.oninput=()=>{rt(),qe.value=Z.value},Z.onchange=()=>{rt(),Z.nextSibling.value=Z.value}})()},oo=(T,D)=>{T instanceof HTMLElement?D.appendChild(T):"object"==typeof T?ao(T,D):T&&vn(D,T)},ao=(T,D)=>{T.jquery?Lo(D,T):vn(D,T.toString())},Lo=(T,D)=>{if(T.textContent="",0 in D)for(let k=0;k in D;k++)T.appendChild(D[k].cloneNode(!0));else T.appendChild(D.cloneNode(!0))},Wi=(()=>{if(se())return!1;const T=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in D)if(Object.prototype.hasOwnProperty.call(D,k)&&void 0!==T.style[k])return D[k];return!1})(),Vr=(T,D)=>{const k=tr(),Z=Tn();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Nt(k):ct(k),rn(k,D,"actions"),function pi(T,D,k){const Z=Dt(),qe=pn(),_t=tn();Tr(Z,"confirm",k),Tr(qe,"deny",k),Tr(_t,"cancel",k),function Kn(T,D,k,Z){if(!Z.buttonsStyling)return dn([T,D,k],ie.styled);Pt([T,D,k],ie.styled),Z.confirmButtonColor&&(T.style.backgroundColor=Z.confirmButtonColor,Pt(T,ie["default-outline"])),Z.denyButtonColor&&(D.style.backgroundColor=Z.denyButtonColor,Pt(D,ie["default-outline"])),Z.cancelButtonColor&&(k.style.backgroundColor=Z.cancelButtonColor,Pt(k,ie["default-outline"]))}(Z,qe,_t,k),k.reverseButtons&&(k.toast?(T.insertBefore(_t,Z),T.insertBefore(qe,Z)):(T.insertBefore(_t,D),T.insertBefore(qe,D),T.insertBefore(Z,D)))}(k,Z,D),vn(Z,D.loaderHtml),rn(Z,D,"loader")};function Tr(T,D,k){rr(T,k["show".concat(p(D),"Button")],"inline-block"),vn(T,k["".concat(D,"ButtonText")]),T.setAttribute("aria-label",k["".concat(D,"ButtonAriaLabel")]),T.className=ie[D],rn(T,k,"".concat(D,"Button")),Pt(T,k["".concat(D,"ButtonClass")])}const Si=(T,D)=>{const k=de();!k||(function Fa(T,D){"string"==typeof D?T.style.background=D:D||Pt([document.documentElement,document.body],ie["no-backdrop"])}(k,D.backdrop),function Ts(T,D){D in ie?Pt(T,ie[D]):(F('The "position" parameter is not valid, defaulting to "center"'),Pt(T,ie.center))}(k,D.position),function lo(T,D){if(D&&"string"==typeof D){const k="grow-".concat(D);k in ie&&Pt(T,ie[k])}}(k,D.grow),rn(k,D,"container"))};var xt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Gs=["input","file","range","select","radio","checkbox","textarea"],nt=T=>{if(!jt[T.input])return oe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(T.input,'"'));const D=Mi(T.input),k=jt[T.input](D,T);Nt(k),setTimeout(()=>{is(k)})},wn=(T,D)=>{const k=Fn(_e(),T);if(k){(T=>{for(let D=0;D<T.attributes.length;D++){const k=T.attributes[D].name;["type","value","style"].includes(k)||T.removeAttribute(k)}})(k);for(const Z in D)k.setAttribute(Z,D[Z])}},Ur=T=>{const D=Mi(T.input);T.customClass&&Pt(D,T.customClass.input)},gi=(T,D)=>{(!T.placeholder||D.inputPlaceholder)&&(T.placeholder=D.inputPlaceholder)},On=(T,D,k)=>{if(k.inputLabel){T.id=ie.input;const Z=document.createElement("label"),qe=ie["input-label"];Z.setAttribute("for",T.id),Z.className=qe,Pt(Z,k.customClass.inputLabel),Z.innerText=k.inputLabel,D.insertAdjacentElement("beforebegin",Z)}},Mi=T=>{const D=ie[T]?ie[T]:ie.input;return qn(_e(),D)},jt={};jt.text=jt.email=jt.password=jt.number=jt.tel=jt.url=(T,D)=>("string"==typeof D.inputValue||"number"==typeof D.inputValue?T.value=D.inputValue:z(D.inputValue)||F('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D.inputValue,'"')),On(T,T,D),gi(T,D),T.type=D.input,T),jt.file=(T,D)=>(On(T,T,D),gi(T,D),T),jt.range=(T,D)=>{const k=T.querySelector("input"),Z=T.querySelector("output");return k.value=D.inputValue,k.type=D.input,Z.value=D.inputValue,On(k,T,D),T},jt.select=(T,D)=>{if(T.textContent="",D.inputPlaceholder){const k=document.createElement("option");vn(k,D.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,T.appendChild(k)}return On(T,T,D),T},jt.radio=T=>(T.textContent="",T),jt.checkbox=(T,D)=>{const k=Fn(_e(),"checkbox");k.value="1",k.id=ie.checkbox,k.checked=Boolean(D.inputValue);const Z=T.querySelector("span");return vn(Z,D.inputPlaceholder),T},jt.textarea=(T,D)=>{T.value=D.inputValue,gi(T,D),On(T,T,D);return setTimeout(()=>{if("MutationObserver"in window){const Z=parseInt(window.getComputedStyle(_e()).width);new MutationObserver(()=>{const _t=T.offsetWidth+(Z=>parseInt(window.getComputedStyle(Z).marginLeft)+parseInt(window.getComputedStyle(Z).marginRight))(T);_e().style.width=_t>Z?"".concat(_t,"px"):null}).observe(T,{attributes:!0,attributeFilter:["style"]})}}),T};const ss=(T,D)=>{const k=kt();rn(k,D,"htmlContainer"),D.html?(oo(D.html,k),Nt(k,"block")):D.text?(k.textContent=D.text,Nt(k,"block")):ct(k),((T,D)=>{const k=_e(),Z=xt.innerParams.get(T),qe=!Z||D.input!==Z.input;Gs.forEach(_t=>{const Gn=ie[_t],nn=qn(k,Gn);wn(_t,D.inputAttributes),nn.className=Gn,qe&&ct(nn)}),D.input&&(qe&&nt(D),Ur(D))})(T,D)},xs=(T,D)=>{for(const k in we)D.icon!==k&&dn(T,we[k]);Pt(T,we[D.icon]),it(T,D),X(),rn(T,D,"icon")},X=()=>{const T=_e(),D=window.getComputedStyle(T).getPropertyValue("background-color"),k=T.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Z=0;Z<k.length;Z++)k[Z].style.backgroundColor=D},Te=(T,D)=>{T.textContent="",vn(T,D.iconHtml?et(D.iconHtml):"success"===D.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':et({question:"?",warning:"!",info:"i"}[D.icon]))},it=(T,D)=>{if(D.iconColor){T.style.color=D.iconColor,T.style.borderColor=D.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mt(T,k,"backgroundColor",D.iconColor);Mt(T,".swal2-success-ring","borderColor",D.iconColor)}},et=T=>'<div class="'.concat(ie["icon-content"],'">').concat(T,"</div>"),Vn=(T,D)=>{const k=er();if(!D.progressSteps||0===D.progressSteps.length)return ct(k);Nt(k),k.textContent="",D.currentProgressStep>=D.progressSteps.length&&F("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((Z,qe)=>{const _t=(T=>{const D=document.createElement("li");return Pt(D,ie["progress-step"]),vn(D,T),D})(Z);if(k.appendChild(_t),qe===D.currentProgressStep&&Pt(_t,ie["active-progress-step"]),qe!==D.progressSteps.length-1){const Gn=(T=>{const D=document.createElement("li");return Pt(D,ie["progress-step-line"]),T.progressStepsDistance&&(D.style.width=T.progressStepsDistance),D})(D);k.appendChild(Gn)}})},Fo=(T,D)=>{T.className="".concat(ie.popup," ").concat(Nn(T)?D.showClass.popup:""),D.toast?(Pt([document.documentElement,document.body],ie["toast-shown"]),Pt(T,ie.toast)):Pt(T,ie.modal),rn(T,D,"popup"),"string"==typeof D.customClass&&Pt(T,D.customClass),D.icon&&Pt(T,ie["icon-".concat(D.icon)])},Oi=(T,D)=>{((T,D)=>{const k=de(),Z=_e();D.toast?(Wr(k,"width",D.width),Z.style.width="100%",Z.insertBefore(Tn(),Qe())):Wr(Z,"width",D.width),Wr(Z,"padding",D.padding),D.color&&(Z.style.color=D.color),D.background&&(Z.style.background=D.background),ct(yt()),Fo(Z,D)})(0,D),Si(0,D),Vn(0,D),((T,D)=>{const k=xt.innerParams.get(T),Z=Qe();k&&D.icon===k.icon?(Te(Z,D),xs(Z,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(we).indexOf(D.icon)?(oe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),ct(Z)):(Nt(Z),Te(Z,D),xs(Z,D),Pt(Z,D.showClass.icon)):ct(Z)})(T,D),((T,D)=>{const k=an();if(!D.imageUrl)return ct(k);Nt(k,""),k.setAttribute("src",D.imageUrl),k.setAttribute("alt",D.imageAlt),Wr(k,"width",D.imageWidth),Wr(k,"height",D.imageHeight),k.className=ie.image,rn(k,D,"image")})(0,D),((T,D)=>{const k=Me();rr(k,D.title||D.titleText,"block"),D.title&&oo(D.title,k),D.titleText&&(k.innerText=D.titleText),rn(k,D,"title")})(0,D),((T,D)=>{const k=Jr();vn(k,D.closeButtonHtml),rn(k,D,"closeButton"),rr(k,D.showCloseButton),k.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),ss(T,D),Vr(0,D),((T,D)=>{const k=un();rr(k,D.footer),D.footer&&oo(D.footer,k),rn(k,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(_e())},sr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_l=()=>{q(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},la=["swal-title","swal-html","swal-footer"],dc=T=>{const D={};return q(T.querySelectorAll("swal-param")).forEach(k=>{Pi(k,["name","value"]);const Z=k.getAttribute("name"),qe=k.getAttribute("value");"boolean"==typeof J[Z]&&"false"===qe&&(D[Z]=!1),"object"==typeof J[Z]&&(D[Z]=JSON.parse(qe))}),D},Td=T=>{const D={};return q(T.querySelectorAll("swal-button")).forEach(k=>{Pi(k,["type","color","aria-label"]);const Z=k.getAttribute("type");D["".concat(Z,"ButtonText")]=k.innerHTML,D["show".concat(p(Z),"Button")]=!0,k.hasAttribute("color")&&(D["".concat(Z,"ButtonColor")]=k.getAttribute("color")),k.hasAttribute("aria-label")&&(D["".concat(Z,"ButtonAriaLabel")]=k.getAttribute("aria-label"))}),D},As=T=>{const D={},k=T.querySelector("swal-image");return k&&(Pi(k,["src","width","height","alt"]),k.hasAttribute("src")&&(D.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(D.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(D.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(D.imageAlt=k.getAttribute("alt"))),D},xd=T=>{const D={},k=T.querySelector("swal-icon");return k&&(Pi(k,["type","color"]),k.hasAttribute("type")&&(D.icon=k.getAttribute("type")),k.hasAttribute("color")&&(D.iconColor=k.getAttribute("color")),D.iconHtml=k.innerHTML),D},hc=T=>{const D={},k=T.querySelector("swal-input");k&&(Pi(k,["type","label","placeholder","value"]),D.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(D.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(D.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(D.inputValue=k.getAttribute("value")));const Z=T.querySelectorAll("swal-input-option");return Z.length&&(D.inputOptions={},q(Z).forEach(qe=>{Pi(qe,["value"]);const _t=qe.getAttribute("value");D.inputOptions[_t]=qe.innerHTML})),D},Ad=(T,D)=>{const k={};for(const Z in D){const qe=D[Z],_t=T.querySelector(qe);_t&&(Pi(_t,[]),k[qe.replace(/^swal-/,"")]=_t.innerHTML.trim())}return k},ca=T=>{const D=la.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);q(T.children).forEach(k=>{const Z=k.tagName.toLowerCase();-1===D.indexOf(Z)&&F("Unrecognized element <".concat(Z,">"))})},Pi=(T,D)=>{q(T.attributes).forEach(k=>{-1===D.indexOf(k.name)&&F(['Unrecognized attribute "'.concat(k.name,'" on <').concat(T.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var vl={email:(T,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(T)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(T,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(T)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function fc(T){(function Sd(T){T.inputValidator||Object.keys(vl).forEach(D=>{T.input===D&&(T.inputValidator=vl[D])})})(T),T.showLoaderOnConfirm&&!T.preConfirm&&F("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Md(T){(!T.target||"string"==typeof T.target&&!document.querySelector(T.target)||"string"!=typeof T.target&&!T.target.appendChild)&&(F('Target parameter is not valid, defaulting to "body"'),T.target="body")}(T),"string"==typeof T.title&&(T.title=T.title.split("\n").join("<br />")),Ln(T)}class Vo{constructor(D,k){this.callback=D,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const k=this.running;return k&&this.stop(),this.remaining+=D,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Od=()=>{null===cr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(cr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(cr.previousBodyPadding+(()=>{const T=document.createElement("div");T.className=ie["scrollbar-measure"],document.body.appendChild(T);const D=T.getBoundingClientRect().width-T.clientWidth;return document.body.removeChild(T),D})(),"px"))},nf=()=>{const T=navigator.userAgent,D=!!T.match(/iPad/i)||!!T.match(/iPhone/i),k=!!T.match(/WebKit/i);D&&k&&!T.match(/CriOS/i)&&_e().scrollHeight>window.innerHeight-44&&(de().style.paddingBottom="".concat(44,"px"))},ua=()=>{const T=de();let D;T.ontouchstart=k=>{D=qs(k)},T.ontouchmove=k=>{D&&(k.preventDefault(),k.stopPropagation())}},qs=T=>{const D=T.target,k=de();return!(Ri(T)||Ms(T)||D!==k&&(fi(k)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||fi(kt())&&kt().contains(D)))},Ri=T=>T.touches&&T.touches.length&&"stylus"===T.touches[0].touchType,Ms=T=>T.touches&&T.touches.length>1,pc=T=>{const D=de(),k=_e();"function"==typeof T.willOpen&&T.willOpen(k);const qe=window.getComputedStyle(document.body).overflowY;Os(D,k,T),setTimeout(()=>{uo(D,k)},10),nr()&&(gc(D,T.scrollbarPadding,qe),q(document.body.children).forEach(D=>{D===de()||D.contains(de())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!Lr()&&!be.previousActiveElement&&(be.previousActiveElement=document.activeElement),"function"==typeof T.didOpen&&setTimeout(()=>T.didOpen(k)),dn(D,ie["no-transition"])},vu=T=>{const D=_e();if(T.target!==D)return;const k=de();D.removeEventListener(Wi,vu),k.style.overflowY="auto"},uo=(T,D)=>{Wi&&yr(D)?(T.style.overflowY="hidden",D.addEventListener(Wi,vu)):T.style.overflowY="auto"},gc=(T,D,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Et(document.body,ie.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),Pt(document.body,ie.iosfix),ua(),nf()}})(),D&&"hidden"!==k&&Od(),setTimeout(()=>{T.scrollTop=0})},Os=(T,D,k)=>{Pt(T,k.showClass.backdrop),D.style.setProperty("opacity","0","important"),Nt(D,"grid"),setTimeout(()=>{Pt(D,k.showClass.popup),D.style.removeProperty("opacity")},10),Pt([document.documentElement,document.body],ie.shown),k.heightAuto&&k.backdrop&&!k.toast&&Pt([document.documentElement,document.body],ie["height-auto"])},xr=T=>{let D=_e();D||new Ka,D=_e();const k=Tn();Lr()?ct(Qe()):mc(D,T),Nt(k),D.setAttribute("data-loading",!0),D.setAttribute("aria-busy",!0),D.focus()},mc=(T,D)=>{const k=tr(),Z=Tn();!D&&Nn(Dt())&&(D=Dt()),Nt(k),D&&(ct(D),Z.setAttribute("data-button-to-replace",D.className)),Z.parentNode.insertBefore(Z,D),Pt([T,k],ie.loading)},yc=T=>T.checked?1:0,_c=T=>T.checked?T.value:null,Va=T=>T.files.length?null!==T.getAttribute("multiple")?T.files:T.files[0]:null,Ba=(T,D)=>{const k=_e(),Z=qe=>bl[D.input](k,qi(qe),D);Y(D.inputOptions)||z(D.inputOptions)?(xr(Dt()),$(D.inputOptions).then(qe=>{T.hideLoading(),Z(qe)})):"object"==typeof D.inputOptions?Z(D.inputOptions):oe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},Ua=(T,D)=>{const k=T.getInput();ct(k),$(D.inputValue).then(Z=>{k.value="number"===D.input?parseFloat(Z)||0:"".concat(Z),Nt(k),k.focus(),T.hideLoading()}).catch(Z=>{oe("Error in inputValue promise: ".concat(Z)),k.value="",Nt(k),k.focus(),T.hideLoading()})},bl={select:(T,D,k)=>{const Z=qn(T,ie.select),qe=(_t,Gn,nn)=>{const _r=document.createElement("option");_r.value=nn,vn(_r,Gn),_r.selected=ja(nn,k.inputValue),_t.appendChild(_r)};D.forEach(_t=>{const Gn=_t[0],nn=_t[1];if(Array.isArray(nn)){const _r=document.createElement("optgroup");_r.label=Gn,_r.disabled=!1,Z.appendChild(_r),nn.forEach(yi=>qe(_r,yi[1],yi[0]))}else qe(Z,nn,Gn)}),Z.focus()},radio:(T,D,k)=>{const Z=qn(T,ie.radio);D.forEach(_t=>{const Gn=_t[0],nn=_t[1],_r=document.createElement("input"),yi=document.createElement("label");_r.type="radio",_r.name=ie.radio,_r.value=Gn,ja(Gn,k.inputValue)&&(_r.checked=!0);const ds=document.createElement("span");vn(ds,nn),ds.className=ie.label,yi.appendChild(_r),yi.appendChild(ds),Z.appendChild(yi)});const qe=Z.querySelectorAll("input");qe.length&&qe[0].focus()}},qi=T=>{const D=[];return"undefined"!=typeof Map&&T instanceof Map?T.forEach((k,Z)=>{let qe=k;"object"==typeof qe&&(qe=qi(qe)),D.push([Z,qe])}):Object.keys(T).forEach(k=>{let Z=T[k];"object"==typeof Z&&(Z=qi(Z)),D.push([k,Z])}),D},ja=(T,D)=>D&&D.toString()===T.toString();function xn(){const T=xt.innerParams.get(this);if(!T)return;const D=xt.domCache.get(this);ct(D.loader),Lr()?T.icon&&Nt(Qe()):da(D),dn([D.popup,D.actions],ie.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const da=T=>{const D=T.popup.getElementsByClassName(T.loader.getAttribute("data-button-to-replace"));D.length?Nt(D[0],"inline-block"):!Nn(Dt())&&!Nn(pn())&&!Nn(tn())&&ct(T.actions)};var hn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function ha(T,D,k,Z){Lr()?$a(T,Z):(dt(k).then(()=>$a(T,Z)),be.keydownTarget.removeEventListener("keydown",be.keydownHandler,{capture:be.keydownListenerCapture}),be.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),nr()&&(null!==cr.previousBodyPadding&&(document.body.style.paddingRight="".concat(cr.previousBodyPadding,"px"),cr.previousBodyPadding=null),(()=>{if(Et(document.body,ie.iosfix)){const T=parseInt(document.body.style.top,10);dn(document.body,ie.iosfix),document.body.style.top="",document.body.scrollTop=-1*T}})(),_l()),function fa(){dn([document.documentElement,document.body],[ie.shown,ie["height-auto"],ie["no-backdrop"],ie["toast-shown"]])}()}function os(T){T=Sr(T);const D=hn.swalPromiseResolve.get(this),k=Ha(this);this.isAwaitingPromise()?T.isDismissed||(mi(this),D(T)):k&&D(T)}const Ha=T=>{const D=_e();if(!D)return!1;const k=xt.innerParams.get(T);if(!k||Et(D,k.hideClass.popup))return!1;dn(D,k.showClass.popup),Pt(D,k.hideClass.popup);const Z=de();return dn(Z,k.showClass.backdrop),Pt(Z,k.hideClass.backdrop),Uo(T,D,k),!0};const mi=T=>{T.isAwaitingPromise()&&(xt.awaitingPromise.delete(T),xt.innerParams.get(T)||T._destroy())},Sr=T=>void 0===T?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},T),Uo=(T,D,k)=>{const Z=de(),qe=Wi&&yr(D);"function"==typeof k.willClose&&k.willClose(D),qe?as(T,D,Z,k.returnFocus,k.didClose):ha(T,Z,k.returnFocus,k.didClose)},as=(T,D,k,Z,qe)=>{be.swalCloseEventFinishedCallback=ha.bind(null,T,k,Z,qe),D.addEventListener(Wi,function(_t){_t.target===D&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback)})},$a=(T,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(T.params)(),T._destroy()})};function ni(T,D,k){const Z=xt.domCache.get(T);D.forEach(qe=>{Z[qe].disabled=k})}function Ps(T,D){if(!T)return!1;if("radio"===T.type){const Z=T.parentNode.parentNode.querySelectorAll("input");for(let qe=0;qe<Z.length;qe++)Z[qe].disabled=D}else T.disabled=D}const bu=T=>{const D={};return Object.keys(T).forEach(k=>{ae(k)?D[k]=T[k]:F('Invalid parameter to update: "'.concat(k,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),D};const Jt=T=>{jo(T),delete T.params,delete be.keydownHandler,delete be.keydownTarget,delete be.currentInstance},jo=T=>{T.isAwaitingPromise()?($n(xt,T),xt.awaitingPromise.set(T,!0)):($n(hn,T),$n(xt,T))},$n=(T,D)=>{for(const k in T)T[k].delete(D)};var Rs=Object.freeze({hideLoading:xn,disableLoading:xn,getInput:function Ks(T){const D=xt.innerParams.get(T||this),k=xt.domCache.get(T||this);return k?Fn(k.popup,D.input):null},close:os,isAwaitingPromise:function Ar(){return!!xt.awaitingPromise.get(this)},rejectPromise:function Zn(T){const D=hn.swalPromiseReject.get(this);mi(this),D&&D(T)},handleAwaitingPromise:mi,closePopup:os,closeModal:os,closeToast:os,enableButtons:function Zs(){ni(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ot(){ni(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function pa(){return Ps(this.getInput(),!1)},disableInput:function ga(){return Ps(this.getInput(),!0)},showValidationMessage:function vc(T){const D=xt.domCache.get(this),k=xt.innerParams.get(this);vn(D.validationMessage,T),D.validationMessage.className=ie["validation-message"],k.customClass&&k.customClass.validationMessage&&Pt(D.validationMessage,k.customClass.validationMessage),Nt(D.validationMessage);const Z=this.getInput();Z&&(Z.setAttribute("aria-invalid",!0),Z.setAttribute("aria-describedby",ie["validation-message"]),is(Z),Pt(Z,ie.inputerror))},resetValidationMessage:function ma(){const T=xt.domCache.get(this);T.validationMessage&&ct(T.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),dn(D,ie.inputerror))},getProgressSteps:function wl(){return xt.domCache.get(this).progressSteps},update:function ya(T){const D=_e(),k=xt.innerParams.get(this);if(!D||Et(D,k.hideClass.popup))return F("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Z=bu(T),qe=Object.assign({},k,Z);Oi(this,qe),xt.innerParams.set(this,qe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,T),writable:!1,enumerable:!0}})},_destroy:function We(){const T=xt.domCache.get(this),D=xt.innerParams.get(this);D?(T.popup&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),be.deferDisposalTimer&&(clearTimeout(be.deferDisposalTimer),delete be.deferDisposalTimer),"function"==typeof D.didDestroy&&D.didDestroy(),Jt(this)):jo(this)}});const za=(T,D)=>{const k=xt.innerParams.get(T);if(!k.input)return oe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(D)));const Z=((T,D)=>{const k=T.getInput();if(!k)return null;switch(D.input){case"checkbox":return yc(k);case"radio":return _c(k);case"file":return Va(k);default:return D.inputAutoTrim?k.value.trim():k.value}})(T,k);k.inputValidator?bc(T,Z,D):T.getInput().checkValidity()?"deny"===D?Ga(T,Z):or(T,Z):(T.enableButtons(),T.showValidationMessage(k.validationMessage))},bc=(T,D,k)=>{const Z=xt.innerParams.get(T);T.disableInput(),Promise.resolve().then(()=>$(Z.inputValidator(D,Z.validationMessage))).then(_t=>{T.enableButtons(),T.enableInput(),_t?T.showValidationMessage(_t):"deny"===k?Ga(T,D):or(T,D)})},Ga=(T,D)=>{const k=xt.innerParams.get(T||void 0);k.showLoaderOnDeny&&xr(pn()),k.preDeny?(xt.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>$(k.preDeny(D,k.validationMessage))).then(qe=>{!1===qe?(T.hideLoading(),mi(T)):T.closePopup({isDenied:!0,value:void 0===qe?D:qe})}).catch(qe=>ho(T||void 0,qe))):T.closePopup({isDenied:!0,value:D})},Ho=(T,D)=>{T.closePopup({isConfirmed:!0,value:D})},ho=(T,D)=>{T.rejectPromise(D)},or=(T,D)=>{const k=xt.innerParams.get(T||void 0);k.showLoaderOnConfirm&&xr(),k.preConfirm?(T.resetValidationMessage(),xt.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>$(k.preConfirm(D,k.validationMessage))).then(qe=>{Nn(yt())||!1===qe?(T.hideLoading(),mi(T)):Ho(T,void 0===qe?D:qe)}).catch(qe=>ho(T||void 0,qe))):Ho(T,D)},Cl=(T,D,k)=>{D.popup.onclick=()=>{const Z=xt.innerParams.get(T);Z&&(ls(Z)||Z.timer||Z.input)||k(sr.close)}},ls=T=>T.showConfirmButton||T.showDenyButton||T.showCancelButton||T.showCloseButton;let ki=!1;const va=T=>{T.popup.onmousedown=()=>{T.container.onmouseup=function(D){T.container.onmouseup=void 0,D.target===T.container&&(ki=!0)}}},wc=T=>{T.container.onmousedown=()=>{T.popup.onmouseup=function(D){T.popup.onmouseup=void 0,(D.target===T.popup||T.popup.contains(D.target))&&(ki=!0)}}},ba=(T,D,k)=>{D.container.onclick=Z=>{const qe=xt.innerParams.get(T);ki?ki=!1:Z.target===D.container&&ne(qe.allowOutsideClick)&&k(sr.backdrop)}},Ys=()=>Dt()&&Dt().click(),Cc=(T,D,k)=>{const Z=jn();if(Z.length)return(D+=k)===Z.length?D=0:-1===D&&(D=Z.length-1),Z[D].focus();_e().focus()},Ea=["ArrowRight","ArrowDown"],fo=["ArrowLeft","ArrowUp"],Tl=(T,D,k)=>{const Z=xt.innerParams.get(T);!Z||D.isComposing||229===D.keyCode||(Z.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?po(T,D,Z):"Tab"===D.key?Ic(D,Z):[...Ea,...fo].includes(D.key)?wu(D.key):"Escape"===D.key&&$o(D,Z,k))},po=(T,D,k)=>{if(ne(k.allowEnterKey)&&D.target&&T.getInput()&&D.target.outerHTML===T.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;Ys(),D.preventDefault()}},Ic=(T,D)=>{const k=T.target,Z=jn();let qe=-1;for(let _t=0;_t<Z.length;_t++)if(k===Z[_t]){qe=_t;break}Cc(0,qe,T.shiftKey?-1:1),T.stopPropagation(),T.preventDefault()},wu=T=>{if(![Dt(),pn(),tn()].includes(document.activeElement))return;const qe=Ea.includes(T)?"nextElementSibling":"previousElementSibling";let _t=document.activeElement;for(let Gn=0;Gn<tr().children.length;Gn++){if(_t=_t[qe],!_t)return;if(Nn(_t)&&_t instanceof HTMLButtonElement)break}_t instanceof HTMLButtonElement&&_t.focus()},$o=(T,D,k)=>{ne(D.allowEscapeKey)&&(T.preventDefault(),k(sr.esc))},Dc=T=>T instanceof Element||(T=>"object"==typeof T&&T.jquery)(T);const Tc=()=>{if(be.timeout)return(()=>{const T=Wt(),D=parseInt(window.getComputedStyle(T).width);T.style.removeProperty("transition"),T.style.width="100%";const Z=D/parseInt(window.getComputedStyle(T).width)*100;T.style.removeProperty("transition"),T.style.width="".concat(Z,"%")})(),be.timeout.stop()},rf=()=>{if(be.timeout){const T=be.timeout.start();return ur(T),T}};let us=!1;const go={};const Wa=T=>{for(let D=T.target;D&&D!==document;D=D.parentNode)for(const k in go){const Z=D.getAttribute(k);if(Z)return void go[k].fire({template:Z})}};var Or=Object.freeze({isValidParameter:Ke,isUpdatableParameter:ae,isDeprecatedParameter:me,argsToParams:T=>{const D={};return"object"!=typeof T[0]||Dc(T[0])?["title","html","icon"].forEach((k,Z)=>{const qe=T[Z];"string"==typeof qe||Dc(qe)?D[k]=qe:void 0!==qe&&oe("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(typeof qe))}):Object.assign(D,T[0]),D},isVisible:()=>Nn(_e()),clickConfirm:Ys,clickDeny:()=>pn()&&pn().click(),clickCancel:()=>tn()&&tn().click(),getContainer:de,getPopup:_e,getTitle:Me,getHtmlContainer:kt,getImage:an,getIcon:Qe,getInputLabel:()=>Se(ie["input-label"]),getCloseButton:Jr,getActions:tr,getConfirmButton:Dt,getDenyButton:pn,getCancelButton:tn,getLoader:Tn,getFooter:un,getTimerProgressBar:Wt,getFocusableElements:jn,getValidationMessage:yt,isLoading:()=>_e().hasAttribute("data-loading"),fire:function ks(){const T=this;for(var D=arguments.length,k=new Array(D),Z=0;Z<D;Z++)k[Z]=arguments[Z];return new T(...k)},mixin:function Yn(T){return class D extends(this){_main(Z,qe){return super._main(Z,Object.assign({},T,qe))}}},showLoading:xr,enableLoading:xr,getTimerLeft:()=>be.timeout&&be.timeout.getTimerLeft(),stopTimer:Tc,resumeTimer:rf,toggleTimer:()=>{const T=be.timeout;return T&&(T.running?Tc():rf())},increaseTimer:T=>{if(be.timeout){const D=be.timeout.increase(T);return ur(D,!0),D}},isTimerRunning:()=>be.timeout&&be.timeout.isRunning(),bindClickHandler:function Al(){go[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,us||(document.body.addEventListener("click",Wa),us=!0)}});let Sl;class ii{constructor(){if("undefined"==typeof window)return;Sl=this;for(var D=arguments.length,k=new Array(D),Z=0;Z<D;Z++)k[Z]=arguments[Z];const qe=Object.freeze(this.constructor.argsToParams(k));Object.defineProperties(this,{params:{value:qe,writable:!1,enumerable:!0,configurable:!0}});const _t=this._main(this.params);xt.promise.set(this,_t)}_main(D){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(T=>{!T.backdrop&&T.allowOutsideClick&&F('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in T)Pe(D),T.toast&&je(D),ve(D)})(Object.assign({},k,D)),be.currentInstance&&(be.currentInstance._destroy(),nr()&&_l()),be.currentInstance=this;const Z=Pd(D,k);fc(Z),Object.freeze(Z),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);const qe=Ca(this);return Oi(this,Z),xt.innerParams.set(this,Z),zo(this,qe,Z)}then(D){return xt.promise.get(this).then(D)}finally(D){return xt.promise.get(this).finally(D)}}const zo=(T,D,k)=>new Promise((Z,qe)=>{const _t=Gn=>{T.closePopup({isDismissed:!0,dismiss:Gn})};hn.swalPromiseResolve.set(T,Z),hn.swalPromiseReject.set(T,qe),D.confirmButton.onclick=()=>(T=>{const D=xt.innerParams.get(T);T.disableButtons(),D.input?za(T,"confirm"):or(T,!0)})(T),D.denyButton.onclick=()=>(T=>{const D=xt.innerParams.get(T);T.disableButtons(),D.returnInputValueOnDeny?za(T,"deny"):Ga(T,!1)})(T),D.cancelButton.onclick=()=>((T,D)=>{T.disableButtons(),D(sr.cancel)})(T,_t),D.closeButton.onclick=()=>_t(sr.close),((T,D,k)=>{xt.innerParams.get(T).toast?Cl(T,D,k):(va(D),wc(D),ba(T,D,k))})(T,D,_t),((T,D,k,Z)=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1),k.toast||(D.keydownHandler=qe=>Tl(T,qe,Z),D.keydownTarget=k.keydownListenerCapture?window:_e(),D.keydownListenerCapture=k.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(T,be,k,_t),((T,D)=>{"select"===D.input||"radio"===D.input?Ba(T,D):["text","email","number","tel","textarea"].includes(D.input)&&(Y(D.inputValue)||z(D.inputValue))&&(xr(Dt()),Ua(T,D))})(T,k),pc(k),Ia(be,k,_t),qa(D,k),setTimeout(()=>{D.container.scrollTop=0})}),Pd=(T,D)=>{const k=(T=>{const D="string"==typeof T.template?document.querySelector(T.template):T.template;if(!D)return{};const k=D.content;return ca(k),Object.assign(dc(k),Td(k),As(k),xd(k),hc(k),Ad(k,la))})(T),Z=Object.assign({},J,D,k,T);return Z.showClass=Object.assign({},J.showClass,Z.showClass),Z.hideClass=Object.assign({},J.hideClass,Z.hideClass),Z},Ca=T=>{const D={popup:_e(),container:de(),actions:tr(),confirmButton:Dt(),denyButton:pn(),cancelButton:tn(),loader:Tn(),closeButton:Jr(),validationMessage:yt(),progressSteps:er()};return xt.domCache.set(T,D),D},Ia=(T,D,k)=>{const Z=Wt();ct(Z),D.timer&&(T.timeout=new Vo(()=>{k("timer"),delete T.timeout},D.timer),D.timerProgressBar&&(Nt(Z),rn(Z,D,"timerProgressBar"),setTimeout(()=>{T.timeout&&T.timeout.running&&ur(D.timer)})))},qa=(T,D)=>{if(!D.toast){if(!ne(D.allowEnterKey))return Rd();Eu(T,D)||Cc(0,-1,1)}},Eu=(T,D)=>D.focusDeny&&Nn(T.denyButton)?(T.denyButton.focus(),!0):D.focusCancel&&Nn(T.cancelButton)?(T.cancelButton.focus(),!0):!(!D.focusConfirm||!Nn(T.confirmButton)||(T.confirmButton.focus(),0)),Rd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(ii.prototype,Rs),Object.assign(ii,Or),Object.keys(Rs).forEach(T=>{ii[T]=function(){if(Sl)return Sl[T](...arguments)}}),ii.DismissReason=sr,ii.version="11.4.4";const Ka=ii;return Ka.default=Ka,Ka}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(G,O){var p=G.createElement("style");if(G.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=O);else try{p.innerHTML=O}catch(q){p.innerText=O}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(ce,G,O)=>{"use strict";function oe(de,De){var Se={};for(var _e in de)Object.prototype.hasOwnProperty.call(de,_e)&&De.indexOf(_e)<0&&(Se[_e]=de[_e]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(_e=Object.getOwnPropertySymbols(de);Qe<_e.length;Qe++)De.indexOf(_e[Qe])<0&&Object.prototype.propertyIsEnumerable.call(de,_e[Qe])&&(Se[_e[Qe]]=de[_e[Qe]])}return Se}function ne(de,De,Se,_e){return new(Se||(Se=Promise))(function(Me,kt){function an(Dt){try{yt(_e.next(Dt))}catch(pn){kt(pn)}}function er(Dt){try{yt(_e.throw(Dt))}catch(pn){kt(pn)}}function yt(Dt){Dt.done?Me(Dt.value):function Qe(Me){return Me instanceof Se?Me:new Se(function(kt){kt(Me)})}(Dt.value).then(an,er)}yt((_e=_e.apply(de,De||[])).next())})}function ae(de){return this instanceof ae?(this.v=de,this):new ae(de)}function me(de,De,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,_e=Se.apply(de,De||[]),Me=[];return Qe={},kt("next"),kt("throw"),kt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function kt(ln){_e[ln]&&(Qe[ln]=function(Tn){return new Promise(function(tn,tr){Me.push([ln,Tn,tn,tr])>1||an(ln,Tn)})})}function an(ln,Tn){try{!function er(ln){ln.value instanceof ae?Promise.resolve(ln.value.v).then(yt,Dt):pn(Me[0][2],ln)}(_e[ln](Tn))}catch(tn){pn(Me[0][3],tn)}}function yt(ln){an("next",ln)}function Dt(ln){an("throw",ln)}function pn(ln,Tn){ln(Tn),Me.shift(),Me.length&&an(Me[0][0],Me[0][1])}}function je(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,De=de[Symbol.asyncIterator];return De?De.call(de):(de=function J(de){var De="function"==typeof Symbol&&Symbol.iterator,Se=De&&de[De],_e=0;if(Se)return Se.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&_e>=de.length&&(de=void 0),{value:de&&de[_e++],done:!de}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Se={},_e("next"),_e("throw"),_e("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function _e(Me){Se[Me]=de[Me]&&function(kt){return new Promise(function(an,er){!function Qe(Me,kt,an,er){Promise.resolve(er).then(function(yt){Me({value:yt,done:an})},kt)}(an,er,(kt=de[Me](kt)).done,kt.value)})}}}O.d(G,{_T:()=>oe,mG:()=>ne,qq:()=>ae,FC:()=>me,KL:()=>je})},5e3:(ce,G,O)=>{"use strict";O.d(G,{deG:()=>of,tb:()=>So,AFp:()=>$p,ip1:()=>Hb,CZH:()=>du,hGG:()=>rA,z2F:()=>vy,sBO:()=>Yx,Sil:()=>uI,_Vd:()=>nd,EJc:()=>$b,SBq:()=>rc,qLn:()=>Ei,vpe:()=>dl,tBr:()=>ea,XFs:()=>Et,OlP:()=>br,zs3:()=>_n,ZZ4:()=>Ty,aQg:()=>s0,soG:()=>Wp,YKP:()=>Sp,h0i:()=>ou,PXZ:()=>fd,R0b:()=>Ji,FiY:()=>Fc,Lbi:()=>hd,g9A:()=>dy,Qsj:()=>OC,FYo:()=>Yr,JOm:()=>Ne,tp0:()=>Bc,Rgc:()=>ic,dDg:()=>fI,q4F:()=>Cb,GfV:()=>PC,s_b:()=>ht,ifc:()=>Nt,eFA:()=>Wb,G48:()=>Zx,Gpc:()=>z,X6Q:()=>Hh,_c5:()=>nA,VLi:()=>my,c2e:()=>Fh,zSh:()=>_v,wAp:()=>Bt,vHH:()=>Ue,cg1:()=>pp,kL8:()=>$i,dqk:()=>Yt,sIi:()=>Xf,CqO:()=>Nv,QGY:()=>Dm,F4k:()=>LE,RDi:()=>bl,AaK:()=>ne,qOj:()=>dE,TTD:()=>Bo,_Bn:()=>vb,xp6:()=>z_,uIk:()=>xv,ekj:()=>jv,Suo:()=>kb,Xpm:()=>rt,lG2:()=>Lo,Yz7:()=>tn,cJS:()=>un,oAB:()=>Ln,Yjl:()=>Wi,Y36:()=>tp,_UZ:()=>RE,qZA:()=>rp,TgZ:()=>np,EpF:()=>NE,n5z:()=>Oc,LFG:()=>yn,$8M:()=>vr,$Z:()=>OE,NdJ:()=>sp,CRH:()=>Ph,oxw:()=>HT,ALo:()=>ZC,lcZ:()=>QC,xi3:()=>Mp,gM2:()=>xb,Q6J:()=>Cm,iGM:()=>Rb,CHM:()=>jo,LSH:()=>Gc,YNc:()=>Sv,_uU:()=>Om,Oqu:()=>Pm,hij:()=>cp});var p=O(7579),q=O(727),F=O(8306),oe=O(6451),W=O(3099);function ue(s){for(let a in s)if(s[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function re(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Y(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const $=ue({__forward_ref__:ue});function z(s){return s.__forward_ref__=z,s.toString=function(){return ne(this())},s}function J(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Ue extends Error{constructor(a,l){super(function Ke(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,l)),this.code=a}}function ae(s){return"string"==typeof s?s:null==s?"":String(s)}function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ae(s)}function Ie(s,a){const l=a?` in ${a}`:"";throw new Ue(-201,`No provider for ${me(s)} found${l}`)}function yt(s,a){null==s&&function Dt(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function un(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return Jr(s,Lr)||Jr(s,cr)}function Jr(s,a){return s.hasOwnProperty(a)?s[a]:null}function nr(s){return s&&(s.hasOwnProperty(hi)||s.hasOwnProperty(vn))?s[hi]:null}const Lr=ue({\u0275prov:ue}),hi=ue({\u0275inj:ue}),cr=ue({ngInjectableDef:ue}),vn=ue({ngInjectorDef:ue});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Fr;function Fn(s){const a=Fr;return Fr=s,a}function is(s,a,l){const d=Wt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Et.Optional?null:void 0!==a?a:void Ie(ne(s),"Injector")}function Pt(s){return{toString:s}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Nt=(()=>{return(s=Nt||(Nt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Nt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,rr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=ct||"undefined"!=typeof global&&global||Mt||rr,ur={},Q=[],se=ue({\u0275cmp:ue}),le=ue({\u0275dir:ue}),be=ue({\u0275pipe:ue}),Ee=ue({\u0275mod:ue}),dt=ue({\u0275fac:ue}),ze=ue({__NG_ELEMENT_ID__:ue});let He=0;function rt(s){return Pt(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Nt.Emulated,id:"c",styles:s.styles||Q,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,b=s.pipes;return d.id+=He++,d.inputs=ao(s.inputs,l),d.outputs=ao(s.outputs),m&&m.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(zt):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(Tt):null,d})}function zt(s){return zn(s)||function Vr(s){return s[le]||null}(s)}function Tt(s){return function pi(s){return s[be]||null}(s)}const gn={};function Ln(s){return Pt(()=>{const a={type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(gn[s.id]=s.type),a})}function ao(s,a){if(null==s)return ur;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,a&&(a[h]=m)}return l}const Lo=rt;function Wi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zn(s){return s[se]||null}function Kn(s,a){const l=s[Ee]||null;if(!l&&!0===a)throw new Error(`Type ${ne(s)} does not have '\u0275mod' property.`);return l}function Vn(s){return Array.isArray(s)&&"object"==typeof s[1]}function Xt(s){return Array.isArray(s)&&!0===s[1]}function ti(s){return 0!=(8&s.flags)}function Fo(s){return 2==(2&s.flags)}function Oi(s){return 1==(1&s.flags)}function sr(s){return null!==s.template}function yu(s){return 0!=(512&s[2])}function Ri(s,a){return s.hasOwnProperty(dt)?s[dt]:null}class Ms{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Bo(){return co}function co(s){return s.type.prototype.ngOnChanges&&(s.setInput=vu),pc}function pc(){const s=gc(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===ur)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function vu(s,a,l,d){const h=gc(s)||function Os(s,a){return s[uo]=a}(s,{previous:ur,current:null}),m=h.current||(h.current={}),b=h.previous,C=this.declaredInputs[l],x=b[C];m[C]=new Ms(x&&x.currentValue,a,b===ur),s[d]=a}Bo.ngInherit=!0;const uo="__ngSimpleChanges__";function gc(s){return s[uo]||null}let Ua;function bl(s){Ua=s}function xn(s){return!!s.listen}const da={createRenderer:(s,a)=>function qi(){return void 0!==Ua?Ua:"undefined"!=typeof document?document:void 0}()};function hn(s){for(;Array.isArray(s);)s=s[0];return s}function os(s,a){return hn(a[s])}function Ar(s,a){return hn(a[s.index])}function Zn(s,a){return s.data[a]}function mi(s,a){return s[a]}function Sr(s,a){const l=a[s];return Vn(l)?l:l[0]}function Uo(s){return 4==(4&s[2])}function as(s){return 128==(128&s[2])}function ni(s,a){return null==a?null:s[a]}function Ps(s){s[18]=0}function Zs(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Ot={lFrame:po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wl(){return Ot.bindingsEnabled}function We(){return Ot.lFrame.lView}function Jt(){return Ot.lFrame.tView}function jo(s){return Ot.lFrame.contextLView=s,s[8]}function $n(){let s=Rs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rs(){return Ot.lFrame.currentTNode}function ri(s,a){const l=Ot.lFrame;l.currentTNode=s,l.isParent=a}function El(){return Ot.lFrame.isParent}function Ho(){return Ot.isInCheckNoChangesMode}function ho(s){Ot.isInCheckNoChangesMode=s}function or(){const s=Ot.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ls(){return Ot.lFrame.bindingIndex++}function ba(s,a){const l=Ot.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ys(a)}function Ys(s){Ot.lFrame.currentDirectiveIndex=s}function wa(){return Ot.lFrame.currentQueryIndex}function Dl(s){Ot.lFrame.currentQueryIndex=s}function Cc(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Ea(s,a,l){if(l&Et.SkipSelf){let h=a,m=s;for(;!(h=h.parent,null!==h||l&Et.Host||(h=Cc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,s=m}const d=Ot.lFrame=Tl();return d.currentTNode=a,d.lView=s,!0}function fo(s){const a=Tl(),l=s[1];Ot.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Tl(){const s=Ot.lFrame,a=null===s?null:s.child;return null===a?po(s):a}function po(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Ic(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const wu=Ic;function $o(){const s=Ic();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Mr(){return Ot.lFrame.selectedIndex}function ks(s){Ot.lFrame.selectedIndex=s}function Yn(){const s=Ot.lFrame;return Zn(s.tView,s.selectedIndex)}function us(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:P,ngOnDestroy:L}=m;b&&(s.contentHooks||(s.contentHooks=[])).push(-l,b),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),x&&(s.viewHooks||(s.viewHooks=[])).push(-l,x),P&&((s.viewHooks||(s.viewHooks=[])).push(l,P),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,P)),null!=L&&(s.destroyHooks||(s.destroyHooks=[])).push(l,L)}}function go(s,a,l){Or(s,a,3,l)}function Al(s,a,l,d){(3&s[2])===l&&Or(s,a,l,d)}function Wa(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Or(s,a,l,d){const m=null!=d?d:-1,b=a.length-1;let C=0;for(let x=void 0!==d?65535&s[18]:0;x<b;x++)if("number"==typeof a[x+1]){if(C=a[x],null!=d&&C>=d)break}else a[x]<0&&(s[18]+=65536),(C<m||-1==m)&&(Sl(s,l,a,x),s[18]=(4294901760&s[18])+x+2),x++}function Sl(s,a,l,d){const h=l[d]<0,m=l[d+1],C=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class zo{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function D(s,a,l){const d=xn(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const b=l[h++],C=l[h++],x=l[h++];d?s.setAttribute(a,C,x,b):a.setAttributeNS(b,C,x)}else{const b=m,C=l[++h];Z(b)?d&&s.setProperty(a,b,C):d?s.setAttribute(a,b,C):a.setAttribute(b,C),h++}}return h}function k(s){return 3===s||4===s||6===s}function Z(s){return 64===s.charCodeAt(0)}function qe(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||_t(s,l,h,null,-1===l||2===l?a[++d]:null)}}return s}function _t(s,a,l,d,h){let m=0,b=s.length;if(-1===a)b=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===a){b=-1;break}if(C>a){b=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==b&&(s.splice(b,0,a),m=b+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Gn(s){return-1!==s}function nn(s){return 32767&s}function yi(s,a){let l=function _r(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let ds=!0;function Ht(s){const a=ds;return ds=s,a}let Ml=0;function _i(s,a){const l=Go(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,Da(d.data,s),Da(a,null),Da(d.blueprint,null));const h=Sc(s,a),m=s.injectorIndex;if(Gn(h)){const b=nn(h),C=yi(h,a),x=C[1].data;for(let P=0;P<8;P++)a[m+P]=C[b+P]|x[b+P]}return a[m+8]=h,m}function Da(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Go(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Sc(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){const m=h[1],b=m.type;if(d=2===b?m.declTNode:1===b?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function vi(s,a,l){!function Ol(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ze)&&(d=l[ze]),null==d&&(d=l[ze]=Ml++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function Wo(s,a,l){if(l&Et.Optional)return s;Ie(a,"NodeInjector")}function Pl(s,a,l,d){if(l&Et.Optional&&void 0===d&&(d=null),0==(l&(Et.Self|Et.Host))){const h=s[9],m=Fn(void 0);try{return h?h.get(a,d,l&Et.Optional):is(a,d,l&Et.Optional)}finally{Fn(m)}}return Wo(d,a,l)}function qo(s,a,l,d=Et.Default,h){if(null!==s){const m=function Za(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ze)?s[ze]:void 0;return"number"==typeof a?a>=0?255&a:Rl:a}(l);if("function"==typeof m){if(!Ea(a,s,d))return d&Et.Host?Wo(h,l,d):Pl(a,l,d,h);try{const b=m(d);if(null!=b||d&Et.Optional)return b;Ie(l)}finally{wu()}}else if("number"==typeof m){let b=null,C=Go(s,a),x=-1,P=d&Et.Host?a[16][6]:null;for((-1===C||d&Et.SkipSelf)&&(x=-1===C?Sc(s,a):a[C+8],-1!==x&&Ls(d,!1)?(b=a[1],C=nn(x),a=yi(x,a)):C=-1);-1!==C;){const L=a[1];if(Iu(m,C,L.data)){const H=kl(C,a,l,b,d,P);if(H!==Ta)return H}x=a[C+8],-1!==x&&Ls(d,a[1].data[C+8]===P)&&Iu(m,C,a)?(b=L,C=nn(x),a=yi(x,a)):C=-1}}}return Pl(a,l,d,h)}const Ta={};function Rl(){return new mo($n(),We())}function kl(s,a,l,d,h,m){const b=a[1],C=b.data[s+8],L=Cu(C,b,l,null==d?Fo(C)&&ds:d!=b&&0!=(3&C.type),h&Et.Host&&m===C);return null!==L?Ns(a,b,L,C):Ta}function Cu(s,a,l,d,h){const m=s.providerIndexes,b=a.data,C=1048575&m,x=s.directiveStart,L=m>>20,te=h?C+L:s.directiveEnd;for(let pe=d?C:C+L;pe<te;pe++){const Fe=b[pe];if(pe<x&&l===Fe||pe>=x&&Fe.type===l)return pe}if(h){const pe=b[x];if(pe&&sr(pe)&&pe.type===l)return x}return null}function Ns(s,a,l,d){let h=s[l];const m=a.data;if(function Pd(s){return s instanceof zo}(h)){const b=h;b.resolving&&function Pe(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${s}${l}`)}(me(m[l]));const C=Ht(b.canSeeViewProviders);b.resolving=!0;const x=b.injectImpl?Fn(b.injectImpl):null;Ea(s,d,Et.Default);try{h=s[l]=b.factory(void 0,m,s,d),a.firstCreatePass&&l>=d.directiveStart&&function xl(s,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const b=co(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,b)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],a)}finally{null!==x&&Fn(x),Ht(C),b.resolving=!1,wu()}}return h}function Iu(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function Ls(s,a){return!(s&Et.Self||s&Et.Host&&a)}class mo{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return qo(this._tNode,this._lView,a,d,l)}}function Oc(s){return Pt(()=>{const a=s.prototype.constructor,l=a[dt]||yo(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[dt]||yo(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function yo(s){return Oe(s)?()=>{const a=yo(J(s));return a&&a()}:Ri(s)}function vr(s){return function Mc(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(k(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===a)return l[h+1];h+=2}}}return null}($n(),s)}const Fs="__parameters__";function Qs(s,a,l){return Pt(()=>{const d=function Zo(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const b=new h(...m);return C.annotation=b,C;function C(x,P,L){const H=x.hasOwnProperty(Fs)?x[Fs]:Object.defineProperty(x,Fs,{value:[]})[Fs];for(;H.length<=L;)H.push(null);return(H[L]=H[L]||[]).push(b),x}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class br{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=tn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const of=new br("AnalyzeForEntryComponents");function Zr(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(a===s&&(a=s.slice(0,l)),Zr(d,a)):a!==s&&a.push(d)}return a}function Fi(s,a){s.forEach(l=>Array.isArray(l)?Fi(l,a):a(l))}function Fl(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function vo(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Wn(s,a,l){let d=Qo(s,a);return d>=0?s[1|d]=l:(d=~d,function Tg(s,a,l,d){let h=s.length;if(h==a)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function Vl(s,a){const l=Qo(s,a);if(l>=0)return s[1|l]}function Qo(s,a){return function Xo(s,a,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),b=s[m<<l];if(a===b)return m<<l;b>a?h=m:d=m+1}return~(h<<l)}(s,a,1)}const M={},V="__NG_DI_FLAG__",K="ngTempTokenPath",xe=/\n/gm,ft="__source",mt=ue({provide:String,useValue:ue});let en;function mn(s){const a=en;return en=s,a}function Vt(s,a=Et.Default){if(void 0===en)throw new Ue(203,"");return null===en?is(s,void 0,a):en.get(s,a&Et.Optional?null:void 0,a)}function yn(s,a=Et.Default){return(function rn(){return Fr}()||Vt)(J(s),a)}const fs=yn;function Bl(s){const a=[];for(let l=0;l<s.length;l++){const d=J(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ue(900,"");let h,m=Et.Default;for(let b=0;b<d.length;b++){const C=d[b],x=Bs(C);"number"==typeof x?-1===x?h=C.token:m|=x:h=C}a.push(yn(h,m))}else a.push(yn(d))}return a}function ps(s,a){return s[V]=a,s.prototype[V]=a,s}function Bs(s){return s[V]}const ea=ps(Qs("Inject",s=>({token:s})),-1),Fc=ps(Qs("Optional"),8),Bc=ps(Qs("SkipSelf"),4);class zd{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ta(s){return s instanceof zd?s.changingThisBreaksApplicationSecurity:s}const na=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function Gc(s){const a=function Ma(){const s=We();return s&&s[12]}();return a?a.sanitize(An.URL,s)||"":function Xa(s,a){const l=function jc(s){return s instanceof zd&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}(s,"URL")?ta(s):function Hc(s){return(s=String(s)).match(na)||s.match(gf)?s:"unsafe:"+s}(ae(s))}const Df="__ngContext__";function Vi(s,a){s[Df]=a}function Tf(s){const a=function $l(s){return s[Df]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Wl(s){return s.ngOriginalError}function Bg(s,...a){s.error(...a)}class Ei{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),d=function T_(s){return s&&s.ngErrorLogger||Bg}(a);d(this._console,"ERROR",a),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Wl(a);for(;l&&Wl(l);)l=Wl(l);return l||null}}const M_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function y(s){return s instanceof Function?s():s}var Ne=(()=>((Ne=Ne||{})[Ne.Important=1]="Important",Ne[Ne.DashCase=2]="DashCase",Ne))();function Ct(s,a){return undefined(s,a)}function hr(s){const a=s[3];return Xt(a)?a[3]:a}function Wc(s){return kf(s[13])}function qc(s){return kf(s[4])}function kf(s){for(;null!==s&&!Xt(s);)s=s[4];return s}function tl(s,a,l,d,h){if(null!=d){let m,b=!1;Xt(d)?m=d:Vn(d)&&(b=!0,d=d[0]);const C=hn(d);0===s&&null!==l?null==h?L_(a,l,C):wo(a,l,C,h||null,!0):1===s&&null!==l?wo(a,l,C,h||null,!0):2===s?function U_(s,a,l){const d=Vf(s,a);d&&function $D(s,a,l,d){xn(s)?s.removeChild(a,l,d):a.removeChild(l)}(s,d,a,l)}(a,C,b):3===s&&a.destroyNode(C),null!=m&&function $u(s,a,l,d,h){const m=l[7];m!==hn(l)&&tl(a,s,d,m,h);for(let C=10;C<l.length;C++){const x=l[C];zg(x[1],x,s,a,d,m)}}(a,s,m,l,h)}}function Xd(s,a,l){if(xn(s))return s.createElement(a,l);{const d=null!==l?function Ba(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(a):s.createElementNS(d,a)}}function ow(s,a){const l=s[9],d=l.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Zs(h,-1)),l.splice(d,1)}function R_(s,a){if(s.length<=10)return;const l=10+a,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&ow(h,d),a>0&&(s[l-1][4]=d[4]);const m=vo(s,10+a);!function Ci(s,a){zg(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function k_(s,a){if(!(256&a[2])){const l=a[11];xn(l)&&l.destroyNode&&zg(s,a,l,3,null,null),function jg(s){let a=s[13];if(!a)return N_(s[1],s);for(;a;){let l=null;if(Vn(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)Vn(a)&&N_(a[1],a),a=a[3];null===a&&(a=s),Vn(a)&&N_(a[1],a),l=a&&a[4]}a=l}}(a)}}function N_(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function lw(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof zo)){const m=l[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const C=h[m[b]],x=m[b+1];try{x.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,a),function aw(s,a){const l=s.cleanup,d=a[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const b=l[m+1],C="function"==typeof b?b(a):hn(a[b]),x=d[h=l[m+2]],P=l[m+3];"boolean"==typeof P?C.removeEventListener(l[m],x,P):P>=0?d[h=P]():d[h=-P].unsubscribe(),m+=2}else{const b=d[h=l[m+1]];l[m].call(b)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();a[7]=null}}(s,a),1===a[1].type&&xn(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&Xt(a[3])){l!==a[3]&&ow(l,a);const d=a[19];null!==d&&d.detachView(s)}}}function Hg(s,a,l){return function HD(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Nt.None||h===Nt.Emulated)return null}return Ar(d,l)}(s,a.parent,l)}function wo(s,a,l,d,h){xn(s)?s.insertBefore(a,l,d,h):a.insertBefore(l,d,h)}function L_(s,a,l){xn(s)?s.appendChild(a,l):a.appendChild(l)}function cw(s,a,l,d,h){null!==d?wo(s,a,l,d,h):L_(s,a,l)}function Vf(s,a){return xn(s)?s.parentNode(a):a.parentNode}let F_=function dw(s,a,l){return 40&s.type?Ar(s,l):null};function $g(s,a,l,d){const h=Hg(s,d,a),m=a[11],C=function uw(s,a,l){return F_(s,a,l)}(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let x=0;x<l.length;x++)cw(m,h,l[x],C,!1);else cw(m,h,l,C,!1)}function th(s,a){if(null!==a){const l=a.type;if(3&l)return Ar(a,s);if(4&l)return B_(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return th(s,d);{const h=s[a.index];return Xt(h)?B_(-1,h):hn(h)}}if(32&l)return Ct(a,s)()||hn(s[a.index]);{const d=fw(s,a);return null!==d?Array.isArray(d)?d[0]:th(hr(s[16]),d):th(s,a.next)}}return null}function fw(s,a){return null!==a?s[16][6].projection[a.projection]:null}function B_(s,a){const l=10+s+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return th(d,h)}return a[7]}function j_(s,a,l,d,h,m,b){for(;null!=l;){const C=d[l.index],x=l.type;if(b&&0===a&&(C&&Vi(hn(C),d),l.flags|=4),64!=(64&l.flags))if(8&x)j_(s,a,l.child,d,h,m,!1),tl(a,s,h,C,m);else if(32&x){const P=Ct(l,d);let L;for(;L=P();)tl(a,s,h,L,m);tl(a,s,h,C,m)}else 16&x?H_(s,a,d,l,h,m):tl(a,s,h,C,m);l=b?l.projectionNext:l.next}}function zg(s,a,l,d,h,m){j_(l,d,s.firstChild,a,h,m,!1)}function H_(s,a,l,d,h,m){const b=l[16],x=b[6].projection[d.projection];if(Array.isArray(x))for(let P=0;P<x.length;P++)tl(a,s,h,x[P],m);else j_(s,a,x,b[3],h,m,!0)}function pw(s,a,l){xn(s)?s.setAttribute(a,"style",l):a.style.cssText=l}function Gg(s,a,l){xn(s)?""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l):a.className=l}function gw(s,a,l){let d=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const mw="ng-template";function nh(s,a,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==gw(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function ql(s){return 4===s.type&&s.value!==mw}function yw(s,a,l){return a===(4!==s.type||l?s.value:mw)}function ms(s,a,l){let d=4;const h=s.attrs||[],m=function vw(s){for(let a=0;a<s.length;a++)if(k(s[a]))return a;return s.length}(h);let b=!1;for(let C=0;C<a.length;C++){const x=a[C];if("number"!=typeof x){if(!b)if(4&d){if(d=2|1&d,""!==x&&!yw(s,x,l)||""===x&&1===a.length){if(Bi(d))return!1;b=!0}}else{const P=8&d?x:a[++C];if(8&d&&null!==s.attrs){if(!nh(s.attrs,P,l)){if(Bi(d))return!1;b=!0}continue}const H=WD(8&d?"class":x,h,ql(s),l);if(-1===H){if(Bi(d))return!1;b=!0;continue}if(""!==P){let te;te=H>m?"":h[H+1].toLowerCase();const pe=8&d?te:null;if(pe&&-1!==gw(pe,P,0)||2&d&&P!==te){if(Bi(d))return!1;b=!0}}}}else{if(!b&&!Bi(d)&&!Bi(x))return!1;if(b&&Bi(x))continue;b=!1,d=x|1&d}}return Bi(d)||b}function Bi(s){return 0==(1&s)}function WD(s,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let m=!1;for(;h<a.length;){const b=a[h];if(b===s)return h;if(3===b||6===b)m=!0;else{if(1===b||2===b){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===b)break;if(0===b){h+=4;continue}}h+=m?1:2}return-1}return function bw(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function Eo(s,a,l=!1){for(let d=0;d<a.length;d++)if(ms(s,a[d],l))return!0;return!1}function $_(s,a){return s?":not("+a.trim()+")":a}function Ew(s){let a=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let b=s[l];if("string"==typeof b)if(2&d){const C=s[++l];h+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+b:4&d&&(h+=" "+b);else""!==h&&!Bi(b)&&(a+=$_(m,h),h=""),d=b,m=m||!Bi(d);l++}return""!==h&&(a+=$_(m,h)),a}const Kt={};function z_(s){G_(Jt(),We(),Mr()+s,Ho())}function G_(s,a,l,d){if(!d)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&go(a,m,l)}else{const m=s.preOrderHooks;null!==m&&Al(a,m,0,l)}ks(l)}function Bf(s,a){return s<<17|a<<2}function Pa(s){return s>>17&32767}function Uf(s){return 2|s}function rl(s){return(131068&s)>>2}function jf(s,a){return-131069&s|a<<2}function Wg(s){return 1|s}function em(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const b=s.data[m];Dl(h),b.contentQueries(2,a[m],m)}}}function zu(s,a,l,d,h,m,b,C,x,P){const L=a.blueprint.slice();return L[0]=h,L[2]=140|d,Ps(L),L[3]=L[15]=s,L[8]=l,L[10]=b||s&&s[10],L[11]=C||s&&s[11],L[12]=x||s&&s[12]||null,L[9]=P||s&&s[9]||null,L[6]=m,L[16]=2==a.type?s[16]:L,L}function Zc(s,a,l,d,h){let m=s.data[a];if(null===m)m=function Rw(s,a,l,d,h){const m=Rs(),b=El(),x=s.data[a]=function Nw(s,a,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,l,a,d,h);return null===s.firstChild&&(s.firstChild=x),null!==m&&(b?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(s,a,l,d,h),function va(){return Ot.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const b=function _a(){const s=Ot.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return ri(m,!0),m}function Yc(s,a,l,d){if(0===l)return-1;const h=a.length;for(let m=0;m<l;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Kl(s,a,l){fo(a);try{const d=s.viewQuery;null!==d&&pv(1,d,l);const h=s.template;null!==h&&oh(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&em(s,a),s.staticViewQueries&&pv(2,s.viewQuery,l);const m=s.components;null!==m&&function Pw(s,a){for(let l=0;l<a.length;l++)uv(s,a[l])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,$o()}}function Zl(s,a,l,d){const h=a[2];if(256==(256&h))return;fo(a);const m=Ho();try{Ps(a),function Cl(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&oh(s,a,l,2,d);const b=3==(3&h);if(!m)if(b){const P=s.preOrderCheckHooks;null!==P&&go(a,P,null)}else{const P=s.preOrderHooks;null!==P&&Al(a,P,0,null),Wa(a,0)}if(function cT(s){for(let a=Wc(s);null!==a;a=qc(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(1024&h[2])&&Zs(m,1),h[2]|=1024}}}(a),function Ww(s){for(let a=Wc(s);null!==a;a=qc(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];as(d)&&Zl(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&em(s,a),!m)if(b){const P=s.contentCheckHooks;null!==P&&go(a,P)}else{const P=s.contentHooks;null!==P&&Al(a,P,1),Wa(a,1)}!function eT(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ks(~h);else{const m=h,b=l[++d],C=l[++d];ba(b,m),C(2,a[m])}}}finally{ks(-1)}}(s,a);const C=s.components;null!==C&&function tT(s,a){for(let l=0;l<a.length;l++)ah(s,a[l])}(a,C);const x=s.viewQuery;if(null!==x&&pv(2,x,d),!m)if(b){const P=s.viewCheckHooks;null!==P&&go(a,P)}else{const P=s.viewHooks;null!==P&&Al(a,P,2),Wa(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Zs(a[3],-1))}finally{$o()}}function sh(s,a,l,d){const h=a[10],m=!Ho(),b=Uo(a);try{m&&!b&&h.begin&&h.begin(),b&&Kl(s,a,d),Zl(s,a,l,d)}finally{m&&!b&&h.end&&h.end()}}function oh(s,a,l,d,h){const m=Mr(),b=2&d;try{ks(-1),b&&a.length>20&&G_(s,a,20,Ho()),l(d,h)}finally{ks(m)}}function zf(s,a,l){!wl()||(function Bw(s,a,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||_i(l,a),Vi(d,a);const b=l.initialInputs;for(let C=h;C<m;C++){const x=s.data[C],P=sr(x);P&&Hw(a,l,x);const L=Ns(a,s,C,l);Vi(L,a),null!==b&&lT(0,C-h,L,x,0,b),P&&(Sr(l.index,a)[8]=L)}}(s,a,l,Ar(l,a)),128==(128&l.flags)&&function sT(s,a,l){const d=l.directiveStart,h=l.directiveEnd,b=l.index,C=function Ec(){return Ot.lFrame.currentDirectiveIndex}();try{ks(b);for(let x=d;x<h;x++){const P=s.data[x],L=a[x];Ys(x),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&av(P,L)}}finally{ks(-1),Ys(C)}}(s,a,l))}function tm(s,a,l=Ar){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],C=-1===b?l(a,s):s[b];s[h++]=C}}}function nm(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Gf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Gf(s,a,l,d,h,m,b,C,x,P){const L=20+d,H=L+h,te=function rm(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:Kt);return l}(L,H),pe="function"==typeof P?P():P;return te[1]={type:s,blueprint:te,template:l,queries:null,viewQuery:C,declTNode:a,data:te.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:pe,incompleteFirstPass:!1}}function nv(s,a,l,d){const h=Kw(a);null===l?h.push(d):(h.push(l),s.firstCreatePass&&fT(s).push(d,h.length-1))}function rv(s,a,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,h):l[d]=[a,h]}return l}function Vw(s,a,l,d){let h=!1;if(wl()){const m=function Uw(s,a,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];Eo(l,b.selectors,!1)&&(h||(h=[]),vi(_i(l,a),s,b.type),sr(b)?(Wf(s,l),h.unshift(b)):h.push(b))}return h}(s,a,l),b=null===d?null:{"":-1};if(null!==m){h=!0,jw(l,s.data.length,m.length);for(let L=0;L<m.length;L++){const H=m[L];H.providersResolver&&H.providersResolver(H)}let C=!1,x=!1,P=Yc(s,a,m.length,null);for(let L=0;L<m.length;L++){const H=m[L];l.mergedAttrs=qe(l.mergedAttrs,H.hostAttrs),aT(s,l,a,P,H),lv(P,H,b),null!==H.contentQueries&&(l.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(l.flags|=128);const te=H.type.prototype;!C&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!x&&(te.ngOnChanges||te.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),x=!0),P++}!function iv(s,a){const d=a.directiveEnd,h=s.data,m=a.attrs,b=[];let C=null,x=null;for(let P=a.directiveStart;P<d;P++){const L=h[P],H=L.inputs,te=null===m||ql(a)?null:$w(H,m);b.push(te),C=rv(H,P,C),x=rv(L.outputs,P,x)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=C,a.outputs=x}(s,l)}b&&function oT(s,a,l){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const m=l[a[h+1]];if(null==m)throw new Ue(-301,!1);d.push(a[h],m)}}}(l,d,b)}return l.mergedAttrs=qe(l.mergedAttrs,l.attrs),h}function rT(s,a,l,d,h,m){const b=m.hostBindings;if(b){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const x=~a.index;(function iT(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=x&&C.push(x),C.push(d,h,b)}}function av(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Wf(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function lv(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;sr(a)&&(l[""]=s)}}function jw(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function aT(s,a,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=Ri(h.type)),b=new zo(m,sr(h),null);s.blueprint[d]=b,l[d]=b,rT(s,a,0,d,Yc(s,l,h.hostVars,Kt),h)}function Hw(s,a,l){const d=Ar(a,s),h=nm(l),m=s[10],b=lh(s,zu(s,h,null,l.onPush?64:16,d,a,m,m.createRenderer(d,l),null,null));s[a.index]=b}function sl(s,a,l,d,h,m){const b=Ar(s,a);!function om(s,a,l,d,h,m,b){if(null==m)xn(s)?s.removeAttribute(a,h,l):a.removeAttribute(h);else{const C=null==b?ae(m):b(m,d||"",h);xn(s)?s.setAttribute(a,h,C,l):l?a.setAttributeNS(l,h,C):a.setAttribute(h,C)}}(a[11],b,m,s.value,l,d,h)}function lT(s,a,l,d,h,m){const b=m[a];if(null!==b){const C=d.setInput;for(let x=0;x<b.length;){const P=b[x++],L=b[x++],H=b[x++];null!==C?d.setInput(l,H,P,L):l[L]=H}}}function $w(s,a){let l=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],a[d+1])),d+=2}else d+=2;else d+=4}return l}function Gw(s,a,l,d){return new Array(s,!0,!1,a,null,0,d,l,null,null)}function ah(s,a){const l=Sr(a,s);if(as(l)){const d=l[1];80&l[2]?Zl(d,l,d.template,l[8]):l[5]>0&&cv(l)}}function cv(s){for(let d=Wc(s);null!==d;d=qc(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const b=m[1];Zl(b,m,b.template,m[8])}else m[5]>0&&cv(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Sr(l[d],s);as(h)&&h[5]>0&&cv(h)}}function uv(s,a){const l=Sr(a,s),d=l[1];(function uT(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),Kl(d,l,l[8])}function lh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function am(s){for(;s;){s[2]|=64;const a=hr(s);if(yu(s)&&!a)return s;s=a}return null}function dv(s,a,l){const d=a[10];d.begin&&d.begin();try{Zl(s,a,s.template,l)}catch(h){throw Zw(a,h),h}finally{d.end&&d.end()}}function hv(s){!function Gu(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],d=Tf(l),h=d[1];sh(h,d,h.template,l)}}(s[8])}function pv(s,a,l){Dl(0),a(s,l)}const qw=(()=>Promise.resolve(null))();function Kw(s){return s[7]||(s[7]=[])}function fT(s){return s.cleanup||(s.cleanup=[])}function Zw(s,a){const l=s[9],d=l?l.get(Ei,null):null;d&&d.handleError(a)}function gv(s,a,l,d,h){for(let m=0;m<l.length;){const b=l[m++],C=l[m++],x=a[b],P=s.data[b];null!==P.setInput?P.setInput(x,h,d,C):x[C]=h}}function Yl(s,a,l){const d=os(a,s);!function Qd(s,a,l){xn(s)?s.setValue(a,l):a.textContent=l}(s[11],d,l)}function qf(s,a,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const C=a[b];"number"==typeof C?m=C:1==m?h=Y(h,C):2==m&&(d=Y(d,C+": "+a[++b]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const mv=new br("INJECTOR",-1);class yv{get(a,l=M){if(l===M){const d=new Error(`NullInjectorError: No provider for ${ne(a)}!`);throw d.name="NullInjectorError",d}return l}}const _v=new br("Set Injector scope."),Kf={},vv={};let cm;function Yw(){return void 0===cm&&(cm=new yv),cm}function bv(s,a=null,l=null,d){const h=Qw(s,a,l,d);return h._resolveInjectorDefTypes(),h}function Qw(s,a=null,l=null,d){return new Xw(s,l,a||Yw(),d)}class Xw{constructor(a,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Fi(l,C=>this.processProvider(C,a,l)),Fi([a],C=>this.processInjectorType(C,[],m)),this.records.set(mv,Zf(void 0,this));const b=this.records.get(_v);this.scope=null!=b?b.value:null,this.source=h||("object"==typeof a?null:ne(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=M,d=Et.Default){this.assertNotDestroyed();const h=mn(this),m=Fn(void 0);try{if(!(d&Et.SkipSelf)){let C=this.records.get(a);if(void 0===C){const x=function gO(s){return"function"==typeof s||"object"==typeof s&&s instanceof br}(a)&&Wt(a);C=x&&this.injectableDefInScope(x)?Zf(wv(a),Kf):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&Et.Self?Yw():this.parent).get(a,l=d&Et.Optional&&l===M?null:l)}catch(b){if("NullInjectorError"===b.name){if((b[K]=b[K]||[]).unshift(ne(a)),h)throw b;return function Jo(s,a,l,d){const h=s[K];throw a[ft]&&h.unshift(a[ft]),s.message=function Ya(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ne(a);if(Array.isArray(a))h=a.map(ne).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let C=a[b];m.push(b+":"+("string"==typeof C?JSON.stringify(C):ne(C)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(xe,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[K]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{Fn(m),mn(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(ne(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processInjectorType(a,l,d){if(!(a=J(a)))return!1;let h=nr(a);const m=null==h&&a.ngModule||void 0,b=void 0===m?a:m,C=-1!==d.indexOf(b);if(void 0!==m&&(h=nr(m)),null==h)return!1;if(null!=h.imports&&!C){let L;d.push(b);try{Fi(h.imports,H=>{this.processInjectorType(H,l,d)&&(void 0===L&&(L=[]),L.push(H))})}finally{}if(void 0!==L)for(let H=0;H<L.length;H++){const{ngModule:te,providers:pe}=L[H];Fi(pe,Fe=>this.processProvider(Fe,te,pe||Q))}}this.injectorDefTypes.add(b);const x=Ri(b)||(()=>new b);this.records.set(b,Zf(x,Kf));const P=h.providers;if(null!=P&&!C){const L=a;Fi(P,H=>this.processProvider(H,L,P))}return void 0!==m&&void 0!==a.providers}processProvider(a,l,d){let h=Yf(a=J(a))?a:J(a&&a.provide);const m=function mT(s,a,l){return yT(s)?Zf(void 0,s.useValue):Zf(Ev(s),Kf)}(a);if(Yf(a)||!0!==a.multi)this.records.get(h);else{let b=this.records.get(h);b||(b=Zf(void 0,Kf,!0),b.factory=()=>Bl(b.multi),this.records.set(h,b)),h=a,b.multi.push(a)}this.records.set(h,m)}hydrate(a,l){return l.value===Kf&&(l.value=vv,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Cv(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=J(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function wv(s){const a=Wt(s),l=null!==a?a.factory:Ri(s);if(null!==l)return l;if(s instanceof br)throw new Ue(204,!1);if(s instanceof Function)return function Jw(s){const a=s.length;if(a>0)throw function Vs(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}(a,"?"),new Ue(204,!1);const l=function ei(s){const a=s&&(s[Lr]||s[cr]);if(a){const l=function jn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ue(204,!1)}function Ev(s,a,l){let d;if(Yf(s)){const h=J(s);return Ri(h)||wv(h)}if(yT(s))d=()=>J(s.useValue);else if(function _T(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Bl(s.deps||[]));else if(function pO(s){return!(!s||!s.useExisting)}(s))d=()=>yn(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function vT(s){return!!s.deps}(s))return Ri(h)||wv(h);d=()=>new h(...Bl(s.deps))}return d}function Zf(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function yT(s){return null!==s&&"object"==typeof s&&mt in s}function Yf(s){return"function"==typeof s}let _n=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return bv({name:""},d,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return bv({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=M,s.NULL=new yv,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>yn(mv)}),s.__NG_ELEMENT_ID__=-1,s})();function IT(s,a){us(Tf(s)[1],$n())}function dE(s){let a=function DT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let h;if(sr(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ue(903,"");h=a.\u0275dir}if(h){if(l){d.push(h);const b=s;b.inputs=hE(s.inputs),b.declaredInputs=hE(s.declaredInputs),b.outputs=hE(s.outputs);const C=h.hostBindings;C&&wO(s,C);const x=h.viewQuery,P=h.contentQueries;if(x&&vO(s,x),P&&bO(s,P),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),sr(h)&&h.data.animation){const L=s.data;L.animation=(L.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let b=0;b<m.length;b++){const C=m[b];C&&C.ngInherit&&C(s),C===dE&&(l=!1)}}a=Object.getPrototypeOf(a)}!function _O(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=qe(h.hostAttrs,l=qe(l,h.hostAttrs))}}(d)}function hE(s){return s===ur?{}:s===Q?[]:s}function vO(s,a){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function bO(s,a){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{a(d,h,m),l(d,h,m)}:a}function wO(s,a){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}let on=null;function Co(){if(!on){const s=Yt.Symbol;if(s&&s.iterator)on=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(on=d)}}}return on}function Xf(s){return!!Io(s)&&(Array.isArray(s)||!(s instanceof Map)&&Co()in s)}function Io(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Do(s,a,l){return s[a]=l}function _s(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Yu(s,a,l,d){const h=_s(s,a,l);return _s(s,a+1,d)||h}function xv(s,a,l,d){const h=We();return _s(h,ls(),a)&&(Jt(),sl(Yn(),h,s,a,l,d)),xv}function Sv(s,a,l,d,h,m,b,C){const x=We(),P=Jt(),L=s+20,H=P.firstCreatePass?function gm(s,a,l,d,h,m,b,C,x){const P=a.consts,L=Zc(a,s,4,b||null,ni(P,C));Vw(a,l,L,ni(P,x)),us(a,L);const H=L.tViews=Gf(2,L,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,P);return null!==a.queries&&(a.queries.template(a,L),H.queries=a.queries.embeddedTView(L)),L}(L,P,x,a,l,d,h,m,b):P.data[L];ri(H,!1);const te=x[11].createComment("");$g(P,x,te,H),Vi(te,x),lh(x,x[L]=Gw(te,x,te,H)),Oi(H)&&zf(P,x,H),null!=b&&tm(x,H,C)}function tp(s,a=Et.Default){const l=We();return null===l?yn(s,a):qo($n(),l,J(s),a)}function OE(){throw new Error("invalid")}function Cm(s,a,l){const d=We();return _s(d,ls(),a)&&function ys(s,a,l,d,h,m,b,C){const x=Ar(a,l);let L,P=a.inputs;!C&&null!=P&&(L=P[d])?(gv(s,l,L,d,h),Fo(a)&&function Lw(s,a){const l=Sr(a,s);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(d=function sv(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=b?b(h,a.value||"",d):h,xn(m)?m.setProperty(x,d,h):Z(d)||(x.setProperty?x.setProperty(d,h):x[d]=h))}(Jt(),Yn(),d,s,a,d[11],l,!1),Cm}function Im(s,a,l,d,h){const b=h?"class":"style";gv(s,l,a.inputs[b],b,d)}function np(s,a,l,d){const h=We(),m=Jt(),b=20+s,C=h[11],x=h[b]=Xd(C,a,function xc(){return Ot.lFrame.currentNamespace}()),P=m.firstCreatePass?function PE(s,a,l,d,h,m,b){const C=a.consts,P=Zc(a,s,2,h,ni(C,m));return Vw(a,l,P,ni(C,b)),null!==P.attrs&&qf(P,P.attrs,!1),null!==P.mergedAttrs&&qf(P,P.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,P),P}(b,m,h,0,a,l,d):m.data[b];ri(P,!0);const L=P.mergedAttrs;null!==L&&D(C,x,L);const H=P.classes;null!==H&&Gg(C,x,H);const te=P.styles;return null!==te&&pw(C,x,te),64!=(64&P.flags)&&$g(m,h,x,P),0===function ga(){return Ot.lFrame.elementDepthCount}()&&Vi(x,h),function vc(){Ot.lFrame.elementDepthCount++}(),Oi(P)&&(zf(m,h,P),function kw(s,a,l){if(ti(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const b=s.data[m];b.contentQueries&&b.contentQueries(1,l[m],m)}}}(m,P,h)),null!==d&&tm(h,P),np}function rp(){let s=$n();El()?function za(){Ot.lFrame.isParent=!1}():(s=s.parent,ri(s,!1));const a=s;!function ma(){Ot.lFrame.elementDepthCount--}();const l=Jt();return l.firstCreatePass&&(us(l,s),ti(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Eu(s){return 0!=(16&s.flags)}(a)&&Im(l,a,We(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Rd(s){return 0!=(32&s.flags)}(a)&&Im(l,a,We(),a.stylesWithoutHost,!1),rp}function RE(s,a,l,d){return np(s,a,l,d),rp(),RE}function NE(){return We()}function Dm(s){return!!s&&"function"==typeof s.then}function LE(s){return!!s&&"function"==typeof s.subscribe}const Nv=LE;function sp(s,a,l,d){const h=We(),m=Jt(),b=$n();return function xm(s,a,l,d,h,m,b,C){const x=Oi(d),L=s.firstCreatePass&&fT(s),H=a[8],te=Kw(a);let pe=!0;if(3&d.type||C){const ut=Ar(d,a),wt=C?C(ut):ut,Ze=te.length,Lt=C?fn=>C(hn(fn[d.index])):d.index;if(xn(l)){let fn=null;if(!C&&x&&(fn=function xO(s,a,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const b=h[m];if(b===l&&h[m+1]===d){const C=a[7],x=h[m+2];return C.length>x?C[x]:null}"string"==typeof b&&(m+=2)}return null}(s,a,h,d.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=m,fn.__ngLastListenerFn__=m,pe=!1;else{m=Lv(d,a,H,m,!1);const Ce=l.listen(wt,h,m);te.push(m,Ce),L&&L.push(h,Lt,Ze,Ze+1)}}else m=Lv(d,a,H,m,!0),wt.addEventListener(h,m,b),te.push(m),L&&L.push(h,Lt,Ze,b)}else m=Lv(d,a,H,m,!1);const Fe=d.outputs;let Ye;if(pe&&null!==Fe&&(Ye=Fe[h])){const ut=Ye.length;if(ut)for(let wt=0;wt<ut;wt+=2){const Cs=a[Ye[wt]][Ye[wt+1]].subscribe(m),ns=te.length;te.push(m,Cs),L&&L.push(h,d.index,ns,-(ns+1))}}}(m,h,h[11],b,s,a,!!l,d),sp}function jT(s,a,l,d){try{return!1!==l(d)}catch(h){return Zw(s,h),!1}}function Lv(s,a,l,d,h){return function m(b){if(b===Function)return d;const C=2&s.flags?Sr(s.index,a):a;0==(32&a[2])&&am(C);let x=jT(a,0,d,b),P=m.__ngNextListenerFn__;for(;P;)x=jT(a,0,P,b)&&x,P=P.__ngNextListenerFn__;return h&&!1===x&&(b.preventDefault(),b.returnValue=!1),x}}function HT(s=1){return function cs(s){return(Ot.lFrame.contextLView=function Dc(s,a){for(;s>0;)a=a[15],s--;return a}(s,Ot.lFrame.contextLView))[8]}(s)}function Uv(s,a,l,d,h){const m=s[l+1],b=null===a;let C=d?Pa(m):rl(m),x=!1;for(;0!==C&&(!1===x||b);){const L=s[C+1];UE(s[C],a)&&(x=!0,s[C+1]=d?Wg(L):Uf(L)),C=d?Pa(L):rl(L)}x&&(s[l+1]=d?Uf(m):Wg(m))}function UE(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Qo(s,a)>=0}function jv(s,a){return function Qn(s,a,l,d){const h=We(),m=Jt(),b=function ki(s){const a=Ot.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}(2);m.firstUpdatePass&&function ec(s,a,l,d){const h=s.data;if(null===h[l+1]){const m=h[Mr()],b=function ji(s,a){return a>=s.expandoStartIndex}(s,l);(function zv(s,a){return 0!=(s.flags&(a?16:32))})(m,d)&&null===a&&!b&&(a=!1),a=function rx(s,a,l,d){const h=function Il(s){const a=Ot.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=_h(l=Hv(null,s,a,l,d),a.attrs,d),m=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==h)if(l=Hv(h,s,a,l,d),null===m){let x=function ix(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==rl(d))return s[Pa(d)]}(s,a,d);void 0!==x&&Array.isArray(x)&&(x=Hv(null,s,a,x[1],d),x=_h(x,a.attrs,d),function zE(s,a,l,d){s[Pa(l?a.classBindings:a.styleBindings)]=d}(s,a,d,x))}else m=function GE(s,a,l){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=_h(d,s[m].hostAttrs,l);return _h(d,a.attrs,l)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(h,m,a,d),function VE(s,a,l,d,h,m){let b=m?a.classBindings:a.styleBindings,C=Pa(b),x=rl(b);s[d]=l;let L,P=!1;if(Array.isArray(l)){const H=l;L=H[1],(null===L||Qo(H,L)>0)&&(P=!0)}else L=l;if(h)if(0!==x){const te=Pa(s[C+1]);s[d+1]=Bf(te,C),0!==te&&(s[te+1]=jf(s[te+1],d)),s[C+1]=function Dw(s,a){return 131071&s|a<<17}(s[C+1],d)}else s[d+1]=Bf(C,0),0!==C&&(s[C+1]=jf(s[C+1],d)),C=d;else s[d+1]=Bf(x,0),0===C?C=d:s[x+1]=jf(s[x+1],d),x=d;P&&(s[d+1]=Uf(s[d+1])),Uv(s,L,d,!0),Uv(s,L,d,!1),function BE(s,a,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Qo(m,a)>=0&&(l[d+1]=Wg(l[d+1]))}(a,L,s,d,m),b=Bf(C,x),m?a.classBindings=b:a.styleBindings=b}(h,m,a,l,b,d)}}(m,s,b,d),a!==Kt&&_s(h,b,a)&&function vs(s,a,l,d,h,m,b,C){if(!(3&a.type))return;const x=s.data,P=x[C+1];Hi(function K_(s){return 1==(1&s)}(P)?Mm(x,a,l,h,rl(P),b):void 0)||(Hi(m)||function q_(s){return 2==(2&s)}(P)&&(m=Mm(x,null,l,h,C,b)),function nl(s,a,l,d,h){const m=xn(s);if(a)h?m?s.addClass(l,d):l.classList.add(d):m?s.removeClass(l,d):l.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:Ne.DashCase;if(null==h)m?s.removeStyle(l,d,b):l.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),b|=Ne.Important),m?s.setStyle(l,d,h,b):l.style.setProperty(d,h,C?"important":"")}}}(d,b,os(Mr(),l),h,m))}(m,m.data[Mr()],h,h[11],s,h[b+1]=function qE(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ne(ta(s)))),s}(a,l),d,b)}(s,a,null,!0),jv}function Hv(s,a,l,d,h){let m=null;const b=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<b&&(m=a[C],d=_h(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function _h(s,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?h=b:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wn(s,b,!!l||a[++m]))}return void 0===s?null:s}function Mm(s,a,l,d,h,m){const b=null===a;let C;for(;h>0;){const x=s[h],P=Array.isArray(x),L=P?x[1]:x,H=null===L;let te=l[h+1];te===Kt&&(te=H?Q:void 0);let pe=H?Vl(te,d):L===d?te:void 0;if(P&&!Hi(pe)&&(pe=Vl(x,d)),Hi(pe)&&(C=pe,b))return C;const Fe=s[h+1];h=b?Pa(Fe):rl(Fe)}if(null!==a){let x=m?a.residualClasses:a.residualStyles;null!=x&&(C=Vl(x,d))}return C}function Hi(s){return void 0!==s}function Om(s,a=""){const l=We(),d=Jt(),h=s+20,m=d.firstCreatePass?Zc(d,h,1,a,null):d.data[h],b=l[h]=function Yd(s,a){return xn(s)?s.createText(a):s.createTextNode(a)}(l[11],a);$g(d,l,b,m),ri(m,!1)}function Pm(s){return cp("",s,""),Pm}function cp(s,a,l){const d=We(),h=function dh(s,a,l,d){return _s(s,ls(),l)?a+ae(l)+d:Kt}(d,s,a,l);return h!==Kt&&Yl(d,Mr(),h),cp}const tc=void 0;var fx=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JE(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let eu={};function pp(s){const a=function px(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=gp(a);if(l)return l;const d=a.split("-")[0];if(l=gp(d),l)return l;if("en"===d)return fx;throw new Error(`Missing locale data for the locale "${s}".`)}function $i(s){return pp(s)[Bt.PluralCase]}function gp(s){return s in eu||(eu[s]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[s]),eu[s]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const Um="en-US";let rC=Um;function yb(s,a,l,d,h){if(s=J(s),Array.isArray(s))for(let m=0;m<s.length;m++)yb(s[m],a,l,d,h);else{const m=Jt(),b=We();let C=Yf(s)?s:J(s.provide),x=Ev(s);const P=$n(),L=1048575&P.providerIndexes,H=P.directiveStart,te=P.providerIndexes>>20;if(Yf(s)||!s.multi){const pe=new zo(x,h,tp),Fe=Qm(C,a,h?L:L+te,H);-1===Fe?(vi(_i(P,b),m,C),Ym(m,s,a.length),a.push(C),P.directiveStart++,P.directiveEnd++,h&&(P.providerIndexes+=1048576),l.push(pe),b.push(pe)):(l[Fe]=pe,b[Fe]=pe)}else{const pe=Qm(C,a,L+te,H),Fe=Qm(C,a,L,L+te),Ye=pe>=0&&l[pe],ut=Fe>=0&&l[Fe];if(h&&!ut||!h&&!Ye){vi(_i(P,b),m,C);const wt=function AC(s,a,l,d,h){const m=new zo(s,l,tp);return m.multi=[],m.index=a,m.componentProviders=0,TC(m,h,d&&!l),m}(h?_b:xC,l.length,h,d,x);!h&&ut&&(l[Fe].providerFactory=wt),Ym(m,s,a.length,0),a.push(C),P.directiveStart++,P.directiveEnd++,h&&(P.providerIndexes+=1048576),l.push(wt),b.push(wt)}else Ym(m,s,pe>-1?pe:Fe,TC(l[h?Fe:pe],x,!h&&d));!h&&d&&ut&&l[Fe].componentProviders++}}}function Ym(s,a,l,d){const h=Yf(a),m=function eE(s){return!!s.useClass}(a);if(h||m){const x=(m?J(a.useClass):a).prototype.ngOnDestroy;if(x){const P=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const L=P.indexOf(l);-1===L?P.push(l,[d,x]):P[L+1].push(d,x)}else P.push(l,x)}}}function TC(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function Qm(s,a,l,d){for(let h=l;h<d;h++)if(a[h]===s)return h;return-1}function xC(s,a,l,d){return Dp(this.multi,[])}function _b(s,a,l,d){const h=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=Ns(l,l[1],this.providerFactory.index,d);m=C.slice(0,b),Dp(h,m);for(let x=b;x<C.length;x++)m.push(C[x])}else m=[],Dp(h,m);return m}function Dp(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function vb(s,a=[]){return l=>{l.providersResolver=(d,h)=>function Tx(s,a,l){const d=Jt();if(d.firstCreatePass){const h=sr(s);yb(l,d.data,d.blueprint,h,!0),yb(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class SC{}class Tp{resolveComponentFactory(a){throw function xx(s){const a=Error(`No component factory found for ${ne(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let nd=(()=>{class s{}return s.NULL=new Tp,s})();function Eb(){return rd($n(),We())}function rd(s,a){return new rc(Ar(s,a))}let rc=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Eb,s})();function xp(s){return s instanceof rc?s.nativeElement:s}class Yr{}let OC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Sx(){const s=We(),l=Sr($n().index,s);return function Ax(s){return s[11]}(Vn(l)?l:s)}(),s})(),Mx=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class PC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Cb=new PC("13.2.5"),Xm={};function Ap(s,a,l,d,h=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(hn(m)),Xt(m))for(let C=10;C<m.length;C++){const x=m[C],P=x[1].firstChild;null!==P&&Ap(x[1],x,P,d)}const b=l.type;if(8&b)Ap(s,a,l.child,d);else if(32&b){const C=Ct(l,a);let x;for(;x=C();)d.push(x)}else if(16&b){const C=fw(a,l);if(Array.isArray(C))d.push(...C);else{const x=hr(a[16]);Ap(x[1],x,C,d,!0)}}l=h?l.projectionNext:l.next}return d}class su{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Ap(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Xt(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(R_(a,d),vo(l,d))}this._attachedToViewContainer=!1}k_(this._lView[1],this._lView)}onDestroy(a){nv(this._lView[1],this._lView,null,a)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function hT(s,a,l){ho(!0);try{dv(s,a,l)}finally{ho(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jd(s,a){zg(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=a}}class RC extends su{constructor(a){super(a),this._view=a}detectChanges(){hv(this._view)}checkNoChanges(){!function fv(s){ho(!0);try{hv(s)}finally{ho(!1)}}(this._view)}get context(){return null}}class cl extends nd{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=zn(a);return new id(l,this.ngModule)}}function Ib(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class id extends SC{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function Cw(s){return s.map(Ew).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Ib(this.componentDef.inputs)}get outputs(){return Ib(this.componentDef.outputs)}create(a,l,d,h){const m=(h=h||this.ngModule)?function Db(s,a){return{get:(l,d,h)=>{const m=s.get(l,Xm,h);return m!==Xm||d===Xm?m:a.get(l,d,h)}}}(a,h.injector):a,b=m.get(Yr,da),C=m.get(Mx,null),x=b.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",L=d?function tv(s,a,l){if(xn(s))return s.selectRootElement(a,l===Nt.ShadowDom);let d="string"==typeof a?s.querySelector(a):a;return d.textContent="",d}(x,d,this.componentDef.encapsulation):Xd(b.createRenderer(null,this.componentDef),P,function Ox(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(P)),H=this.componentDef.onPush?576:528,te=function uE(s,a){return{components:[],scheduler:s||M_,clean:qw,playerHandler:a||null,flags:0}}(),pe=Gf(0,null,null,1,0,null,null,null,null,null),Fe=zu(null,pe,te,H,null,null,b,x,C,m);let Ye,ut;fo(Fe);try{const wt=function ET(s,a,l,d,h,m){const b=l[1];l[20]=s;const x=Zc(b,20,2,"#host",null),P=x.mergedAttrs=a.hostAttrs;null!==P&&(qf(x,P,!0),null!==s&&(D(h,s,P),null!==x.classes&&Gg(h,s,x.classes),null!==x.styles&&pw(h,s,x.styles)));const L=d.createRenderer(s,a),H=zu(l,nm(a),null,a.onPush?64:16,l[20],x,d,L,m||null,null);return b.firstCreatePass&&(vi(_i(x,l),b,a.type),Wf(b,x),jw(x,l.length,1)),lh(l,H),l[20]=H}(L,this.componentDef,Fe,b,x);if(L)if(d)D(x,L,["ng-version",Cb.full]);else{const{attrs:Ze,classes:Lt}=function Iw(s){const a=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&a.push(m,s[++d]):8===h&&l.push(m);else{if(!Bi(h))break;h=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ze&&D(x,L,Ze),Lt&&Lt.length>0&&Gg(x,L,Lt.join(" "))}if(ut=Zn(pe,20),void 0!==l){const Ze=ut.projection=[];for(let Lt=0;Lt<this.ngContentSelectors.length;Lt++){const fn=l[Lt];Ze.push(null!=fn?Array.from(fn):null)}}Ye=function CT(s,a,l,d,h){const m=l[1],b=function hO(s,a,l){const d=$n();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),aT(s,d,a,Yc(s,a,1,null),l));const h=Ns(a,s,d.directiveStart,d);Vi(h,a);const m=Ar(d,a);return m&&Vi(m,a),h}(m,l,a);if(d.components.push(b),s[8]=b,h&&h.forEach(x=>x(b,a)),a.contentQueries){const x=$n();a.contentQueries(1,b,x.directiveStart)}const C=$n();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ks(C.index),rT(l[1],C,0,C.directiveStart,C.directiveEnd,a),av(a,b)),b}(wt,this.componentDef,Fe,te,[IT]),Kl(pe,Fe,null)}finally{$o()}return new Jm(this.componentType,Ye,rd(ut,Fe),Fe,ut)}}class Jm extends class bb{}{constructor(a,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new RC(h),this.componentType=a}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class ou{}class Sp{}const xh=new Map;class Tb extends ou{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cl(this);const d=Kn(a);this._bootstrapComponents=y(d.bootstrap),this._r3Injector=Qw(a,l,[{provide:ou,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],ne(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=_n.THROW_IF_NOT_FOUND,d=Et.Default){return a===_n||a===ou||a===mv?this:this._r3Injector.get(a,l,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Sh extends Sp{constructor(a){super(),this.moduleType=a,null!==Kn(a)&&function FC(s){const a=new Set;!function l(d){const h=Kn(d,!0),m=h.id;null!==m&&(function Ah(s,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${s} - ${ne(a)} vs ${ne(a.name)}`)}(m,xh.get(m),d),xh.set(m,d));const b=y(h.imports);for(const C of b)a.has(C)||(a.add(C),l(C))}(s)}(a)}create(a){return new Tb(this.moduleType,a)}}function Mh(s,a){const l=s[a];return l===Kt?void 0:l}function ny(s,a,l,d,h,m,b,C,x){const P=a+l;return function To(s,a,l,d,h,m){const b=Yu(s,a,l,d);return Yu(s,a+2,h,m)||b}(s,P,h,m,b,C)?Do(s,P+4,x?d.call(x,h,m,b,C):d(h,m,b,C)):Mh(s,P+4)}function ZC(s,a){const l=Jt();let d;const h=s+20;l.firstCreatePass?(d=function YC(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=Ri(d.type)),b=Fn(tp);try{const C=Ht(!1),x=m();return Ht(C),function xT(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,We(),h,x),x}finally{Fn(b)}}function QC(s,a,l){const d=s+20,h=We(),m=mi(h,d);return ul(h,d)?function od(s,a,l,d,h,m){const b=a+l;return _s(s,b,h)?Do(s,b+1,m?d.call(m,h):d(h)):Mh(s,b+1)}(h,or(),a,m.transform,l,m):m.transform(l)}function Mp(s,a,l,d){const h=s+20,m=We(),b=mi(m,h);return ul(m,h)?function WC(s,a,l,d,h,m,b){const C=a+l;return Yu(s,C,h,m)?Do(s,C+2,b?d.call(b,h,m):d(h,m)):Mh(s,C+2)}(m,or(),a,b.transform,l,d,b):b.transform(l,d)}function xb(s,a,l,d,h,m){const b=s+20,C=We(),x=mi(C,b);return ul(C,b)?ny(C,or(),a,x.transform,l,d,h,m,x):x.transform(l,d,h,m)}function ul(s,a){return s[1].data[a].pure}function Op(s){return a=>{setTimeout(s,void 0,a)}}const dl=class au extends p.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){var h,m,b;let C=a,x=l||(()=>null),P=d;if(a&&"object"==typeof a){const H=a;C=null===(h=H.next)||void 0===h?void 0:h.bind(H),x=null===(m=H.error)||void 0===m?void 0:m.bind(H),P=null===(b=H.complete)||void 0===b?void 0:b.bind(H)}this.__isAsync&&(x=Op(x),C&&(C=Op(C)),P&&(P=Op(P)));const L=super.subscribe({next:C,error:x,complete:P});return a instanceof q.w0&&a.add(L),L}};function st(){return this._results[Co()]()}class Hr{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Co(),d=Hr.prototype;d[l]||(d[l]=st)}get changes(){return this._changes||(this._changes=new dl)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=Zr(a);(this._changesDetected=!function Ll(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=a[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ic=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zt,s})();const Ab=ic,St=class extends Ab{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a){const l=this._declarationTContainer.tViews,d=zu(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),Kl(l,d,a),new su(d)}};function Zt(){return ry($n(),We())}function ry(s,a){return 4&s.type?new St(a,s,rd(s,a)):null}let ht=(()=>{class s{}return s.__NG_ELEMENT_ID__=Le,s})();function Le(){return XC($n(),We())}const Xe=ht,Ii=class extends Xe{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const a=Sc(this._hostTNode,this._hostLView);if(Gn(a)){const l=yi(a,this._hostLView),d=nn(a);return new mo(l[1].data[d+8],l)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Sb(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){const h=a.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(a,l,d,h,m){const b=a&&!function xa(s){return"function"==typeof s}(a);let C;if(b)C=l;else{const H=l||{};C=H.index,d=H.injector,h=H.projectableNodes,m=H.ngModuleRef}const x=b?a:new id(zn(a)),P=d||this.parentInjector;if(!m&&null==x.ngModule){const te=(b?P:this.parentInjector).get(ou,null);te&&(m=te)}const L=x.create(P,h,void 0,m);return this.insert(L.hostView,C),L}insert(a,l){const d=a._lView,h=d[1];if(function $a(s){return Xt(s[3])}(d)){const L=this.indexOf(a);if(-1!==L)this.detach(L);else{const H=d[3],te=new Ii(H,H[6],H[3]);te.detach(te.indexOf(a))}}const m=this._adjustIndex(l),b=this._lContainer;!function Ff(s,a,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=a),d<m-10?(a[4]=l[h],Fl(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const b=a[17];null!==b&&l!==b&&function eh(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(b,a);const C=a[19];null!==C&&C.insertView(s),a[2]|=128}(h,d,b,m);const C=B_(m,b),x=d[11],P=Vf(x,b[7]);return null!==P&&function Lf(s,a,l,d,h,m){d[0]=h,d[6]=a,zg(s,d,l,1,h,m)}(h,b[6],x,d,P,C),a.attachToViewContainerRef(),Fl(Mb(b),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Sb(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=R_(this._lContainer,l);d&&(vo(Mb(this._lContainer),l),k_(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=R_(this._lContainer,l);return d&&null!=vo(Mb(this._lContainer),l)?new su(d):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function Sb(s){return s[8]}function Mb(s){return s[8]||(s[8]=[])}function XC(s,a){let l;const d=a[s.index];if(Xt(d))l=d;else{let h;if(8&s.type)h=hn(d);else{const m=a[11];h=m.createComment("");const b=Ar(s,a);wo(m,Vf(m,b),h,function zD(s,a){return xn(s)?s.nextSibling(a):a.nextSibling}(m,b),!1)}a[s.index]=l=Gw(d,a,h,s),lh(a,l)}return new Ii(l,s,a)}class iy{constructor(a){this.queryList=a,this.matches=null}clone(){return new iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ob{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const b=l.getByIndex(m);h.push(this.queries[b.indexInDeclarationView].clone())}return new Ob(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==nI(a,l).matches&&this.queries[l].setDirty()}}class Fx{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class $s{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new $s(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Pb{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Pb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,l,JC(l,m)),this.matchTNodeWithReadOption(a,l,Cu(l,a,m,!1,!1))}else d===ic?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Cu(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===rc||h===ht||h===ic&&4&l.type)this.addMatch(l.index,-2);else{const m=Cu(l,a,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function JC(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function Oh(s,a,l,d){return-1===l?function bn(s,a){return 11&s.type?rd(s,a):4&s.type?ry(s,a):null}(a,s):-2===l?function eI(s,a,l){return l===rc?rd(a,s):l===ic?ry(a,s):l===ht?XC(a,s):void 0}(s,a,d):Ns(s,s[1],l,a)}function Di(s,a,l,d){const h=a[19].queries[d];if(null===h.matches){const m=s.data,b=l.matches,C=[];for(let x=0;x<b.length;x+=2){const P=b[x];C.push(P<0?null:Oh(a,m[P],b[x+1],l.metadata.read))}h.matches=C}return h.matches}function Ut(s,a,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const b=Di(s,a,h,l);for(let C=0;C<m.length;C+=2){const x=m[C];if(x>0)d.push(b[C/2]);else{const P=m[C+1],L=a[-x];for(let H=10;H<L.length;H++){const te=L[H];te[17]===te[3]&&Ut(te[1],te,P,d)}if(null!==L[9]){const H=L[9];for(let te=0;te<H.length;te++){const pe=H[te];Ut(pe[1],pe,P,d)}}}}}return d}function Rb(s){const a=We(),l=Jt(),d=wa();Dl(d+1);const h=nI(l,d);if(s.dirty&&Uo(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Ut(l,a,d,[]):Di(l,a,h,d);s.reset(m,xp),s.notifyOnChanges()}return!0}return!1}function kb(s,a,l,d){const h=Jt();if(h.firstCreatePass){const m=$n();(function Ti(s,a,l){null===s.queries&&(s.queries=new $s),s.queries.track(new Pb(a,l))})(h,new Fx(a,l,d),m.index),function Rh(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function tI(s,a,l){const d=new Hr(4==(4&l));nv(s,a,d,d.destroy),null===a[19]&&(a[19]=new Ob),a[19].queries.push(new iy(d))}(h,We(),l)}function Ph(){return function Pn(s,a){return s[19].queries[a].queryList}(We(),wa())}function nI(s,a){return s.queries.getByIndex(a)}function Hp(...s){}const Hb=new br("Application Initializer");let du=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Hp,this.reject=Hp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Dm(m))l.push(m);else if(Nv(m)){const b=new Promise((C,x)=>{m.subscribe({complete:C,error:x})});l.push(b)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(yn(Hb,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $p=new br("AppId",{providedIn:"root",factory:function zp(){return`${Gp()}${Gp()}${Gp()}`}});function Gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dy=new br("Platform Initializer"),hd=new br("Platform ID"),So=new br("appBootstrapListener");let Fh=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})();const Wp=new br("LocaleId",{providedIn:"root",factory:()=>fs(Wp,Et.Optional|Et.SkipSelf)||function lI(){return"undefined"!=typeof $localize&&$localize.locale||Um}()}),$b=new br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cI{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let uI=(()=>{class s{compileModuleSync(l){return new Sh(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=y(Kn(l).declarations).reduce((b,C)=>{const x=zn(C);return x&&b.push(new id(x)),b},[]);return new cI(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gx=(()=>Promise.resolve(0))();function fy(s){"undefined"==typeof Zone?Gx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ji{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dl(!1),this.onMicrotaskEmpty=new dl(!1),this.onStable=new dl(!1),this.onError=new dl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Vh(){let s=Yt.requestAnimationFrame,a=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Bh(s){const a=()=>{!function hI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,py(s),s.isCheckStableRunning=!0,sc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),py(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,b,C)=>{try{return zb(s),l.invokeTask(h,m,b,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),Uh(s)}},onInvoke:(l,d,h,m,b,C,x)=>{try{return zb(s),l.invoke(h,m,b,C,x)}finally{s.shouldCoalesceRunChangeDetection&&a(),Uh(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,py(s),sc(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+h,a,dI,Hp,Hp);try{return m.runTask(b,l,d)}finally{m.cancelTask(b)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const dI={};function sc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function py(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function zb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Uh(s){s._nesting--,sc(s)}class Wx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dl,this.onMicrotaskEmpty=new dl,this.onStable=new dl,this.onError=new dl}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}let fI=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fy(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(yn(Ji))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Qr=(()=>{class s{constructor(){this._applications=new Map,Gb.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Gb.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})();class gy{addToWindow(a){}findTestabilityInTree(a,l,d){return null}}function my(s){Gb=s}let Mo,Gb=new gy;const jh=new br("AllowMultipleToken");class fd{constructor(a,l){this.name=a,this.token=l}}function Wb(s,a,l=[]){const d=`Platform: ${a}`,h=new br(d);return(m=[])=>{let b=_y();if(!b||b.injector.get(jh,!1))if(s)s(l.concat(m).concat({provide:h,useValue:!0}));else{const C=l.concat(m).concat({provide:h,useValue:!0},{provide:_v,useValue:"platform"});!function gI(s){if(Mo&&!Mo.destroyed&&!Mo.injector.get(jh,!1))throw new Ue(400,"");Mo=s.get(yI);const a=s.get(dy,null);a&&a.forEach(l=>l())}(_n.create({providers:C,name:d}))}return function mI(s){const a=_y();if(!a)throw new Ue(401,"");return a}()}}function _y(){return Mo&&!Mo.destroyed?Mo:null}let yI=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const C=function ci(s,a){let l;return l="noop"===s?new Wx:("zone.js"===s?void 0:s)||new Ji({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),x=[{provide:Ji,useValue:C}];return C.run(()=>{const P=_n.create({providers:x,parent:this.injector,name:l.moduleType.name}),L=l.create(P),H=L.injector.get(Ei,null);if(!H)throw new Ue(402,"");return C.runOutsideAngular(()=>{const te=C.onError.subscribe({next:pe=>{H.handleError(pe)}});L.onDestroy(()=>{Rr(this._modules,L),te.unsubscribe()})}),function In(s,a,l){try{const d=l();return Dm(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(H,C,()=>{const te=L.injector.get(du);return te.runInitializers(),te.donePromise.then(()=>(function Hm(s){yt(s,"Expected localeId to be defined"),"string"==typeof s&&(rC=s.toLowerCase().replace(/_/g,"-"))}(L.injector.get(Wp,Um)||Um),this._moduleDoBootstrap(L),L))})})}bootstrapModule(l,d=[]){const h=qb({},d);return function qx(s,a,l){const d=new Sh(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(vy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ue(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(yn(_n))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})();function qb(s,a){return Array.isArray(a)?a.reduce(qb,s):Object.assign(Object.assign({},s),a)}let vy=(()=>{class s{constructor(l,d,h,m,b){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new F.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),x=new F.y(P=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),fy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{L.unsubscribe(),H.unsubscribe()}});this.isStable=(0,oe.T)(C,x.pipe((0,W.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ue(405,"");let h;h=l instanceof SC?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function pI(s){return s.isBoundToModule}(h)?void 0:this._injector.get(ou),C=h.create(_n.NULL,[],d||h.selector,m),x=C.location.nativeElement,P=C.injector.get(fI,null),L=P&&C.injector.get(Qr);return P&&L&&L.registerApplication(x,P),C.onDestroy(()=>{this.detachView(C.hostView),Rr(this.components,C),L&&L.unregisterApplication(x)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Rr(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(So,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(yn(Ji),yn(_n),yn(Ei),yn(nd),yn(du))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rr(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let fr=!0,Kb=!1;function Hh(){return Kb=!0,fr}function Zx(){if(Kb)throw new Error("Cannot enable prod mode after platform setup.");fr=!1}let Yx=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qx,s})();function Qx(s){return function Bn(s,a,l){if(Fo(s)&&!l){const d=Sr(s.index,a);return new su(d,d)}return 47&s.type?new su(a[16],a):null}($n(),We(),16==(16&s))}class Dy{constructor(){}supports(a){return Xf(a)}create(a){return new Yp(a)}}const EI=(s,a)=>a;class Yp{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||EI}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const b=!d||l&&l.currentIndex<DI(d,h,m)?l:d,C=DI(b,h,m),x=b.currentIndex;if(b===d)h--,d=d._nextRemoved;else if(l=l._next,null==b.previousIndex)h++;else{m||(m=[]);const P=C-h,L=x-h;if(P!=L){for(let te=0;te<P;te++){const pe=te<m.length?m[te]:m[te]=0,Fe=pe+te;L<=Fe&&Fe<P&&(m[te]=pe+1)}m[b.previousIndex]=L-P}}C!==x&&a(b,C,x)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Xf(a))throw new Ue(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,b,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],b=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,b)?(d&&(l=this._verifyReinsertion(l,m,b,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,b,C),d=!0),l=l._next}else h=0,function Ui(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Co()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{b=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,b)?(d&&(l=this._verifyReinsertion(l,C,b,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,b,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,h)):a=this._addAfter(new CI(l,d),m,h),a}_verifyReinsertion(a,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new t0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new t0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class CI{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class II{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class t0{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new II,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DI(s,a,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class TI{constructor(){}supports(a){return a instanceof Map||Io(a)}create(){return new Qp}}class Qp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Io(a)))throw new Ue(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const m=h._prev,b=h._next;return m&&(m._next=b),b&&(b._prev=m),h._next=null,h._prev=null,h}const d=new n0(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class n0{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xI(){return new Ty([new Dy])}let Ty=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||xI()),deps:[[s,new Bc,new Fc]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ue(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:xI}),s})();function r0(){return new s0([new TI])}let s0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||r0()),deps:[[s,new Bc,new Fc]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Ue(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:r0}),s})();const nA=Wb(null,"core",[{provide:hd,useValue:"unknown"},{provide:yI,deps:[_n]},{provide:Qr,deps:[]},{provide:Fh,deps:[]}]);let rA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(yn(vy))},s.\u0275mod=Ln({type:s}),s.\u0275inj=un({}),s})()},3942:(ce,G,O)=>{"use strict";O.d(G,{Z:()=>Ue});var p=O(2090),q=O(4859),F=O(9681),oe=O(1877);class W{constructor(ae,me){this._delegate=ae,this.firebase=me,(0,F._addComponent)(ae,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ae,me=F._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ae);return!je.isInitialized()&&"EXPLICIT"===(null===(Pe=je.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&je.initialize(),je.getImmediate({identifier:me})}_removeServiceInstance(ae,me=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(me)}_addComponent(ae){(0,F._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,F._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function Y(){const Ke=function ne(Ke){const ae={},me={__esModule:!0,initializeApp:function ve(ie,we={}){const de=F.initializeApp(ie,we);if((0,p.r3)(ae,de.name))return ae[de.name];const De=new Ke(de,me);return ae[de.name]=De,De},app:je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ke(ie){const we=ie.name,de=we.replace("-compat","");if(F._registerComponent(ie)&&"PUBLIC"===ie.type){const De=(Se=je())=>{if("function"!=typeof Se[de])throw re.create("invalid-app-argument",{appName:we});return Se[de]()};void 0!==ie.serviceProps&&(0,p.ZB)(De,ie.serviceProps),me[de]=De,Ke.prototype[de]=function(...Se){return this._getService.bind(this,we).apply(this,ie.multipleInstances?Se:[])}}return"PUBLIC"===ie.type?me[de]:null},removeApp:function Pe(ie){delete ae[ie]},useAsService:function ot(ie,we){return"serverAuth"===we?null:we},modularAPIs:F}};function je(ie){if(!(0,p.r3)(ae,ie=ie||F._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ie});return ae[ie]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ie(){return Object.keys(ae).map(ie=>ae[ie])}}),je.App=Ke,me}(W);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function ae(me){(0,p.ZB)(Ke,me)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Ke}(),z=new oe.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=$;!function Ae(Ke){(0,F.registerVersion)("@firebase/app-compat","0.1.19",Ke)}()},9681:(ce,G,O)=>{"use strict";O.r(G),O.d(G,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>yt,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>tn,_apps:()=>pn,_clearComponents:()=>Jr,_components:()=>ln,_getProvider:()=>un,_registerComponent:()=>tr,_removeServiceInstance:()=>Wt,deleteApp:()=>Et,getApp:()=>cr,getApps:()=>vn,initializeApp:()=>hi,onLog:()=>Fn,registerVersion:()=>rn,setLogLevel:()=>is});var p=O(5861),q=O(4859),F=O(1877),oe=O(2090),W=O(2940);class ue{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function re(ze){const He=ze.getComponent();return"VERSION"===(null==He?void 0:He.type)}(rt)){const gt=rt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(rt=>rt).join(" ")}}const ne="@firebase/app",Y="0.7.18",$=new F.Yd("@firebase/app"),yt="[DEFAULT]",Dt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,ln=new Map;function Tn(ze,He){try{ze.container.addComponent(He)}catch(rt){$.debug(`Component ${He.name} failed to register with FirebaseApp ${ze.name}`,rt)}}function tn(ze,He){ze.container.addOrOverwriteComponent(He)}function tr(ze){const He=ze.name;if(ln.has(He))return $.debug(`There were multiple attempts to register component ${He}.`),!1;ln.set(He,ze);for(const rt of pn.values())Tn(rt,ze);return!0}function un(ze,He){const rt=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),ze.container.getProvider(He)}function Wt(ze,He,rt=yt){un(ze,He).clearInstance(rt)}function Jr(){ln.clear()}const jn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class nr{constructor(He,rt,gt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Lr="9.6.8";function hi(ze,He={}){"object"!=typeof He&&(He={name:He});const rt=Object.assign({name:yt,automaticDataCollectionEnabled:!1},He),gt=rt.name;if("string"!=typeof gt||!gt)throw jn.create("bad-app-name",{appName:String(gt)});const zt=pn.get(gt);if(zt){if((0,oe.vZ)(ze,zt.options)&&(0,oe.vZ)(rt,zt.config))return zt;throw jn.create("duplicate-app",{appName:gt})}const Tt=new q.H0(gt);for(const Ln of ln.values())Tt.addComponent(Ln);const gn=new nr(ze,rt,Tt);return pn.set(gt,gn),gn}function cr(ze=yt){const He=pn.get(ze);if(!He)throw jn.create("no-app",{appName:ze});return He}function vn(){return Array.from(pn.values())}function Et(ze){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(ze){const He=ze.name;pn.has(He)&&(pn.delete(He),yield Promise.all(ze.container.getProviders().map(rt=>rt.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function rn(ze,He,rt){var gt;let zt=null!==(gt=Dt[ze])&&void 0!==gt?gt:ze;rt&&(zt+=`-${rt}`);const Tt=zt.match(/\s|\//),gn=He.match(/\s|\//);if(Tt||gn){const Ln=[`Unable to register library "${zt}" with version "${He}":`];return Tt&&Ln.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Tt&&gn&&Ln.push("and"),gn&&Ln.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void $.warn(Ln.join(" "))}tr(new q.wA(`${zt}-version`,()=>({library:zt,version:He}),"VERSION"))}function Fn(ze,He){if(null!==ze&&"function"!=typeof ze)throw jn.create("invalid-log-argument");(0,F.Am)(ze,He)}function is(ze){(0,F.Ub)(ze)}const dn="firebase-heartbeat-store";let qn=null;function Wr(){return qn||(qn=(0,W.openDb)("firebase-heartbeat-database",1,ze=>{0===ze.oldVersion&&ze.createObjectStore(dn)}).catch(ze=>{throw jn.create("storage-open",{originalErrorMessage:ze.message})})),qn}function ct(){return(ct=(0,p.Z)(function*(ze){try{return(yield Wr()).transaction(dn).objectStore(dn).get(fi(ze))}catch(He){throw jn.create("storage-get",{originalErrorMessage:He.message})}})).apply(this,arguments)}function Mt(ze,He){return rr.apply(this,arguments)}function rr(){return(rr=(0,p.Z)(function*(ze,He){try{const gt=(yield Wr()).transaction(dn,"readwrite");return yield gt.objectStore(dn).put(He,fi(ze)),gt.complete}catch(rt){throw jn.create("storage-set",{originalErrorMessage:rt.message})}})).apply(this,arguments)}function Yt(){return(Yt=(0,p.Z)(function*(ze){try{const rt=(yield Wr()).transaction(dn,"readwrite");return yield rt.objectStore(dn).delete(fi(ze)),rt.complete}catch(He){throw jn.create("storage-delete",{originalErrorMessage:He.message})}})).apply(this,arguments)}function fi(ze){return`${ze.name}!${ze.options.appId}`}class Q{constructor(He){this.container=He,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new be(rt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var He=this;return(0,p.Z)(function*(){const gt=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=function se(){return(new Date).toISOString().substring(0,10)}();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),!He._heartbeatsCache.some(Tt=>Tt.date===zt))return He._heartbeatsCache.push({date:zt,userAgent:gt}),He._heartbeatsCache=He._heartbeatsCache.filter(Tt=>{const gn=new Date(Tt.date).valueOf();return Date.now()-gn<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,p.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache)return"";const{heartbeatsToSend:rt,unsentEntries:gt}=function le(ze,He=1024){const rt=[];let gt=ze.slice();for(const zt of ze){const Tt=rt.find(gn=>gn.userAgent===zt.userAgent);if(Tt){if(Tt.dates.push(zt.date),Ee(rt)>He){Tt.dates.pop();break}}else if(rt.push({userAgent:zt.userAgent,dates:[zt.date]}),Ee(rt)>He){rt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:gt}}(He._heartbeatsCache),zt=(0,oe.h$)(JSON.stringify({version:2,heartbeats:rt}));return gt.length>0?(He._heartbeatsCache=gt,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache=null,He._storage.deleteAll()),zt})()}}class be{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,p.Z)(function*(){if(yield He._canUseIndexedDBPromise){const gt=yield function Nt(ze){return ct.apply(this,arguments)}(He.app);return(null==gt?void 0:gt.heartbeats)||[]}return[]})()}overwrite(He){var rt=this;return(0,p.Z)(function*(){if(yield rt._canUseIndexedDBPromise)return Mt(rt.app,{heartbeats:He})})()}add(He){var rt=this;return(0,p.Z)(function*(){if(yield rt._canUseIndexedDBPromise){const zt=yield rt.read();return Mt(rt.app,{heartbeats:[...zt,...He]})}})()}delete(He){var rt=this;return(0,p.Z)(function*(){if(yield rt._canUseIndexedDBPromise){const zt=yield rt.read();return Mt(rt.app,{heartbeats:zt.filter(Tt=>!He.includes(Tt))})}})()}deleteAll(){var He=this;return(0,p.Z)(function*(){if(yield He._canUseIndexedDBPromise)return function Nn(ze){return Yt.apply(this,arguments)}(He.app)})()}}function Ee(ze){return(0,oe.h$)(JSON.stringify({version:2,heartbeats:ze})).length}!function dt(ze){tr(new q.wA("platform-logger",He=>new ue(He),"PRIVATE")),tr(new q.wA("heartbeat",He=>new Q(He),"PRIVATE")),rn(ne,Y,ze),rn(ne,Y,"esm2017"),rn("fire-js","")}("")},4859:(ce,G,O)=>{"use strict";O.d(G,{wA:()=>F,H0:()=>ne});var p=O(5861),q=O(2090);class F{constructor($,z,J){this.name=$,this.instanceFactory=z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const oe="[DEFAULT]";class W{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const J=new q.BH;if(this.instancesDeferred.set(z,J),this.isInitialized(z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:z});Oe&&J.resolve(Oe)}catch(Oe){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Oe=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(Oe)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(Y){return"EAGER"===Y.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(z){}for(const[z,J]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(z);try{const Ae=this.getOrInitializeService({instanceIdentifier:Oe});J.resolve(Ae)}catch(Ae){}}}}clearInstance($=oe){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,p.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=oe){return this.instances.has($)}getOptions($=oe){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:J,options:z});for(const[Ae,Ue]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&Ue.resolve(Oe);return Oe}onInit($,z){var J;const Oe=this.normalizeInstanceIdentifier(z),Ae=null!==(J=this.onInitCallbacks.get(Oe))&&void 0!==J?J:new Set;Ae.add($),this.onInitCallbacks.set(Oe,Ae);const Ue=this.instances.get(Oe);return Ue&&$(Ue,Oe),()=>{Ae.delete($)}}invokeOnInitCallbacks($,z){const J=this.onInitCallbacks.get(z);if(J)for(const Oe of J)try{Oe($,z)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=$,Y===oe?void 0:Y),options:z}),this.instances.set($,J),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(Oe){}var Y;return J||null}normalizeInstanceIdentifier($=oe){return this.component?this.component.multipleInstances?$:oe:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new W($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ce,G,O)=>{"use strict";O.d(G,{in:()=>q,Yd:()=>re,Ub:()=>ne,Am:()=>Y});const p=[];var q=(()=>{return($=q||(q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",q;var $})();const F={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},oe=q.INFO,W={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},ue=($,z,...J)=>{if(z<$.logLevel)return;const Oe=(new Date).toISOString(),Ae=W[z];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ae](`[${Oe}]  ${$.name}:`,...J)};class re{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=ue,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in q))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?F[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...z),this._logHandler(this,q.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...z),this._logHandler(this,q.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,q.INFO,...z),this._logHandler(this,q.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,q.WARN,...z),this._logHandler(this,q.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...z),this._logHandler(this,q.ERROR,...z)}}function ne($){p.forEach(z=>{z.setLogLevel($)})}function Y($,z){for(const J of p){let Oe=null;z&&z.level&&(Oe=F[z.level]),J.userLogHandler=null===$?null:(Ae,Ue,...Ke)=>{const ae=Ke.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch(Pe){return null}}).filter(me=>me).join(" ");Ue>=(null!=Oe?Oe:Ae.logLevel)&&$({level:q[Ue].toLowerCase(),message:ae,args:Ke,type:Ae.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ce){const G={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},O="function"==typeof ce?ce():ce,F=Object.assign({},G,{features:O.features||!!O.logOnly&&{pause:!0,export:!0,test:!0}||G.features},O);if(F.maxAge&&F.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${F.maxAge}`);return F}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(G,O){if(this.action=G,this.timestamp=O,this.type=PERFORM_ACTION,void 0===G.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(G){this.timestamp=G,this.type=RESET}}class Rollback{constructor(G){this.timestamp=G,this.type=ROLLBACK}}class Commit{constructor(G){this.timestamp=G,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(G){this.id=G,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(G,O,p=!0){this.start=G,this.end=O,this.active=p,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(G){this.index=G,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(G){this.actionId=G,this.type=JUMP_TO_ACTION}}class ImportState{constructor(G){this.nextLiftedState=G,this.type=IMPORT_STATE}}class LockChanges{constructor(G){this.status=G,this.type=LOCK_CHANGES}}class PauseRecording{constructor(G){this.status=G,this.type=PAUSE_RECORDING}}function difference(ce,G){return ce.filter(O=>G.indexOf(O)<0)}function unliftState(ce){const{computedStates:G,currentStateIndex:O}=ce;if(O>=G.length){const{state:q}=G[G.length-1];return q}const{state:p}=G[O];return p}function unliftAction(ce){return ce.actionsById[ce.nextActionId-1]}function liftAction(ce){return new PerformAction(ce,+Date.now())}function sanitizeActions(ce,G){return Object.keys(G).reduce((O,p)=>{const q=Number(p);return O[q]=sanitizeAction(ce,G[q],q),O},{})}function sanitizeAction(ce,G,O){return Object.assign(Object.assign({},G),{action:ce(G.action,O)})}function sanitizeStates(ce,G){return G.map((O,p)=>({state:sanitizeState(ce,O.state,p),error:O.error}))}function sanitizeState(ce,G,O){return ce(G,O)}function shouldFilterActions(ce){return ce.predicate||ce.actionsSafelist||ce.actionsBlocklist}function filterLiftedState(ce,G,O,p){const q=[],F={},oe=[];return ce.stagedActionIds.forEach((W,ue)=>{const re=ce.actionsById[W];!re||ue&&isActionFiltered(ce.computedStates[ue],re,G,O,p)||(F[W]=re,q.push(W),oe.push(ce.computedStates[ue]))}),Object.assign(Object.assign({},ce),{stagedActionIds:q,actionsById:F,computedStates:oe})}function isActionFiltered(ce,G,O,p,q){const F=O&&!O(ce,G.action),oe=p&&!G.action.type.match(p.map(ue=>escapeRegExp(ue)).join("|")),W=q&&G.action.type.match(q.map(ue=>escapeRegExp(ue)).join("|"));return F||oe||W}function escapeRegExp(ce){return ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ce,G,O,p,q){if(p)return{state:O,error:"Interrupted by an error up the chain"};let oe,F=O;try{F=ce(O,G)}catch(W){oe=W.toString(),q.handleError(W)}return{state:F,error:oe}}function recomputeStates(ce,G,O,p,q,F,oe,W,ue){if(G>=ce.length&&ce.length===F.length)return ce;const re=ce.slice(0,G),ne=F.length-(ue?1:0);for(let Y=G;Y<ne;Y++){const $=F[Y],z=q[$].action,J=re[Y-1],Oe=J?J.state:p,Ae=J?J.error:void 0,Ke=oe.indexOf($)>-1?J:computeNextEntry(O,z,Oe,Ae,W);re.push(Ke)}return ue&&re.push(ce[ce.length-1]),re}function liftInitialState(ce,G){return{monitorState:G(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ce,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ce,G,O,p,q={}){return F=>(oe,W)=>{let{monitorState:ue,actionsById:re,nextActionId:ne,stagedActionIds:Y,skippedActionIds:$,committedState:z,currentStateIndex:J,computedStates:Oe,isLocked:Ae,isPaused:Ue}=oe||G;function Ke(Pe){let je=Pe,ve=Y.slice(1,je+1);for(let Ie=0;Ie<ve.length;Ie++){if(Oe[Ie+1].error){je=Ie,ve=Y.slice(1,je+1);break}delete re[ve[Ie]]}$=$.filter(Ie=>-1===ve.indexOf(Ie)),Y=[0,...Y.slice(je+1)],z=Oe[je].state,Oe=Oe.slice(je),J=J>je?J-je:0}function ae(){re={0:liftAction(INIT_ACTION)},ne=1,Y=[0],$=[],z=Oe[J].state,J=0,Oe=[]}oe||(re=Object.create(re));let me=0;switch(W.type){case LOCK_CHANGES:Ae=W.status,me=1/0;break;case PAUSE_RECORDING:Ue=W.status,Ue?(Y=[...Y,ne],re[ne]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ne++,me=Y.length-1,Oe=Oe.concat(Oe[Oe.length-1]),J===Y.length-2&&J++,me=1/0):ae();break;case RESET:re={0:liftAction(INIT_ACTION)},ne=1,Y=[0],$=[],z=ce,J=0,Oe=[];break;case COMMIT:ae();break;case ROLLBACK:re={0:liftAction(INIT_ACTION)},ne=1,Y=[0],$=[],J=0,Oe=[];break;case TOGGLE_ACTION:{const{id:Pe}=W;$=-1===$.indexOf(Pe)?[Pe,...$]:$.filter(ve=>ve!==Pe),me=Y.indexOf(Pe);break}case SET_ACTIONS_ACTIVE:{const{start:Pe,end:je,active:ve}=W,Ie=[];for(let ke=Pe;ke<je;ke++)Ie.push(ke);$=ve?difference($,Ie):[...$,...Ie],me=Y.indexOf(Pe);break}case JUMP_TO_STATE:J=W.index,me=1/0;break;case JUMP_TO_ACTION:{const Pe=Y.indexOf(W.actionId);-1!==Pe&&(J=Pe),me=1/0;break}case SWEEP:Y=difference(Y,$),$=[],J=Math.min(J,Y.length-1);break;case PERFORM_ACTION:{if(Ae)return oe||G;if(Ue||oe&&isActionFiltered(oe.computedStates[J],W,q.predicate,q.actionsSafelist,q.actionsBlocklist)){const je=Oe[Oe.length-1];Oe=[...Oe.slice(0,-1),computeNextEntry(F,W.action,je.state,je.error,O)],me=1/0;break}q.maxAge&&Y.length===q.maxAge&&Ke(1),J===Y.length-1&&J++;const Pe=ne++;re[Pe]=W,Y=[...Y,Pe],me=Y.length-1;break}case IMPORT_STATE:({monitorState:ue,actionsById:re,nextActionId:ne,stagedActionIds:Y,skippedActionIds:$,committedState:z,currentStateIndex:J,computedStates:Oe,isLocked:Ae,isPaused:Ue}=W.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:me=0,q.maxAge&&Y.length>q.maxAge&&(Oe=recomputeStates(Oe,me,F,z,re,Y,$,O,Ue),Ke(Y.length-q.maxAge),me=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Oe.filter(je=>je.error).length>0)me=0,q.maxAge&&Y.length>q.maxAge&&(Oe=recomputeStates(Oe,me,F,z,re,Y,$,O,Ue),Ke(Y.length-q.maxAge),me=1/0);else{if(!Ue&&!Ae){J===Y.length-1&&J++;const je=ne++;re[je]=new PerformAction(W,+Date.now()),Y=[...Y,je],me=Y.length-1,Oe=recomputeStates(Oe,me,F,z,re,Y,$,O,Ue)}Oe=Oe.map(je=>Object.assign(Object.assign({},je),{state:F(je.state,RECOMPUTE_ACTION)})),J=Y.length-1,q.maxAge&&Y.length>q.maxAge&&Ke(Y.length-q.maxAge),me=1/0}break;default:me=1/0}return Oe=recomputeStates(Oe,me,F,z,re,Y,$,O,Ue),ue=p(ue,W),{monitorState:ue,actionsById:re,nextActionId:ne,stagedActionIds:Y,skippedActionIds:$,committedState:z,currentStateIndex:J,computedStates:Oe,isLocked:Ae,isPaused:Ue}}}let DevtoolsDispatcher=(()=>{class ce extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ce.\u0275fac=function(){let G;return function(p){return(G||(G=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ce)))(p||ce)}}(),ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ce,G,O){this.config=G,this.dispatcher=O,this.devtoolsExtension=ce,this.createActionStreams()}notify(ce,G){if(this.devtoolsExtension)if(ce.type===PERFORM_ACTION){if(G.isLocked||G.isPaused)return;const O=unliftState(G);if(shouldFilterActions(this.config)&&isActionFiltered(O,ce,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const p=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,O,G.currentStateIndex):O,q=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ce,G.nextActionId):ce;this.sendToReduxDevtools(()=>this.extensionConnection.send(q,p))}else{const O=Object.assign(Object.assign({},G),{stagedActionIds:G.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,G.actionsById):G.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,G.computedStates):G.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,O,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ce=>{const G=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=G,G.init(),G.subscribe(O=>ce.next(O)),G.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ce=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),G=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.START)),O=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.STOP)),p=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(W=>this.unwrapAction(W.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(W=>W.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ue=>ue.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>W),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(W)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(W))),F=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(W=>this.unwrapAction(W.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),oe=p.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O));this.start$=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>F)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>oe))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ce){var G;const O={name:ce.name,features:ce.features,serialize:ce.serialize,autoPause:null!==(G=ce.autoPause)&&void 0!==G&&G};return!1!==ce.maxAge&&(O.maxAge=ce.maxAge),O}sendToReduxDevtools(ce){try{ce()}catch(G){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",G)}}}return DevtoolsExtension.\u0275fac=function ce(G){return new(G||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class ce{constructor(O,p,q,F,oe,W,ue,re){const ne=liftInitialState(ue,re.monitor),Y=liftReducerWith(ue,ne,W,re.monitor,re),$=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(p.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),F.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),O,F.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y)),J=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Oe=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ae},[me,Pe])=>{let je=Pe(ae,me);return me.type!==PERFORM_ACTION&&shouldFilterActions(re)&&(je=filterLiftedState(je,re.predicate,re.actionsSafelist,re.actionsBlocklist)),F.notify(me,je),{state:je,action:me}},{state:ne,action:null})).subscribe(({state:ae,action:me})=>{J.next(ae),me.type===PERFORM_ACTION&&oe.next(me.action)}),Ae=F.start$.subscribe(()=>{this.refresh()}),Ue=J.asObservable(),Ke=Ue.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ae,this.stateSubscription=Oe,this.dispatcher=O,this.liftedState=Ue,this.state=Ke}dispatch(O){this.dispatcher.next(O)}next(O){this.dispatcher.next(O)}error(O){}complete(){}performAction(O){this.dispatch(new PerformAction(O,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(O){this.dispatch(new ToggleAction(O))}jumpToAction(O){this.dispatch(new JumpToAction(O))}jumpToState(O){this.dispatch(new JumpToState(O))}importState(O){this.dispatch(new ImportState(O))}lockChanges(O){this.dispatch(new LockChanges(O))}pauseRecording(O){this.dispatch(new PauseRecording(O))}}return ce.\u0275fac=function(O){return new(O||ce)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ce,G){return Boolean(ce)||G.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ce="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[ce]?window[ce]:null}function createStateObservable(ce){return ce.state}let StoreDevtoolsModule=(()=>{class ce{static instrument(O={}){return{ngModule:ce,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:O},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return ce.\u0275fac=function(O){return new(O||ce)},ce.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ce}),ce.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ce})()},5620:(ce,G,O)=>{"use strict";O.d(G,{UO:()=>Pe,qg:()=>me,Y6:()=>ke,mK:()=>nr,n$:()=>jn,Y$:()=>vn,FR:()=>Fr,yh:()=>mr,Aw:()=>gi,wb:()=>Lr,PH:()=>Ae,Lq:()=>xs,on:()=>Ws,Ky:()=>Ue});var p=O(5e3),q=O(1135),F=O(8306),oe=O(7579),W=O(233),ue=O(4004),ne=O(5363),Y=O(1365),$=O(5026),z=O(1884);const J={};function Ae(X,$e){if(J[X]=(J[X]||0)+1,"function"==typeof $e)return ae(X,(...Te)=>Object.assign(Object.assign({},$e(...Te)),{type:X}));switch($e?$e._as:"empty"){case"empty":return ae(X,()=>({type:X}));case"props":return ae(X,Te=>Object.assign(Object.assign({},Te),{type:X}));default:throw new Error("Unexpected config.")}}function Ue(){return{_as:"props",_p:void 0}}function ae(X,$e){return Object.defineProperty($e,"type",{value:X,writable:!1})}const me="@ngrx/store/init";let Pe=(()=>{class X extends q.X{constructor(){super({type:me})}next(ge){if("function"==typeof ge)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ge)throw new TypeError("Actions must be objects");if(void 0===ge.type)throw new TypeError("Actions must have a type property");super.next(ge)}complete(){}ngOnDestroy(){super.complete()}}return X.\u0275fac=function(ge){return new(ge||X)},X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac}),X})();const je=[Pe],ve=new p.OlP("@ngrx/store Internal Root Guard"),Ie=new p.OlP("@ngrx/store Internal Initial State"),ke=new p.OlP("@ngrx/store Initial State"),ot=new p.OlP("@ngrx/store Reducer Factory"),ie=new p.OlP("@ngrx/store Internal Reducer Factory Provider"),we=new p.OlP("@ngrx/store Initial Reducers"),de=new p.OlP("@ngrx/store Internal Initial Reducers"),De=new p.OlP("@ngrx/store Store Features"),Se=new p.OlP("@ngrx/store Internal Store Reducers"),_e=new p.OlP("@ngrx/store Internal Feature Reducers"),Qe=new p.OlP("@ngrx/store Internal Feature Configs"),Me=new p.OlP("@ngrx/store Internal Store Features"),kt=new p.OlP("@ngrx/store Internal Feature Reducers Token"),an=new p.OlP("@ngrx/store Feature Reducers"),er=new p.OlP("@ngrx/store User Provided Meta Reducers"),yt=new p.OlP("@ngrx/store Meta Reducers"),Dt=new p.OlP("@ngrx/store Internal Resolved Meta Reducers"),pn=new p.OlP("@ngrx/store User Runtime Checks Config"),ln=new p.OlP("@ngrx/store Internal User Runtime Checks Config"),Tn=new p.OlP("@ngrx/store Internal Runtime Checks"),tn=new p.OlP("@ngrx/store Check if Action types are unique");function tr(X,$e={}){const ge=Object.keys(X),Te={};for(let et=0;et<ge.length;et++){const bt=ge[et];"function"==typeof X[bt]&&(Te[bt]=X[bt])}const it=Object.keys(Te);return function(bt,ir){bt=void 0===bt?$e:bt;let En=!1;const Vn={};for(let Xt=0;Xt<it.length;Xt++){const ti=it[Xt],Oi=bt[ti],sr=(0,Te[ti])(Oi,ir);Vn[ti]=sr,En=En||sr!==Oi}return En?Vn:bt}}function Wt(...X){return function($e){if(0===X.length)return $e;const ge=X[X.length-1];return X.slice(0,-1).reduceRight((it,et)=>et(it),ge($e))}}function Jr(X,$e){return Array.isArray($e)&&$e.length>0&&(X=Wt.apply(null,[...$e,X])),(ge,Te)=>{const it=X(ge);return(et,bt)=>it(et=void 0===et?Te:et,bt)}}class jn extends F.y{}class nr extends Pe{}const Lr="@ngrx/store/update-reducers";let hi=(()=>{class X extends q.X{constructor(ge,Te,it,et){super(et(it,Te)),this.dispatcher=ge,this.initialState=Te,this.reducers=it,this.reducerFactory=et}get currentReducers(){return this.reducers}addFeature(ge){this.addFeatures([ge])}addFeatures(ge){const Te=ge.reduce((it,{reducers:et,reducerFactory:bt,metaReducers:ir,initialState:En,key:Vn})=>{const Xt="function"==typeof et?function ei(X){const $e=Array.isArray(X)&&X.length>0?Wt(...X):ge=>ge;return(ge,Te)=>(ge=$e(ge),(it,et)=>ge(it=void 0===it?Te:it,et))}(ir)(et,En):Jr(bt,ir)(et,En);return it[Vn]=Xt,it},{});this.addReducers(Te)}removeFeature(ge){this.removeFeatures([ge])}removeFeatures(ge){this.removeReducers(ge.map(Te=>Te.key))}addReducer(ge,Te){this.addReducers({[ge]:Te})}addReducers(ge){this.reducers=Object.assign(Object.assign({},this.reducers),ge),this.updateReducers(Object.keys(ge))}removeReducer(ge){this.removeReducers([ge])}removeReducers(ge){ge.forEach(Te=>{this.reducers=function un(X,$e){return Object.keys(X).filter(ge=>ge!==$e).reduce((ge,Te)=>Object.assign(ge,{[Te]:X[Te]}),{})}(this.reducers,Te)}),this.updateReducers(ge)}updateReducers(ge){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Lr,features:ge})}ngOnDestroy(){this.complete()}}return X.\u0275fac=function(ge){return new(ge||X)(p.LFG(nr),p.LFG(ke),p.LFG(we),p.LFG(ot))},X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac}),X})();const cr=[hi,{provide:jn,useExisting:hi},{provide:nr,useExisting:Pe}];let vn=(()=>{class X extends oe.x{ngOnDestroy(){this.complete()}}return X.\u0275fac=function(){let $e;return function(Te){return($e||($e=p.n5z(X)))(Te||X)}}(),X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac}),X})();const Et=[vn];class Fr extends F.y{}let rn=(()=>{class X extends q.X{constructor(ge,Te,it,et){super(et);const Vn=ge.pipe((0,ne.Q)(W.N)).pipe((0,Y.M)(Te)).pipe((0,$.R)(Fn,{state:et}));this.stateSubscription=Vn.subscribe(({state:Xt,action:ti})=>{this.next(Xt),it.next(ti)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return X.INIT=me,X.\u0275fac=function(ge){return new(ge||X)(p.LFG(Pe),p.LFG(jn),p.LFG(vn),p.LFG(ke))},X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac}),X})();function Fn(X={state:void 0},[$e,ge]){const{state:Te}=X;return{state:ge(Te,$e),action:$e}}const is=[rn,{provide:Fr,useExisting:rn}];let mr=(()=>{class X extends F.y{constructor(ge,Te,it){super(),this.actionsObserver=Te,this.reducerManager=it,this.source=ge}select(ge,...Te){return dn.call(null,ge,...Te)(this)}lift(ge){const Te=new X(this,this.actionsObserver,this.reducerManager);return Te.operator=ge,Te}dispatch(ge){this.actionsObserver.next(ge)}next(ge){this.actionsObserver.next(ge)}error(ge){this.actionsObserver.error(ge)}complete(){this.actionsObserver.complete()}addReducer(ge,Te){this.reducerManager.addReducer(ge,Te)}removeReducer(ge){this.reducerManager.removeReducer(ge)}}return X.\u0275fac=function(ge){return new(ge||X)(p.LFG(Fr),p.LFG(Pe),p.LFG(hi))},X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac}),X})();const Pt=[mr];function dn(X,$e,...ge){return function(it){let et;if("string"==typeof X){const bt=[$e,...ge].filter(Boolean);et=it.pipe(function re(...X){const $e=X.length;if(0===$e)throw new Error("list of properties cannot be empty.");return(0,ue.U)(ge=>{let Te=ge;for(let it=0;it<$e;it++){const et=null==Te?void 0:Te[X[it]];if(void 0===et)return;Te=et}return Te})}(X,...bt))}else{if("function"!=typeof X)throw new TypeError(`Unexpected type '${typeof X}' in select operator, expected 'string' or 'function'`);et=it.pipe((0,ue.U)(bt=>X(bt,$e)))}return et.pipe((0,z.x)())}}const Wr="https://ngrx.io/guide/store/configuration/runtime-checks";function Nt(X){return void 0===X}function ct(X){return null===X}function Mt(X){return Array.isArray(X)}function fi(X){return"object"==typeof X&&null!==X}function Q(X){return"function"==typeof X}function zn(X){Object.freeze(X);const $e=Q(X);return Object.getOwnPropertyNames(X).forEach(ge=>{if(!ge.startsWith("\u0275")&&function le(X,$e){return Object.prototype.hasOwnProperty.call(X,$e)}(X,ge)&&(!$e||"caller"!==ge&&"callee"!==ge&&"arguments"!==ge)){const Te=X[ge];(fi(Te)||Q(Te))&&!Object.isFrozen(Te)&&zn(Te)}}),X}function pi(X,$e=[]){return(Nt(X)||ct(X))&&0===$e.length?{path:["root"],value:X}:Object.keys(X).reduce((Te,it)=>{if(Te)return Te;const et=X[it];return function se(X){return Q(X)&&X.hasOwnProperty("\u0275cmp")}(et)?Te:!(Nt(et)||ct(et)||function Yt(X){return"number"==typeof X}(et)||function Nn(X){return"boolean"==typeof X}(et)||function rr(X){return"string"==typeof X}(et)||Mt(et))&&(function ur(X){if(!function yr(X){return fi(X)&&!Mt(X)}(X))return!1;const $e=Object.getPrototypeOf(X);return $e===Object.prototype||null===$e}(et)?pi(et,[...$e,it]):{path:[...$e,it],value:et})},!1)}function Kn(X,$e){if(!1===X)return;const ge=X.path.join("."),Te=new Error(`Detected unserializable ${$e} at "${ge}". ${Wr}#strict${$e}serializability`);throw Te.value=X.value,Te.unserializablePath=ge,Te}function Fa(X){return(0,p.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},X):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ts({strictActionSerializability:X,strictStateSerializability:$e}){return ge=>X||$e?function Vr(X,$e){return function(ge,Te){$e.action(Te)&&Kn(pi(Te),"action");const it=X(ge,Te);return $e.state()&&Kn(pi(it),"state"),it}}(ge,{action:Te=>X&&!Si(Te),state:()=>$e}):ge}function lo({strictActionImmutability:X,strictStateImmutability:$e}){return ge=>X||$e?function Wi(X,$e){return function(ge,Te){const it=$e.action(Te)?zn(Te):Te,et=X(ge,it);return $e.state()?zn(et):et}}(ge,{action:Te=>X&&!Si(Te),state:()=>$e}):ge}function Si(X){return X.type.startsWith("@ngrx")}function xt({strictActionWithinNgZone:X}){return $e=>X?function Tr(X,$e){return function(ge,Te){if($e.action(Te)&&!p.R0b.isInAngularZone())throw new Error(`Action '${Te.type}' running outside NgZone. ${Wr}#strictactionwithinngzone`);return X(ge,Te)}}($e,{action:ge=>X&&!Si(ge)}):$e}function Gs(X){return[{provide:ln,useValue:X},{provide:pn,useFactory:nt,deps:[ln]},{provide:Tn,deps:[pn],useFactory:Fa},{provide:yt,multi:!0,deps:[Tn],useFactory:lo},{provide:yt,multi:!0,deps:[Tn],useFactory:Ts},{provide:yt,multi:!0,deps:[Tn],useFactory:xt}]}function Br(){return[{provide:tn,multi:!0,deps:[Tn],useFactory:qt}]}function nt(X){return X}function qt(X){if(!X.strictActionTypeUniqueness)return;const $e=Object.entries(J).filter(([,ge])=>ge>1).map(([ge])=>ge);if($e.length)throw new Error(`Action types are registered more than once, ${$e.map(ge=>`"${ge}"`).join(", ")}. ${Wr}#strictactiontypeuniqueness`)}let wn=(()=>{class X{constructor(ge,Te,it,et,bt,ir){}}return X.\u0275fac=function(ge){return new(ge||X)(p.LFG(Pe),p.LFG(jn),p.LFG(vn),p.LFG(mr),p.LFG(ve,8),p.LFG(tn,8))},X.\u0275mod=p.oAB({type:X}),X.\u0275inj=p.cJS({}),X})(),Ur=(()=>{class X{constructor(ge,Te,it,et,bt){this.features=ge,this.featureReducers=Te,this.reducerManager=it;const ir=ge.map((En,Vn)=>{const ti=Te.shift()[Vn];return Object.assign(Object.assign({},En),{reducers:ti,initialState:ss(En.initialState)})});it.addFeatures(ir)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return X.\u0275fac=function(ge){return new(ge||X)(p.LFG(Me),p.LFG(an),p.LFG(hi),p.LFG(wn),p.LFG(tn,8))},X.\u0275mod=p.oAB({type:X}),X.\u0275inj=p.cJS({}),X})(),gi=(()=>{class X{static forRoot(ge,Te={}){return{ngModule:wn,providers:[{provide:ve,useFactory:Gt,deps:[[mr,new p.FiY,new p.tp0]]},{provide:Ie,useValue:Te.initialState},{provide:ke,useFactory:ss,deps:[Ie]},{provide:de,useValue:ge},{provide:Se,useExisting:ge instanceof p.OlP?ge:de},{provide:we,deps:[p.zs3,de,[new p.tBr(Se)]],useFactory:On},{provide:er,useValue:Te.metaReducers?Te.metaReducers:[]},{provide:Dt,deps:[yt,er],useFactory:Hn},{provide:ie,useValue:Te.reducerFactory?Te.reducerFactory:tr},{provide:ot,deps:[ie,Dt],useFactory:Jr},je,cr,Et,is,Pt,Gs(Te.runtimeChecks),Br()]}}static forFeature(ge,Te,it={}){return{ngModule:Ur,providers:[{provide:Qe,multi:!0,useValue:ge instanceof Object?{}:it},{provide:De,multi:!0,useValue:{key:ge instanceof Object?ge.name:ge,reducerFactory:it instanceof p.OlP||!it.reducerFactory?tr:it.reducerFactory,metaReducers:it instanceof p.OlP||!it.metaReducers?[]:it.metaReducers,initialState:it instanceof p.OlP||!it.initialState?void 0:it.initialState}},{provide:Me,deps:[p.zs3,Qe,De],useFactory:Mi},{provide:_e,multi:!0,useValue:ge instanceof Object?ge.reducer:Te},{provide:kt,multi:!0,useExisting:Te instanceof p.OlP?Te:_e},{provide:an,multi:!0,deps:[p.zs3,_e,[new p.tBr(kt)]],useFactory:jt},Br()]}}}return X.\u0275fac=function(ge){return new(ge||X)},X.\u0275mod=p.oAB({type:X}),X.\u0275inj=p.cJS({}),X})();function On(X,$e){return $e instanceof p.OlP?X.get($e):$e}function Mi(X,$e,ge){return ge.map((Te,it)=>{if($e[it]instanceof p.OlP){const et=X.get($e[it]);return{key:Te.key,reducerFactory:et.reducerFactory?et.reducerFactory:tr,metaReducers:et.metaReducers?et.metaReducers:[],initialState:et.initialState}}return Te})}function jt(X,$e){return $e.map(Te=>Te instanceof p.OlP?X.get(Te):Te)}function ss(X){return"function"==typeof X?X():X}function Hn(X,$e){return X.concat($e)}function Gt(X){if(X)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ws(...X){return{reducer:X.pop(),types:X.map(Te=>Te.type)}}function xs(X,...$e){const ge=new Map;for(const Te of $e)for(const it of Te.types){const et=ge.get(it);ge.set(it,et?(ir,En)=>Te.reducer(et(ir,En),En):Te.reducer)}return function(Te=X,it){const et=ge.get(it.type);return et?et(Te,it):Te}}},5861:(ce,G,O)=>{"use strict";function p(F,oe,W,ue,re,ne,Y){try{var $=F[ne](Y),z=$.value}catch(J){return void W(J)}$.done?oe(z):Promise.resolve(z).then(ue,re)}function q(F){return function(){var oe=this,W=arguments;return new Promise(function(ue,re){var ne=F.apply(oe,W);function Y(z){p(ne,ue,re,Y,$,"next",z)}function $(z){p(ne,ue,re,Y,$,"throw",z)}Y(void 0)})}}O.d(G,{Z:()=>q})}},ce=>{ce(ce.s=6918)}]);